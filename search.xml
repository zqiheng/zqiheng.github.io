<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[SSMæ¡†æž¶ä¹‹Spring+SpringMVC+MyBaitsæ¡†æž¶æŠ€æœ¯æ•´åˆ]]></title>
    <url>%2F2018%2F10%2F22%2FSSM%E6%A1%86%E6%9E%B6%E4%B9%8BSpring%2BSpringMVC%2BMyBaits%E6%A1%86%E6%9E%B6%E6%8A%80%E6%9C%AF%E6%95%B4%E5%90%88%2F</url>
    <content type="text"><![CDATA[å‰è¨€ï¼šè¿™æ®µæ—¶é—´å­¦ä¹ äº†MyBatisçŸ¥è¯†ï¼Œè¿™ç¯‡æ–‡ç« è®°å½•ä¸‹SSMæ¡†æž¶çš„æ­å»ºè¿‡ç¨‹ï¼ŒSSMæ¡†æž¶æ˜¯çŽ°åœ¨ä¼ä¸šå¼€å‘ä¸­å¸¸è§çš„ä¸€ç§å¼€å‘æ¨¡å¼ï¼Œä¸‹é¢ä½¿ç”¨ä¸€ä¸ªç™»é™†ã€æ³¨å†Œçš„å°å®žä¾‹æ¥æ•´åˆè¿™ä¸‰ä¸ªæ¡†æž¶ã€‚ &emsp;&emsp;å¼€å‘å·¥å…·ï¼š Intellij IDEA 2018.1.5 JDK 8 Maven 3.5.3 Tomcat 9 MySql 5 &emsp;&emsp;åŠŸèƒ½è¦æ±‚ï¼šç”¨æˆ·é€šè¿‡urlè¿›å…¥ç™»é™†é¡µé¢ï¼Œå¦‚æœ‰è´¦å·åˆ™ç™»é™†ï¼Œæ²¡æœ‰åˆ™éœ€è¦æ³¨å†Œã€‚ æ•´åˆæ€è·¯ï¼šSpringMVCæ˜¯Springå¤§å®¶æ—ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼Œå› æ­¤æˆ‘ä»¬ä¸éœ€è¦æ•´åˆè¿™ä¸¤ä¸ªï¼Œåªéœ€è¦æ•´åˆSpringå’ŒMyBatiså³å¯ã€‚ 1. æ•°æ®åº“å»ºè¡¨&emsp;&emsp;åœ¨æ•°æ®åº“ä¸­æ–°å»ºä¸€ä¸ªuserç”¨æˆ·è¡¨ï¼ŒåŒ…å«å­—æ®µå¦‚ä¸‹ã€‚ id ï¼ˆä¸»é”®è‡ªå¢žï¼‰ username ï¼ˆç”¨æˆ·åï¼‰ account ï¼ˆç™»é™†è´¦å·ï¼‰ password ï¼ˆç™»é™†å¯†ç ï¼‰ gender ï¼ˆæ€§åˆ«ï¼‰ &emsp;&emsp;å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ 2. æ–°å»ºMavené¡¹ç›®&emsp;&emsp;ä½¿ç”¨Ideaæ–°å»ºä¸€ä¸ªMaven webappé¡¹ç›®ï¼Œå¹¶é…ç½®å¥½ Modules å’Œ Tomcat æœåŠ¡å™¨ã€‚ &emsp;&emsp;å…ˆç»™ä¸€å¼ é¡¹ç›®ç»“æž„å›¾ã€‚ 3. å¯¼å…¥é¡¹ç›®ä¾èµ–åŒ…&emsp;&emsp;åœ¨pom.xmlä¸­å¯¼å…¥é¡¹ç›®çš„ä¾èµ–åŒ…ã€‚ pom.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172&lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; &lt;!-- java ee jaråŒ… --&gt; &lt;javaee.version&gt;8.0&lt;/javaee.version&gt; &lt;!-- jstl jaråŒ… --&gt; &lt;jstl.version&gt;1.2&lt;/jstl.version&gt; &lt;!-- mysql-connectoråŒ… --&gt; &lt;mysql.version&gt;5.1.45&lt;/mysql.version&gt; &lt;!-- commons-dbcp --&gt; &lt;dbcp.version&gt;1.4&lt;/dbcp.version&gt; &lt;!-- mybatis-springæ•´åˆåŒ… --&gt; &lt;mybatis-spring.version&gt;1.3.1&lt;/mybatis-spring.version&gt; &lt;!-- springç‰ˆæœ¬å· --&gt; &lt;spring.version&gt;4.2.5.RELEASE&lt;/spring.version&gt; &lt;!-- mybatisç‰ˆæœ¬å· --&gt; &lt;mybatis.version&gt;3.4.6&lt;/mybatis.version&gt; &lt;!-- jacksonç‰ˆæœ¬å· --&gt; &lt;jackson.verson&gt;2.8.9&lt;/jackson.verson&gt; &lt;!-- junit --&gt; &lt;junit-version&gt;4.12&lt;/junit-version&gt; &lt;!-- cglib --&gt; &lt;cglib-version&gt;3.2.2&lt;/cglib-version&gt; &lt;!-- log4jæ—¥å¿—æ–‡ä»¶ç®¡ç†åŒ…ç‰ˆæœ¬ --&gt; &lt;slf4j.version&gt;1.7.21&lt;/slf4j.version&gt; &lt;log4j.version&gt;1.2.17&lt;/log4j.version&gt;&lt;/properties&gt;&lt;dependencies&gt; &lt;!-- å¯¼å…¥java ee jar åŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;javax&lt;/groupId&gt; &lt;artifactId&gt;javaee-api&lt;/artifactId&gt; &lt;version&gt;$&#123;javaee.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- jstlåŒ… --&gt; &lt;!-- JSTLæ ‡ç­¾ç±» --&gt; &lt;dependency&gt; &lt;groupId&gt;jstl&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;version&gt;$&#123;jstl.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- å¯¼å…¥Mysqlæ•°æ®åº“é“¾æŽ¥jaråŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;$&#123;mysql.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- dbcpæ•°æ®åº“è¿žæŽ¥æ± åŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-dbcp&lt;/groupId&gt; &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt; &lt;version&gt;$&#123;dbcp.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--mybatis-springæ•´åˆåŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;$&#123;mybatis-spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- mybatis-æ ¸å¿ƒåŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;$&#123;mybatis.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--spring-æ ¸å¿ƒåŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-aop&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- jacksonåŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;$&#123;jackson.verson&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; &lt;version&gt;$&#123;jackson.verson&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt; &lt;version&gt;$&#123;jackson.verson&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- æµ‹è¯•åŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;$&#123;junit-version&#125;&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- cglibåŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;cglib&lt;/groupId&gt; &lt;artifactId&gt;cglib&lt;/artifactId&gt; &lt;version&gt;$&#123;cglib-version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--æ—¥å¿—è®°å½•çš„jaråŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;$&#123;log4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; &lt;version&gt;$&#123;slf4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- aspectjweaveråŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.8.10&lt;/version&gt; &lt;/dependency&gt; &lt;!-- aspectjrt åŒ…--&gt; &lt;dependency&gt; &lt;groupId&gt;aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt; &lt;version&gt;1.5.3&lt;/version&gt; &lt;/dependency&gt; &lt;!--MD5åŠ å¯†å·¥å…·ä¾èµ–åŒ…--&gt; &lt;dependency&gt; &lt;groupId&gt;commons-codec&lt;/groupId&gt; &lt;artifactId&gt;commons-codec&lt;/artifactId&gt; &lt;version&gt;1.10&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt; &emsp;&emsp;æ³¨æ„ï¼šè¿™é‡Œéœ€è¦åœ¨ build ä¸­åŠ å…¥ä¸‹é¢é…ç½®ä»£ç  pom.xml12345678910111213141516171819 &lt;build&gt; &lt;finalName&gt;SSMDemo&lt;/finalName&gt; &lt;!-- è®©ideaè¯†åˆ« Mapper.mxl çš„æ˜ å°„æ–‡ä»¶å’Œå…¶ä»–é…ç½®æ–‡ä»¶ --&gt; &lt;!-- ä¹Ÿå¯ä»¥ä¸ç”¨é…ç½®è¿™é‡Œï¼Œè€Œæ˜¯æŠŠ cn.zqiheng.mapper è¿™ä¸ªå­åŒ…æ ‡è®°ä¸ºresourcesæ–‡ä»¶è¦ä¸ç„¶åœ¨ç¼–è¯‘çš„æ—¶å€™mybatisä¸­ä¼šæ‰¾ä¸åˆ°maapperçš„xmlå’Œå…¶å®ƒé…ç½®æ–‡ä»¶ --&gt; &lt;resources&gt; &lt;resource&gt; &lt;directory&gt;src/main/java&lt;/directory&gt; &lt;includes&gt; &lt;include&gt;**/*.properties&lt;/include&gt; &lt;include&gt;**/*.xml&lt;/include&gt; &lt;/includes&gt; &lt;filtering&gt;false&lt;/filtering&gt; &lt;/resource&gt; &lt;/resources&gt; &lt;/build&gt; 4. é…ç½®web.xmlæ–‡ä»¶ã€æ—¥å¿—æ–‡ä»¶ã€æ•°æ®åº“è¿žæŽ¥å±žæ€§é…ç½®æ–‡ä»¶&emsp;&emsp;JavaWebé¡¹ç›®å’Œæ ¸å¿ƒé…ç½®æ–‡ä»¶ã€‚å…¶ä¸­ä½¿ç”¨äº†DispatcherServletä½œä¸ºæ ¸å¿ƒæŽ§åˆ¶å™¨ã€‚web.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&lt;!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" "http://java.sun.com/dtd/web-app_2_3.dtd" &gt;&lt;web-app&gt; &lt;!-- åŠ è½½springæ•´åˆmybatisçš„å®¹å™¨ --&gt; &lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring-mybatis.xml&lt;/param-value&gt; &lt;/context-param&gt; &lt;!--è¿‡æ»¤å™¨ï¼šè§£å†³postæäº¤ä¸­æ–‡ä¹±ç å¤„ç†--&gt; &lt;filter&gt; &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;utf-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;forceEncoding&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt; &lt;!--è¿™é‡Œæ˜¯ /* ä¸æ˜¯ / --&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; &lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt; &lt;/listener&gt; &lt;!--SpringMVCçš„æ ¸å¿ƒæŽ§åˆ¶å™¨é…ç½®--&gt; &lt;servlet&gt; &lt;servlet-name&gt;SpringMVC&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!--ä¸‹é¢çš„contextConfigLocationé…ç½®springMVCåŠ è½½çš„é…ç½®æ–‡ä»¶ï¼Œæ˜ å°„å™¨ã€å¤„ç†å™¨ã€è§†å›¾è§£æžå™¨çš„æ–‡ä»¶--&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:springmvc.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;!--Servletæ˜ å°„ï¼Œæ‹¦æˆªæ‰€æœ‰urlè¯·æ±‚--&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;SpringMVC&lt;/servlet-name&gt; &lt;!--è¿™é‡Œæ˜¯ / ä¸æ˜¯ /* --&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; &emsp;&emsp;ä¸‹é¢è¿™ä¸ªæ—¥å¿—æ–‡ä»¶å¯ä»¥ä¸ç”¨æ”¹ï¼ˆç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šï¼‰ã€‚ log4j.xml12345678910111213141516171819&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;!DOCTYPE log4j:configuration SYSTEM "log4j.dtd"&gt;&lt;log4j:configuration debug="true"&gt; &lt;appender name="STDOUT" class="org.apache.log4j.ConsoleAppender"&gt; &lt;layout class="org.apache.log4j.PatternLayout"&gt; &lt;param name="ConversionPattern" value="%-5p %d&#123;MM-dd HH:mm:ss,SSS&#125; %m (%F:%L) \n" /&gt; &lt;/layout&gt; &lt;/appender&gt; &lt;logger name="java.sql"&gt; &lt;level value="debug" /&gt; &lt;/logger&gt; &lt;logger name="org.apache.ibatis"&gt; &lt;level value="debug" /&gt; &lt;/logger&gt; &lt;root&gt; &lt;level value="debug" /&gt; &lt;appender-ref ref="STDOUT" /&gt; &lt;/root&gt;&lt;/log4j:configuration&gt; &emsp;&emsp;æ•°æ®åº“å±žæ€§é…ç½®æ–‡ä»¶éœ€è¦æ”¹æˆè‡ªå·±çš„ç”¨æˆ·åå’Œå¯†ç ï¼ˆè¿™é‡Œç”¨çš„æ˜¯MySqlï¼‰ã€‚db.properties1234driver=com.mysql.jdbc.Driverurl=jdbc:mysql://localhost:3306/ssmdemo?useUnicode=true&amp;characterEncoding=UTF-8&amp;useSSL=trueuser=rootpassword=root 5. SpringMVCçš„è§†å›¾è§£æžå™¨é…ç½®springmvc.xml1234567891011121314151617181920212223&lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt; &lt;!--å¯ç”¨æ³¨è§£é©±åŠ¨--&gt; &lt;mvc:annotation-driven/&gt; &lt;!--æ‰«ææŒ‡å®šåŒ…ï¼Œæ³¨å†Œåˆ°springå·¥åŽ‚ä¸­--&gt; &lt;context:component-scan base-package="cn.zqiheng.controller"/&gt; &lt;!-- é…ç½®è§†å›¾è§£æžå™¨ --&gt; &lt;bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt; &lt;!-- jspæ‰€åœ¨çš„ä½ç½®ï¼ˆå‰ç¼€ï¼‰--&gt; &lt;!--ç»Ÿä¸€æ”¾åœ¨//WEB-INF/jsp/ ç›®å½•ä¸‹--&gt; &lt;property name="prefix" value="/WEB-INF/jsp/" /&gt; &lt;!-- jspæ–‡ä»¶çš„åŽç¼€--&gt; &lt;property name="suffix" value=".jsp" /&gt; &lt;/bean&gt;&lt;/beans&gt; 6. Springæ•´åˆMyBatisçš„é…ç½®æ–‡ä»¶&emsp;&emsp;å»ºç«‹ä¸€ä¸ªspring-mybatis.xmlæ–‡ä»¶ï¼Œå°†å¼€å§‹åœ¨mybatisä¸­çš„æ•°æ®åº“è¿žæŽ¥å’Œæ³¨å†ŒMapperæ˜ å°„æ–‡ä»¶ä»¥åŠSqlSessionFactoryBeanäº¤ç»™Springç®¡ç†ã€‚spring-mybatis.xml1234567891011121314151617181920212223242526272829303132333435363738&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt; &lt;!--è‡ªåŠ¨æ‰«ææŒ‡å®šåŒ…--&gt; &lt;context:component-scan base-package="cn.zqiheng.*"/&gt; &lt;!--å¼€å¯æ³¨è§£--&gt; &lt;context:annotation-config/&gt; &lt;!--å¯¼å…¥æ•°æ®åº“é…ç½®æ–‡ä»¶--&gt; &lt;context:property-placeholder location="classpath:db.properties"/&gt; &lt;!--é…ç½®æ•°æ®æº--&gt; &lt;bean id="datasource" class="org.springframework.jdbc.datasource.DriverManagerDataSource"&gt; &lt;property name="driverClassName" value="$&#123;driver&#125;"/&gt; &lt;property name="url" value="$&#123;url&#125;"/&gt; &lt;property name="username" value="$&#123;user&#125;"/&gt; &lt;property name="password" value="$&#123;password&#125;"/&gt; &lt;/bean&gt; &lt;!--Mybatisæ ¸å¿ƒé…ç½®ï¼Œå°†SqlSessionFactoryBeanäº¤ç»™Springç®¡ç†--&gt; &lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt; &lt;property name="dataSource" ref="datasource"/&gt; &lt;!--è¿™å¥è¯æ˜¯é…ç½®Mapperé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œå¦‚æžœé‡‡ç”¨æ³¨è§£çš„æ–¹å¼è¿™å¥è¯å¯ä»¥çœåŽ»--&gt; &lt;!--è·¯å¾„ç»Ÿä¸€æ”¾åœ¨cn/zqiheng/mapperä¸­--&gt; &lt;property name="mapperLocations" value="classpath:cn/zqiheng/mapper/*Mapper.xml"/&gt; &lt;!--è¿™é‡Œå¯ä»¥åŠ å…¥mybatisçš„æ€»é…ç½®æ–‡ä»¶--&gt; &lt;property name="configLocation" value="classpath:mybatis-config.xml"/&gt; &lt;/bean&gt; &lt;!--è‡ªåŠ¨æœç´¢Mapperçš„æŽ¥å£ï¼Œç»Ÿä¸€æ”¾åœ¨daoå±‚ä¸­--&gt; &lt;bean class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt; &lt;property name="basePackage" value="cn.zqiheng.dao"/&gt; &lt;/bean&gt;&lt;/beans&gt; &emsp;&emsp;Mybaitsçš„æ€»é…ç½®æ–‡ä»¶mybatis-config.xmlï¼ˆè™½ç„¶è¯´springæ•´åˆäº†mybatisï¼Œä½†æ˜¯ä¸ºäº†æ–¹ä¾¿ç»´æŠ¤å’Œå¯è¯»æ€§ï¼Œmybatisçš„é…ç½®æ–‡ä»¶ä¸­å¯ä»¥é…ç½®ä¸€äº›å…¶å®ƒå±žæ€§ï¼‰ã€‚mybatis-config.xml12345678910111213141516&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;!DOCTYPE configuration PUBLIC "_//mybatis.ort//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;&lt;configuration&gt; &lt;!-- settings æ ‡ç­¾ï¼Œå…¨å±€mybatiså±žæ€§é…ç½® --&gt; &lt;settings&gt; &lt;setting name="logImpl" value="LOG4J"/&gt; &lt;!-- å¼€å¯å»¶è¿ŸåŠ è½½ --&gt; &lt;setting name="lazyLoadingEnabled" value="true"/&gt; &lt;setting name="aggressiveLazyLoading" value="false"/&gt; &lt;!-- å¼€å¯äºŒçº§ç¼“å­˜ --&gt; &lt;setting name="cacheEnabled" value="true"/&gt; &lt;/settings&gt; &lt;!--ç±»å–åˆ«åç­‰ç­‰--&gt;&lt;/configuration&gt; 7. æ–°å»ºç”¨æˆ·å®žä½“ç±»ã€MD5åŠ å¯†å·¥å…·ç±»&emsp;&emsp;ç”¨æˆ·å®žä½“ç±»éœ€å’Œæ•°æ®åº“å¯¹åº”ä¸€è‡´ã€‚ user.java123456789101112131415161718192021222324252627282930313233package cn.zqiheng.pojo;/** * @author Heng * ç”¨æˆ·ç±»ï¼ˆidã€ç”¨æˆ·åã€è´¦å·ã€å¯†ç ã€æ€§åˆ«ï¼‰ */public class User &#123; /** * ä¸»é”®id */ private int id; /** * ç”¨æˆ·å */ private String username; /** * è´¦å·å */ private String account; /** * å¯†ç  */ private String password; /** * æ€§åˆ« */ private boolean gender; /** * æ­¤å¤„çœç•¥äº† getå’Œsetæ–¹æ³•ã€æž„é€ æ–¹æ³•ã€toStringæ–¹æ³• *?&#125; æ­¤å¤„MD5åŠ å¯†ç®—æ³•éšä¾¿åœ¨ç½‘ä¸Šæ‰¾äº†ä¸€ä¸ªï¼šå‚è€ƒèµ·ä¸ªåå­—å¥½éš¾ MD5.java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566package cn.zqiheng.tools;import java.security.MessageDigest;public class MD5 &#123; //å…¬ç› private static final String PUBLIC_SALT = "SSMDemo" ; //åå…­è¿›åˆ¶ä¸‹æ•°å­—åˆ°å­—ç¬¦çš„æ˜ å°„æ•°ç»„ private final static String[] hexDigits = &#123;"0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f"&#125;; /** * ç”¨æˆ·å¯†ç åŠ å¯†ï¼Œç›å€¼ä¸º ï¼šç§ç›+å…¬ç› * @param password å¯†ç  * @param salt ç§ç› * @return MD5åŠ å¯†å­—ç¬¦ä¸² */ public static String encryptPassword(String password,String salt)&#123; return encodeByMD5(PUBLIC_SALT+password+salt); &#125; /** * md5åŠ å¯†ç®—æ³• * @param originString * @return */ private static String encodeByMD5(String originString)&#123; if (originString != null)&#123; try&#123; //åˆ›å»ºå…·æœ‰æŒ‡å®šç®—æ³•åç§°çš„ä¿¡æ¯æ‘˜è¦ MessageDigest md = MessageDigest.getInstance("MD5"); //ä½¿ç”¨æŒ‡å®šçš„å­—èŠ‚æ•°ç»„å¯¹æ‘˜è¦è¿›è¡Œæœ€åŽæ›´æ–°ï¼Œç„¶åŽå®Œæˆæ‘˜è¦è®¡ç®— byte[] results = md.digest(originString.getBytes()); //å°†å¾—åˆ°çš„å­—èŠ‚æ•°ç»„å˜æˆå­—ç¬¦ä¸²è¿”å›ž String resultString = byteArrayToHexString(results); return resultString.toUpperCase(); &#125; catch(Exception ex)&#123; ex.printStackTrace(); &#125; &#125; return null; &#125; /** * è½¬æ¢å­—èŠ‚æ•°ç»„ä¸ºåå…­è¿›åˆ¶å­—ç¬¦ä¸² * @param * @return åå…­è¿›åˆ¶å­—ç¬¦ä¸² */ private static String byteArrayToHexString(byte[] b)&#123; StringBuffer resultSb = new StringBuffer(); for (int i = 0; i &lt; b.length; i++)&#123; resultSb.append(byteToHexString(b[i])); &#125; return resultSb.toString(); &#125; /** å°†ä¸€ä¸ªå­—èŠ‚è½¬åŒ–æˆåå…­è¿›åˆ¶å½¢å¼çš„å­—ç¬¦ä¸² */ private static String byteToHexString(byte b)&#123; int n = b; if (n &lt; 0) n = 256 + n; int d1 = n / 16; int d2 = n % 16; return hexDigits[d1] + hexDigits[d2]; &#125;&#125; 8. Daoå±‚å¼€å‘ã€Serviceå±‚å¼€å‘&emsp;&emsp;æ•°æ®æŒä¹…å±‚å¼€å‘ï¼Œå› ä¸ºè¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨MyBaitsæ“ä½œæ•°æ®åº“ï¼Œå› æ­¤ä¸éœ€è¦æŽ¥å£å®žçŽ°ç±»ã€‚UserDao.java12345678910111213141516171819202122232425262728293031package cn.zqiheng.dao;import cn.zqiheng.pojo.User;import org.apache.ibatis.annotations.Param;import org.springframework.stereotype.Repository;@Repositorypublic interface UserDao &#123; /** * æ£€æŸ¥ç™»é™†ä¿¡æ¯æ˜¯å¦æ­£ç¡® * @param account ç™»é™†è´¦æˆ· * @param password ç™»é™†å¯†ç  * @return User */ User checkLoginInfo(@Param("account") String account,@Param("password") String password); /** * æ£€æŸ¥æ˜¯å¦æœ‰è¯¥ç”¨æˆ·å­˜åœ¨ * @param account è´¦æˆ·å * @return User */ User isExistAccount(@Param("account") String account); /** * æ·»åŠ ç”¨æˆ·ä¿¡æ¯ï¼ˆæ³¨å†Œï¼‰ * @param user ç”¨æˆ·å®žä½“ç±» * @return è¿”å›žç»“æžœ */ Integer addUserInfo(User user);&#125; &emsp;&emsp;ä¸šåŠ¡å±‚Serviceå¼€å‘ï¼Œå¹¶æœ‰ä¸€ä¸ªæŽ¥å£å®žçŽ°ç±»ã€‚UserService.java1234567891011121314151617181920212223242526272829package cn.zqiheng.service;import cn.zqiheng.pojo.User;public interface UserService &#123; /** * Serviceå±‚ï¼Œæ ¹æ®ç”¨æˆ·ç™»é™†åå’Œå¯†ç åŒ¹é…æ•°æ®åº“ä¸­çš„ä¿¡æ¯ * @param account * @param password * @return */ User checkLoginInfo(String account,String password); /** * Serviceå±‚ï¼Œæ ¹æ®ç”¨æˆ·è´¦å·æ£€æµ‹æ•°æ®åº“ä¸­æ˜¯å¦å­˜åœ¨è¯¥è´¦å· * @param account * @return */ User isExistAccount(String account); /** * Serviceå±‚ï¼Œæ·»åŠ ç”¨æˆ·ä¿¡æ¯ï¼ˆæ³¨å†ŒåŠŸèƒ½ï¼‰ * @param user * @return */ Integer addUserInfo(User user);&#125; &emsp;&emsp;ServiceæŽ¥å£å®žçŽ°ç±»ã€‚ServiceImpl.java1234567891011121314151617181920212223242526272829package cn.zqiheng.service.impl;import cn.zqiheng.dao.UserDao;import cn.zqiheng.pojo.User;import cn.zqiheng.service.UserService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;@Servicepublic class UserServiceImpl implements UserService &#123; @Autowired private UserDao userDao; @Override public User checkLoginInfo(String account, String password) &#123; return userDao.checkLoginInfo(account,password); &#125; @Override public User isExistAccount(String account) &#123; return userDao.isExistAccount(account); &#125; @Override public Integer addUserInfo(User user) &#123; return userDao.addUserInfo(user); &#125;&#125; 9. Mapperæ˜ å°„æ–‡ä»¶ã€Controllerå±‚å¼€å‘&emsp;&emsp;æ ¹æ®å¯¹åº”çš„Daoå¼€å‘ç›¸åº”çš„Mapperæ˜ å°„æ–‡ä»¶ã€‚UserMapper.xml123456789101112131415161718192021222324252627282930&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;!DOCTYPE mapper PUBLIC "_//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="cn.zqiheng.dao.UserDao"&gt; &lt;!-- æ£€æµ‹æ•°æ®åº“ä¸­æ˜¯å¦å­˜åœ¨è¯¥ç”¨æˆ·ä¿¡æ¯ --&gt; &lt;select id="checkLoginInfo" resultType="cn.zqiheng.pojo.User"&gt; select * from user where account = #&#123;account&#125; and password = #&#123;password&#125; &lt;/select&gt; &lt;!-- æ£€æŸ¥æ•°æ®åº“ä¸­æ˜¯å¦å­˜åœ¨è¯¥è´¦å·ä¿¡æ¯ --&gt; &lt;select id="isExistAccount" resultType="cn.zqiheng.pojo.User"&gt; select * from user where account = #&#123;account&#125; &lt;/select&gt; &lt;!--æ·»åŠ ç”¨æˆ·ä¿¡æ¯--&gt; &lt;insert id="addUserInfo"&gt; insert into user(account,username,password,gender) values (#&#123;account&#125;,#&#123;username&#125;,#&#123;password&#125;,#&#123;gender&#125;) &lt;/insert&gt;&lt;/mapper&gt; &emsp;&emsp;URLè¯·æ±‚æ“ä½œçš„Controllerå±‚å¼€å‘ã€‚UserController.java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129package cn.zqiheng.controller;import cn.zqiheng.pojo.User;import cn.zqiheng.service.UserService;import cn.zqiheng.tools.MD5;import org.apache.log4j.Logger;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import org.springframework.web.bind.annotation.SessionAttributes;import org.springframework.web.bind.support.SessionStatus;import org.springframework.web.servlet.ModelAndView;import java.util.Map;@Controller@SessionAttributes("user")public class UserController &#123; private final static Logger LOG = Logger.getLogger(UserController.class); @Autowired private UserService userService; @RequestMapping( "/") public ModelAndView toHome(Map&lt;String,Object&gt;map)&#123; ModelAndView mav = new ModelAndView(); LOG.info("-----------------è°ƒç”¨toHomeæ–¹æ³•-----------------"); if(map.get("user") == null)&#123; mav.setViewName("redirect:/login"); &#125;else&#123; mav.setViewName("welcome"); &#125; return mav; &#125; /** * åŠ è½½ç™»é™†é¡µé¢ * @return */ @RequestMapping(value = "/login",method = RequestMethod.GET) public String getLogin(String msg)&#123; LOG.info("-----------------------åŠ è½½ç™»é™†é¡µé¢---------------------"); return "login"; &#125; /** * ç™»é™†è¡¨å•è¯·æ±‚å¤„ç† * @param u ç”¨æˆ·å®žä½“ç±» * @param map mapå…±äº«åŸŸ * @return */ @RequestMapping(value = "/login",method = RequestMethod.POST) public String login(User u, Map&lt;String,Object&gt; map)&#123; LOG.info(u); if(!u.getPassword().equals(""))&#123; u.setPassword(MD5.encryptPassword(u.getPassword(),u.getAccount())); &#125; LOG.info(u.getPassword()); if(!u.getAccount().equals("") &amp;&amp; !u.getPassword().equals(""))&#123; User user = userService.checkLoginInfo(u.getAccount(),u.getPassword()); LOG.info(user); if(user != null)&#123; map.put("user",user); //å­˜åœ¨ç”¨æˆ·ï¼Œé‡å®šå‘åˆ°è®¿é—®æ ¹ç›®å½• return "redirect:/"; &#125;else&#123; map.put("msg","éªŒè¯å¤±è´¥ï¼Œè¯·è¾“å…¥æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç ï¼"); map.put("loginUser",u); return "login"; &#125; &#125; //å°†éªŒè¯å¤±è´¥çš„æ¶ˆæ¯æ”¾åˆ°å…±äº«åŸŸå¯¹è±¡ä¸­ï¼Œç±»ä¼¼äºŽï¼šrequest.setAttribute ("msg", "éªŒè¯å¤±è´¥ï¼"); map.put("msg","è¯·è¾“å…¥ç”¨æˆ·åæˆ–å¯†ç ï¼"); map.put("loginUser",u); return "login"; &#125; /** * ç™»å‡ºæ“ä½œ * @param map * @param status * @return */ @RequestMapping("/logout") public String loginOut(Map&lt;String,Object&gt; map, SessionStatus status)&#123; LOG.info("---------------é€€å‡ºç™»é™†æ“ä½œ--------------------"); map.remove("user"); status.setComplete(); return "redirect:login"; &#125; /** * åŠ è½½æ³¨å†Œé¡µé¢ * @return */ @RequestMapping(value = "/register",method = RequestMethod.GET) public String getRegister()&#123; return "register"; &#125; /** * æ³¨å†Œç”¨æˆ·ä¿¡æ¯ * @param u è¡¨å•æäº¤çš„ç”¨æˆ·ä¿¡æ¯ * @param map mapå…±äº«åŸŸ * @return */ @RequestMapping(value = "/register",method = RequestMethod.POST) public String register(User u,Map&lt;String,Object&gt; map)&#123; LOG.info(u); //å¯†ç åŠ å¯†ä¿å­˜ if(!u.getPassword().equals(""))&#123; u.setPassword(MD5.encryptPassword(u.getPassword(),u.getAccount())); &#125; if(!u.getAccount().equals("") &amp;&amp; !u.getUsername().equals("") &amp;&amp; !u.getPassword().equals(""))&#123; int result = userService.addUserInfo(u); if(result &gt; 0)&#123; LOG.info("æ³¨å†Œç»“æžœä¿¡æ¯ï¼š"+result); return "redirect:login"; &#125; &#125; map.put("msg","è¯·è¾“å…¥å®Œæ•´çš„ä¿¡æ¯ï¼"); map.put("registerUser",u); return "register"; &#125;&#125; 10. jspé¡µé¢ç¼–è¾‘å¼€å‘login.jsp12345678910111213141516171819202122232425&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;&lt;%@ page import="cn.zqiheng.pojo.User" %&gt;&lt;% String msg = (String) request.getAttribute("msg"); User user = (User) request.getAttribute("loginUser");%&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;ç™»é™†é¡µé¢&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;form action="/login" method="post"&gt; è´¦&amp;nbsp;&amp;nbsp;&amp;nbsp;å·ï¼š&lt;input type="text" name="account" placeholder="æ‰‹æœºå·æˆ–é‚®ç®±" value="&lt;%= user == null ? "":user.getAccount()%&gt;"/&gt; &lt;br/&gt; å¯†&amp;nbsp;&amp;nbsp;&amp;nbsp;ç ï¼š&lt;input type="password" name="password"/&gt; &lt;br/&gt;&lt;br/&gt; &lt;input type="submit" value="ç™»é™†"/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;a href="/register"&gt;æ²¡æœ‰è´¦å·ï¼Ÿç‚¹å‡»æ³¨å†Œ&lt;/a&gt; &lt;/form&gt; &lt;h3 style="color: crimson"&gt;&lt;%= msg == null? "" : msg %&gt;&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt; register.jsp123456789101112131415161718192021222324252627282930&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;&lt;%@ page import="cn.zqiheng.pojo.User" %&gt;&lt;% String msg = (String) request.getAttribute("msg"); User user = (User) request.getAttribute("registerUser");%&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;ç”¨æˆ·æ³¨å†Œé¡µé¢&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;form action="/register" method="post"&gt; ç”¨æˆ·åï¼š&lt;input type="text" name="username" value="&lt;%= user==null?"":user.getUsername()%&gt;"/&gt; &lt;br/&gt; è´¦&amp;nbsp;&amp;nbsp;&amp;nbsp;å·ï¼š&lt;input type="text" name="account" placeholder="æ‰‹æœºå·æˆ–é‚®ç®±" value="&lt;%= user==null?"":user.getAccount() %&gt;"/&gt; &lt;br/&gt; å¯†&amp;nbsp;&amp;nbsp;&amp;nbsp;ç ï¼š&lt;input type="password" name="password"/&gt; &lt;br/&gt; æ€§&amp;nbsp;&amp;nbsp;&amp;nbsp;åˆ«ï¼š&lt;input type="radio" value="true" name="gender" checked&gt;ç”·&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;input type="radio" value="false" name="gender"&gt;å¥³&lt;br/&gt; &lt;input type="submit" value="æ³¨å†Œ"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;input type="reset" value="é‡ç½®"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;a href="/login"&gt;ç™»é™†&lt;/a&gt; &lt;/form&gt; &lt;h4 style="color: red"&gt;&lt;%= msg == null ? "":msg%&gt;&lt;/h4&gt;&lt;/body&gt;&lt;/html&gt; welcom.jsp1234567891011121314151617181920&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;&lt;%@ page import="cn.zqiheng.pojo.User" %&gt;&lt;% User user = (User) request.getAttribute("user");%&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;ç™»é™†é¡µé¢&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;%= user.getUsername() == null ? "":user.getUsername()%&gt; æ‚¨å¥½ï¼Œæ¬¢è¿Žç™»é™†ï¼ &lt;br/&gt;&lt;br/&gt;&lt;br/&gt; &lt;form action="/logout" method="post"&gt; &lt;input type="submit" value="é€€å‡ºç™»é™†ä¿¡æ¯"/&gt; &lt;/form&gt;&lt;/body&gt;&lt;/html&gt; 11. è¿è¡Œç»“æžœ&emsp;&emsp;å¯åŠ¨TomcatæœåŠ¡å™¨ï¼Œæ³¨å†Œè¿è¡Œç»“æžœå¦‚ä¸‹å›¾ã€‚ æ³¨å†Œé¡µé¢ æŽ§åˆ¶å°è¾“å‡º æ•°æ®åº“ç»“æžœ &emsp;&emsp;ç™»é™†ç»“æžœå¦‚ä¸‹å›¾ã€‚ ç™»é™†é¡µé¢ ç™»é™†æˆåŠŸé¡µé¢ &emsp;&emsp;æ€»ç»“ï¼šè¿™æ¬¡åœ¨SSMæ¡†æž¶æ•´åˆè¿‡ç¨‹ä¸­è¿˜æ˜¯å‡ºçŽ°äº†ä¸€äº›é”™è¯¯ã€‚æ¯”è¾ƒä¸¥é‡çš„ä¸€ä¸ªé”™è¯¯æ˜¯åœ¨å¼€å§‹æ­å»ºå®ŒæˆåŽï¼Œæµ‹è¯•æ˜¯å¦æ­£ç¡®çš„æ—¶å€™ï¼Œé¡¹ç›®è¿è¡Œå§‹ç»ˆæŠ¥é”™ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¼‚å¸¸æé†’ï¼Œç„¶åŽè°ƒè¯•äº†ä¸€ä¸ªå°æ—¶å·¦å³ï¼Œå‘çŽ°ä»£ç æ²¡æœ‰é”™ï¼Œæ˜¯æˆ‘è‡ªå·±æŠŠ db.properties æ•°æ®åº“é…ç½®urlä¸­çš„åœ°å€å†™é”™äº†ã€‚çœŸçš„æ˜¯ç»™è‡ªå·±æŒ–äº†ä¸€ä¸ªå¤§å‘ðŸ˜­ã€‚æ‰€ä»¥ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸€å®šè¦ä»”ç»†ã€è®¤çœŸã€‚OKï¼ŒSSMç®€å•çš„æ•´åˆè¿‡ç¨‹å°±è®°å½•åˆ°è¿™é‡Œäº†ï¼ŒåŽé¢æœ‰é—®é¢˜åœ¨è¡¥å……ã€‚]]></content>
      <categories>
        <category>Java</category>
        <category>Java EE</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Java EE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MyBatiså­¦ä¹ æ€»ç»“ï¼ˆäºŒï¼‰]]></title>
    <url>%2F2018%2F10%2F18%2FMyBatis%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93%EF%BC%88%E4%BA%8C%EF%BC%89%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;å‰é¢è®°å½•äº†MyBatisçš„ä¸€äº›èƒŒæ™¯ã€ç›¸å…³çŸ¥è¯†ä»¥åŠå¦‚ä½•ä½¿ç”¨MyBatisè¿›è¡Œæ•°æ®åº“çš„CRUDæ“ä½œï¼ŒæŽ¥ä¸‹æ¥å°±è®²è§£Mapper XMLæ–‡ä»¶å’ŒMyBatisè‡ªå¸¦çš„ç¼“å­˜æœºåˆ¶ã€‚ 1. Mapper XML&emsp;&emsp;MyBaits çœŸæ­£å¼ºå¤§å’Œæœ‰é­…åŠ›çš„åœ°æ–¹å°±åœ¨äºŽå®ƒçš„æ˜ å°„è¯­å¥ã€‚å®ƒå°†ä¼ ç»Ÿçš„JDBCæ“ä½œæ•°æ®åº“æ–¹å¼è¿›ä¸€æ­¥å°è£…ï¼Œä¼˜é›…è€Œåˆæœ‰å†…æ¶µçš„ç¼–ç¨‹æ–¹å¼ï¼Œçœç•¥äº†å¤§é‡æŒä¹…å±‚Javaé€»è¾‘ä»£ç ï¼Œå¼€å‘äººå‘˜ä¹Ÿåªéœ€è¦å†™å¥½SQLæ˜ å°„æ–‡ä»¶å³å¯ã€‚å¦‚æžœæ‹¿å®ƒè·Ÿå…·æœ‰ç›¸åŒåŠŸèƒ½çš„ JDBC ä»£ç è¿›è¡Œå¯¹æ¯”ï¼Œä½ ä¼šç«‹å³å‘çŽ°çœæŽ‰äº†å°†è¿‘ 95% çš„ä»£ç ã€‚MyBatis å°±æ˜¯é’ˆå¯¹ SQL æž„å»ºçš„ï¼Œå¹¶ä¸”æ¯”æ™®é€šçš„æ–¹æ³•åšçš„æ›´å¥½ã€‚ &emsp;&emsp;Mapper XMLæ–‡ä»¶æœ‰å‡ ä¸ªæ¯”è¾ƒé‡è¦çš„æ ‡ç­¾ï¼ˆä¸€ä¸ªMapper XMLæ–‡ä»¶å¯¹åº”ä¸€ä¸ªnamespaceã€å‘½åç©ºé—´ã€‘ï¼‰ã€‚ cache ==ã€‹ç»™å®šå‘½åç©ºé—´çš„äºŒçº§ç¼“å­˜é…ç½®ã€‚cache-ref ==ã€‹å…¶å®ƒå‘½åç©ºé—´çš„ç¼“å­˜å¼•ç”¨ã€‚resultMap ==ã€‹ç”¨æ¥æè¿°å¦‚å’Œä»Žæ•°æ®åº“ç»“æžœé›†ä¸­æ¥åŠ è½½å¯¹è±¡ã€‚sql ==ã€‹å¯ä»¥è¢«å…¶å®ƒè¯­å¥å¼•ç”¨çš„å¯é‡ç”¨ä»£ç insert ==ã€‹æ˜ å°„æ’å…¥è¯­å¥select ==ã€‹æ˜ å°„æŸ¥è¯¢è¯­å¥update ==ã€‹æ˜ å°„ä¿®æ”¹è¯­å¥delete ==ã€‹æ˜ å°„åˆ é™¤è¯­å¥ &emsp;&emsp;ä»¥ä¸Šçš„æ ‡ç­¾å…·ä½“ç”¨æ³•ï¼Œè¯·å‚è€ƒæ–‡æ¡£Mapper XMLè¯¦è§£ã€‚è¿™é‡Œæˆ‘å°±ä¸å†é‡å¤ï¼Œä¸‹é¢ä¼šç”¨ä¸€äº›å®žä¾‹æ¥è®²è§£å¦‚ä½•ä½¿ç”¨ã€‚ æ³¨ï¼šè¿™é‡Œç®€å•è®°å½•ä¸€ä¸‹MyBatisçš„åˆ†æ­¥æŸ¥è¯¢å’Œå»¶è¿ŸåŠ è½½ï¼ŒåŽé¢ä»£ç ä¸­ä¼šè¯¦ç»†å†™åˆ°ã€‚ ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯åˆ†æ­¥æŸ¥è¯¢å’Œå»¶è¿ŸåŠ è½½ï¼Ÿ&emsp;&emsp;åœ¨å¸¸ç”¨çš„çš„åº”ç”¨å¼€å‘ä¸­ï¼Œå¤šæ•°å®žä½“ä¹‹é—´æ˜¯ç›¸äº’å…³è”çš„ï¼Œæˆ‘ä»¬éœ€è¦æŸ¥è¯¢ä¸€ä¸ªå®žä½“çš„ä¿¡æ¯ï¼Œå¯ä»¥èŽ·å–å¯¹è±¡çš„å…¨éƒ¨å…³è”ä¿¡æ¯ï¼Œä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬åˆæƒ³è¦åœ¨ç”¨çš„æ—¶å€™å°±å¯ä»¥æŸ¥è¯¢å‡ºï¼Œä¸ç”¨çš„æ—¶å€™å°±ä¸ç”¨æŸ¥è¯¢ã€‚è¿™ä¸ªè§£å†³åŠžæ³•ï¼ŒMyBatiså°±ä½¿ç”¨ resultMap æ ‡ç­¾å’Œå…¶å­æ ‡ç­¾ association æ¥å¸®æˆ‘ä»¬å®žçŽ°ã€‚ ï¼ˆ2ï¼‰ä½¿ç”¨æ­¥éª¤ åœ¨æ€»é…ç½®æ–‡ä»¶ä¸­å¼€å¯å»¶è¿ŸåŠ è½½ 123&lt;!-- å¼€å¯å»¶è¿ŸåŠ è½½ --&gt;&lt;setting name="lazyLoadingEnabled" value="true"/&gt;&lt;setting name="aggressiveLazyLoading" value="false"/&gt; éœ€è¦åœ¨æŸ¥è¯¢ select æ˜ å°„è¯­å¥ä¸­è‡ªå®šä¹‰è¿”å›žç±»åž‹ resultMap å¹¶åœ¨å…¶ä¸­ä½¿ç”¨ association æ ‡ç­¾å…³è”å¦ä¸€ä¸ªæŸ¥è¯¢æ–¹æ³•ã€‚ 2. MyBatis ç¼“å­˜æœºåˆ¶&emsp;&emsp;å¯¹äºŽéœ€è¦é¢‘ç¹æŸ¥è¯¢çš„æ•°æ®ï¼Œå¦‚æžœæ²¡æœ‰é‡‡å–ç›¸åº”æŽªæ–½ï¼Œæˆ‘ä»¬åˆ™éœ€è¦ä¸€ç›´é‡å¤ è¿žæŽ¥æ•°æ®åº“-&gt;å‘èµ·SQLè¯­å¥-&gt;èŽ·å–ç»“æžœé›†-&gt;å…³é—­è¿žæŽ¥ï¼Œè¿™åœ¨æ•°æ®é‡æ¯”è¾ƒçš„å¤§åœºæ™¯ä¸‹è¿™ç®€ç›´å°±æ˜¯ç¾éš¾ï¼Œä¸ä»…è€—æ—¶ã€è€Œä¸”è¿˜å®¹æ˜“æŒ‚æŽ‰ç”šè‡³å‘ç”Ÿä¸å¯é¢„æµ‹çš„é—®é¢˜ã€‚å› æ­¤ï¼Œäººä»¬ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±åœ¨ä¸­é—´åŠ äº†æ•°æ®ç¼“å­˜æŠ€æœ¯ã€‚ç¼“å­˜æ˜¯è®¡ç®—æœºä¸­çš„ä¸€å—å­˜å‚¨åŒºåŸŸï¼ŒæŠŠæ•°æ®æ”¾å…¥åˆ°å­˜å‚¨åŒºåŸŸä¸­ï¼Œè¯»å–é€Ÿåº¦ä¼šå¾ˆå¿«ã€‚ 2.1 ä¸€çº§ç¼“å­˜&emsp;&emsp;MyBatis çš„ä¸€çº§ç¼“å­˜æ˜¯ SqlSession çº§åˆ«çš„ç¼“å­˜ï¼Œé»˜è®¤å¼€å¯ï¼Œç¼“å­˜æ•°æ®åœ¨ç¬¬ä¸€æ¬¡æŸ¥è¯¢æ—¶å°±æ”¾å…¥æœ¬åœ°ç¼“å­˜ï¼ˆLoacl Cacheï¼‰ä¸­ã€‚ &emsp;&emsp;ç¼“å­˜æœ‰æ•ˆæœŸï¼š å½“ä¸æ˜¯åŒä¸€ä¸ªSqlSessionå¯¹è±¡æ—¶ï¼Œä¸èƒ½è·¨sessionå…±äº«ç¼“å­˜æ•°æ®ã€‚ å½“SqlSessionå¯¹è±¡è°ƒç”¨äº†clearCache()æ–¹æ³•åŽï¼Œä¼šè‡ªåŠ¨æ¸…é™¤å½“å‰sessionçš„ç¼“å­˜ã€‚ å½“åœ¨ä¸¤æ¬¡ç›¸åŒçš„æŸ¥è¯¢ä¸­ï¼Œç©¿æ’äº†ï¼ˆæ–°å¢žã€ä¿®æ”¹ã€åˆ é™¤ï¼‰æ“ä½œæ—¶ï¼Œä¹Ÿä¼šè‡ªåŠ¨æ¸…ç†å½“å‰ç¼“å­˜ã€‚ å½“SqlSessionå¯¹è±¡å…³é—­æ—¶ï¼Œæ¸…é™¤ç¼“å­˜ã€‚ &emsp;&emsp;ä¸€çº§ç¼“å­˜å®žçŽ°åŽŸç†åŠæ€§èƒ½åˆ†æžï¼š ï¼ˆ1ï¼‰åŸºäºŽPerpetualCacheçš„HashMapæœ¬åœ°å­˜å‚¨ã€‚ ï¼ˆ2ï¼‰ä¸€çº§ç¼“å­˜é€šè¿‡ç®€å•çš„Mapé›†åˆæ¥å®žçŽ°ï¼Œå¹¶æ²¡æœ‰å¯¹Mapé›†åˆçš„å¤§å°ã€å®¹é‡è¿›è¡Œé™åˆ¶ã€‚ ï¼ˆ3ï¼‰ä¸€çº§ç¼“å­˜æ˜¯ä¸€ä¸ªç²—ç²’åº¦çš„ç¼“å­˜ï¼Œæ²¡æœ‰åŠžæ³•åŽ»ç²¾ç¡®æŽ§åˆ¶ç¼“å­˜ä¸­çš„æ•°æ®æ˜¯å¦å­˜åœ¨æ—¶é•¿ã€æ˜¯å¦è¿‡æœŸã€ä»¥åŠæ›´æ–°ç¼“å­˜æ•°æ®ã€‚ ï¼ˆ4ï¼‰å¤šä¸ªSqlSessionå¯¹è±¡ç¼“å­˜ä¸­çš„æ•°æ®æ— æ³•å…±äº«ã€‚ 2.2 äºŒçº§ç¼“å­˜&emsp;&emsp;MyBatis çš„äºŒçº§ç¼“å­˜æ˜¯Mapperï¼ˆnamespaceï¼‰çº§åˆ«çš„ç¼“å­˜ï¼Œå³ä¸€ä¸ªXMLæ˜ å°„æ–‡ä»¶å¯¹åº”ä¸€ä¸ªäºŒçº§ç¼“å­˜ã€‚äºŒçº§ç¼“å­˜ä¸Žä¸€çº§ç¼“å­˜å…¶æœºåˆ¶ç›¸åŒï¼Œé»˜è®¤ä¹Ÿæ˜¯é‡‡ç”¨ PerpetualCacheï¼ŒHashMapå­˜å‚¨ï¼Œä¸åŒåœ¨äºŽå…¶å­˜å‚¨ä½œç”¨åŸŸèŒƒå›´ï¼Œå¹¶ä¸”å¯è‡ªå®šä¹‰å­˜å‚¨æºï¼Œå¦‚ Ehcacheã€‚ &emsp;&emsp;äºŒçº§ç¼“å­˜éœ€è¦æˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨é…ç½®å’Œå¼€å¯ã€‚ ç¬¬ä¸€æ­¥ï¼šåœ¨MyBatisæ€»é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å¼€å¯äºŒçº§ç¼“å­˜ 1&lt;setting name="cacheEnabled" value="true"/&gt; ç¬¬äºŒæ­¥ï¼šåœ¨Mapper XML æ–‡ä»¶ä¸­åŠ å…¥æ ‡ç­¾ ç¬¬ä¸‰æ­¥ï¼šå®žä½“ç±»éœ€è¦å®žçŽ° Serializable æŽ¥å£ ç¬¬å››æ­¥ï¼šæŸ¥è¯¢è¯­å¥ select æ ‡ç­¾ä¸­åŠ å…¥å±žæ€§ useCache=â€trueâ€ &emsp;&emsp;äºŒçº§ç¼“å­˜åŽŸç†ã€‚ï¼ˆè¿™é‡Œå¼•ç”¨ä¸€å¼ å›¾ï¼‰ æ³¨ï¼š ï¼ˆ1ï¼‰å’Œä¸€çº§ç¼“å­˜ä¸€æ ·ï¼Œå½“æ‰§è¡Œäº†insertã€updateã€deleteç­‰æ“ä½œå¹¶commitæäº¤åŽå°±ä¼šæ¸…ç©ºäºŒçº§ç¼“å­˜åŒºåŸŸã€‚ ï¼ˆ2ï¼‰æŸ¥è¯¢æ•°æ®è¿‡ç¨‹ï¼šäºŒçº§ç¼“å­˜ ==ã€‹ä¸€çº§ç¼“å­˜ ==ã€‹æ•°æ®åº“ 2.3 ç¬¬ä¸‰æ–¹ç¼“å­˜&emsp;&emsp;åŒæ ·çš„ï¼ŒMyBatiså¼€æ”¾äº†CacheæŽ¥å£ï¼Œå¯ä»¥æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜ï¼ˆå¦‚Redisã€MemCachedï¼‰ï¼Œè¿™ä¸ªåŽé¢åœ¨è¡¥å……ã€‚ 3. ä»£ç å®žä¾‹&emsp;&emsp;æ³¨æ„ï¼šå…¶ä¸­å†™ä»£ç æ³¨é‡Šçš„æ¯”è¾ƒå¤šï¼Œæ˜¯æ¯”è¾ƒé‡è¦çš„çŸ¥è¯†ç‚¹ï¼Œå¯ä»¥ä»”ç»†çœ‹ä¸‹ã€‚ 3.1 å®žä½“ç±»&emsp;&emsp;å‰é¢å·²ç»è®²è¿‡äº†å¦‚ä½•ä½¿ç”¨MyBaitsä¸€çº§é¡¹ç›®æ­å»ºè¿‡ç¨‹ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œç›´æŽ¥åœ¨ä¸Šä¸€ä¸ªDemoä¸­æ–°å¢žä¸¤ä¸ªå®žä½“ç±»ï¼Œå­¦ç”Ÿ Student å’Œç­çº§ Clazzï¼ˆä¸ºäº†é¿å…å’Œclasså†²çªï¼‰ï¼Œå¤šä¸ªå­¦ç”Ÿå¯¹åº”ä¸€ä¸ªç­çº§ã€‚ Clazz.java12345678910111213141516171819package cn.zqiheng.po;import java.io.Serializable;/** * @author Heng * ç­çº§ç±» */public class Clazz implements Serializable &#123; //ä¸»é”®id private int c_id; //åç§° private String c_name; /** * ç¯‡å¹…é—®é¢˜ï¼Œè¿™é‡Œçœç•¥äº†æž„é€ æ–¹æ³•ã€set/getä»¥åŠtoString()æ–¹æ³•ã€‚ */&#125; Student.java12345678910111213141516171819202122package cn.zqiheng.po;import java.io.Serializable;/** * @author Heng * å­¦ç”Ÿç±» */public class Student implements Serializable &#123; //ä¸»é”®id private int id; //å§“å private String name; //æ€§åˆ« private boolean gender; //æ‰€å±žç­çº§ private Clazz clazz; /** * ç¯‡å¹…é—®é¢˜ï¼Œè¿™é‡Œçœç•¥äº†æž„é€ æ–¹æ³•ã€set/getä»¥åŠtoString()æ–¹æ³•ã€‚ */&#125; 3.2 Daoå±‚æŽ¥å£ClazzDao.java123456789101112131415161718192021222324package cn.zqiheng.dao;import cn.zqiheng.po.Clazz;import java.util.List;/** * @author Heng */public interface ClazzDao &#123; /** * èŽ·å–æ‰€æœ‰ç­çº§åˆ—è¡¨ * @return */ List&lt;Clazz&gt; getAllClazz(); /** * æ ¹æ®æŒ‡å®šidèŽ·å–ç­çº§ä¿¡æ¯ * @param id * @return */ Clazz getOneClazzById(int id);&#125; StudentDao.java123456789101112131415161718192021222324252627282930package cn.zqiheng.dao;import cn.zqiheng.po.Student;import java.util.List;/** * @author Heng */public interface StudentDao&#123; /** * èŽ·å–æ‰€æœ‰å­¦ç”Ÿåˆ—è¡¨ä¿¡æ¯ï¼ŒæŸ¥è¯¢æ•°æ®æ”¾å…¥äºŒçº§ç¼“å­˜ * @return */ List&lt;Student&gt; getAllStudent(); /** * é€šè¿‡å®žçŽ° association æ ‡ç­¾æ¥å°è£…å…³è”å±žæ€§å€¼ * @return */ List&lt;Student&gt; getAllStudent1(); /** * æ­¤æ–¹æ³•ç”¨æ¥æ¼”ç¤ºåˆ†æ­¥æŸ¥è¯¢ã€å»¶è¿ŸåŠ è½½ * @param id * @return */ Student getOneStudentById(int id);&#125; 3.3 Daoå±‚æ˜ å°„Mapper XMLæ–‡ä»¶&emsp;&emsp;æ³¨ï¼šæˆ‘æ‰€æœ‰çš„Mapper XMLé…ç½®æ–‡ä»¶å•ç‹¬æ”¾åœ¨Mavené¡¹ç›®çš„resourcesèµ„æºç›®å½•ä¸‹çš„ã€‚ ClazzMapper.xml123456789101112131415161718&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;!DOCTYPE mapper PUBLIC "_//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="cn.zqiheng.dao.ClazzDao"&gt; &lt;select id="getAllClazz" resultType="cn.zqiheng.po.Clazz"&gt; select * from clazz &lt;/select&gt; &lt;!-- å®žçŽ°åˆ†æ­¥æŸ¥è¯¢å’Œå»¶è¿ŸåŠ è½½ï¼Œåœ¨StudentMapper.xmlä¸­å…³è”æŸ¥è¯¢ --&gt; &lt;select id="getOneClazzById" resultType="cn.zqiheng.po.Clazz"&gt; select * from clazz where c_id = #&#123;c_id&#125; &lt;/select&gt; &lt;/mapper&gt; æ³¨ï¼šè¿™é‡Œå†™äº†ä¸€äº›æ³¨é‡Šï¼Œå¯ä»”ç»†é˜…è¯»ã€‚ StudentMapper.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;!DOCTYPE mapper PUBLIC "_//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="cn.zqiheng.dao.StudentDao"&gt; &lt;!-- å¼€å¯äºŒçº§ç¼“å­˜ eviction:ç¼“å­˜å›žæ”¶ç­–ç•¥ FIFOï¼šå…ˆè¿›å…ˆå‡º flushInterval:åˆ·æ–°é—´éš”ï¼Œå¯ä»¥è¢«è®¾ç½®ä¸ºä»»æ„çš„æ­£æ•´æ•°,è€Œä¸”å®ƒä»¬ä»£è¡¨ä¸€ä¸ªåˆç†çš„æ¯«ç§’ å½¢å¼çš„æ—¶é—´æ®µã€‚é»˜è®¤æƒ…å†µæ˜¯ä¸è®¾ç½®,ä¹Ÿå°±æ˜¯æ²¡æœ‰åˆ·æ–°é—´éš”,ç¼“å­˜ä»…ä»…è°ƒç”¨è¯­å¥æ—¶åˆ·æ–°ã€‚ size:å¼•ç”¨æ•°ç›®,å¯ä»¥è¢«è®¾ç½®ä¸ºä»»æ„æ­£æ•´æ•°,è¦è®°ä½ä½ ç¼“å­˜çš„å¯¹è±¡æ•°ç›®å’Œä½ è¿è¡ŒçŽ¯å¢ƒçš„ å¯ç”¨å†…å­˜èµ„æºæ•°ç›®ã€‚ readerOnly:åªè¯»ï¼Œåªè¯»çš„ç¼“å­˜ä¼šç»™æ‰€æœ‰è°ƒç”¨è€…è¿”å›žç¼“ å­˜å¯¹è±¡çš„ç›¸åŒå®žä¾‹ã€‚å› æ­¤è¿™äº›å¯¹è±¡ä¸èƒ½è¢«ä¿®æ”¹ã€‚è¿™æä¾›äº†å¾ˆé‡è¦çš„æ€§èƒ½ä¼˜åŠ¿ã€‚å¯è¯»å†™çš„ç¼“å­˜ ä¼šè¿”å›žç¼“å­˜å¯¹è±¡çš„æ‹·è´(é€šè¿‡åºåˆ—åŒ–) ã€‚è¿™ä¼šæ…¢ä¸€äº›,ä½†æ˜¯å®‰å…¨,å› æ­¤é»˜è®¤æ˜¯ falseã€‚ --&gt; &lt;cache eviction="FIFO" flushInterval="60000" size="512" readOnly="true"/&gt; &lt;!-- ä½¿ç”¨&lt;resultMap&gt;æ ‡ç­¾ï¼šå°è£…è‡ªå®šä¹‰è¿”å›žæ•°æ® ä½¿ç”¨&lt;association&gt;æ ‡ç­¾ï¼Œå¯ä»¥å®žçŽ°å¯¹å…³è”ç±»çš„å±žæ€§å°è£…ã€åˆ†æ­¥æŸ¥è¯¢ã€å»¶è¿ŸåŠ è½½ã€‚ã€‚ã€‚ --&gt; &lt;resultMap id="studentMap" type="cn.zqiheng.po.Student"&gt; &lt;!-- &lt;id&gt;ä¸ºä¸»é”®æ ‡ç­¾çš„å°è£…æ ¼å¼ï¼Œå…¶ä½™éƒ½ç”¨&lt;result&gt;æ ‡ç­¾ --&gt; &lt;id property="id" column="id"/&gt; &lt;result property="name" column="name"/&gt; &lt;result property="gender" column="gender"/&gt; &lt;!--å°è£…å…³è”ç±»çš„å±žæ€§--&gt; &lt;result property="clazz.c_id" column="c_id"/&gt; &lt;result property="clazz.c_name" column="c_name"/&gt; &lt;/resultMap&gt; &lt;!-- æƒ³è¦è®©å½“å‰æŸ¥è¯¢æ”¯æŒäºŒçº§ç¼“å­˜ï¼Œéœ€è¦åœ¨æ ‡ç­¾ä¸­åŠ å…¥ useCache="true" ï¼Œ å¦‚æžœä¸éœ€è¦å½“å‰æŸ¥è¯¢æ”¯æŒç¼“å­˜ æ”¹ä¸ºfalseå³å¯ï¼Œé»˜è®¤ä¸ºtrue ï¼Œ flushCache="true" è¯¥å±žæ€§ç”¨äºŽåˆ·æ–°ç¼“å­˜ï¼Œå°†å…¶è®¾ç½®ä¸º trueæ—¶ï¼Œä»»ä½•æ—¶å€™åªè¦è¯­å¥è¢«è°ƒç”¨ï¼Œéƒ½ä¼šå¯¼è‡´ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜éƒ½ä¼šè¢«æ¸…ç©ºï¼Œé»˜è®¤å€¼ï¼šfalseã€‚ --&gt; &lt;select id="getAllStudent" resultMap="studentMap" useCache="true" flushCache="false"&gt; select * from student s,clazz c where s.c_id = c.c_id &lt;/select&gt; &lt;!-- ä½¿ç”¨associationä»£æ›¿ä¸Šé¢å°è£…æ–¹æ³• --&gt; &lt;resultMap id="studentMap1" type="cn.zqiheng.po.Student"&gt; &lt;id property="id" column="id"/&gt; &lt;result property="name" column="name"/&gt; &lt;result property="gender" column="gender"/&gt; &lt;!--ä½¿ç”¨associationæ ‡ç­¾å°è£…å…³è”å±žæ€§--&gt; &lt;association property="clazz" javaType="cn.zqiheng.po.Clazz"&gt; &lt;id property="c_id" column="c_id"/&gt; &lt;result property="c_name" column="c_name"/&gt; &lt;/association&gt; &lt;/resultMap&gt; &lt;select id="getAllStudent1" resultMap="studentMap1"&gt; select * from student s,clazz c where s.c_id = c.c_id &lt;/select&gt; &lt;!--- åˆ†å¸ƒæŸ¥è¯¢+å»¶è¿ŸåŠ è½½ 1.é¦–å…ˆæŸ¥è¯¢å½“å‰å­¦ç”Ÿï¼Œå¾—åˆ°ç­çº§id 2.é€šè¿‡ç­çº§idæŸ¥è¯¢å‡ºç­çº§çš„ä¿¡æ¯ 3.å°†æŸ¥è¯¢çš„ç­çº§ä¿¡æ¯å°è£…åˆ°å‘˜å·¥å¯¹è±¡ä¸­ --&gt; &lt;resultMap id="selectByStep" type="cn.zqiheng.po.Student"&gt; &lt;id property="id" column="id"/&gt; &lt;result property="name" column="name"/&gt; &lt;result property="gender" column="gender"/&gt; &lt;!-- ä½¿ç”¨associationæ¥å®žçŽ°åˆ†æ­¥æŸ¥è¯¢ select:æŸ¥è¯¢æ–¹æ³•ï¼ˆå…¨ç±»å+æ–¹æ³•ï¼‰ cloumn:ä¼ å…¥æŸ¥è¯¢å‚æ•°ï¼ˆå³where æ¡ä»¶åŽçš„åˆ·é€‰æ¡ä»¶ï¼‰ æ³¨ï¼š 1.éœ€è¦å…³è”å¦ä¸€ä¸ªå®žä½“æŸ¥è¯¢æ–¹æ³•å¹¶é…ç½®äº†ç›¸å¯¹åº”çš„Mapper XMLæ˜ å°„è¯­å¥ã€‚ 2.è¿è¡Œæ­¤æ®µä»£ç ï¼Œä¼šå‘çŽ°å‘æ•°æ®åº“å‘å‡ºäº†ä¸¤æ¡æŸ¥è¯¢è¯­å¥ï¼Œå¦‚æžœæƒ³è¦å®žçŽ°åŽé¢çš„SQLè¯­å¥éœ€è¦çš„æ—¶å€™æ‰åŠ è½½ï¼Œ åˆ™éœ€è¦å¼€å¯å»¶è¿ŸåŠ è½½ï¼Œéœ€åœ¨ mybatis æ€»çš„é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯ã€‚ï¼ˆèŠ‚çœå†…å­˜çš„å¼€é”€å’ŒæŸ¥è¯¢æ—¶é—´ï¼‰ --&gt; &lt;association property="clazz" javaType="cn.zqiheng.po.Clazz" select="cn.zqiheng.dao.ClazzDao.getOneClazzById" column="c_id"/&gt; &lt;/resultMap&gt; &lt;select id="getOneStudentById" resultMap="selectByStep"&gt; select * from student where id = #&#123;id&#125; &lt;/select&gt;&lt;/mapper&gt; 3.4 Junitæµ‹è¯•ç±»StudentTest.java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129import cn.zqiheng.dao.StudentDao;import cn.zqiheng.po.Student;import cn.zqiheng.tools.SqlSessionTool;import org.apache.ibatis.session.SqlSession;import org.junit.Test;import java.util.List;public class StudentTest &#123; /** * èŽ·å–æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯ * resultMap æ ‡ç­¾å°è£…æµ‹ä¼¼ */ @Test public void getAllStudentTest()&#123; SqlSession session = null; try&#123; session = SqlSessionTool.getSession(); StudentDao studentDao = session.getMapper(StudentDao.class);// List&lt;Student&gt; list = studentDao.getAllStudent(); List&lt;Student&gt; list = studentDao.getAllStudent1(); System.out.println(list); &#125;catch (Exception e)&#123; e.printStackTrace(); &#125;finally &#123; SqlSessionTool.close(session); &#125; &#125; /** * åœ¨mapperæ˜ å°„æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨&lt;resultMap&gt;å’Œ&lt;association&gt;æ ‡ç­¾å®žçŽ°åˆ†æ­¥æŸ¥è¯¢ * åˆ†æ­¥æŸ¥è¯¢ï¼Œå»¶è¿ŸåŠ è½½æµ‹è¯• */ @Test public void getOneStudentByIdTest()&#123; SqlSession session = null; try&#123; session = SqlSessionTool.getSession(); StudentDao studentDao = session.getMapper(StudentDao.class); Student student = studentDao.getOneStudentById(2); /** * ç¬¬ä¸€æ­¥æµ‹è¯•ï¼šåªéœ€èŽ·å¾—å­¦ç”Ÿå§“å */ System.out.println(student.getName()); System.out.println("---------------------------------------"); /** * ç¬¬äºŒæ­¥æµ‹è¯•ï¼šéœ€è¦èŽ·å¾—å­¦ç”Ÿå§“åå’Œå…³è”çš„ç­çº§åç§° */ System.out.println(student.getClazz().getC_name()); &#125;catch (Exception e)&#123; e.printStackTrace(); &#125;finally &#123; SqlSessionTool.close(session); &#125; &#125; /** * Mybatis ä¸€çº§ç¼“å­˜æµ‹è¯• */ @Test public void chcheTest()&#123; SqlSession session = null; try&#123; session = SqlSessionTool.getSession(); StudentDao studentDao = session.getMapper(StudentDao.class); List&lt;Student&gt; list = studentDao.getAllStudent(); System.out.println("ç¬¬ä¸€æ¬¡æŸ¥è¯¢æ•°æ®ï¼š"+list); /** * æ‰‹åŠ¨æ¸…ç†ç¼“å­˜ */// session.clearCache();// session.close(); List&lt;Student&gt; list2 = studentDao.getAllStudent(); System.out.println("ç¬¬äºŒæ¬¡æŸ¥è¯¢æ•°æ®ï¼š"+list2); &#125;catch (Exception e)&#123; e.printStackTrace(); &#125;finally &#123; SqlSessionTool.close(session); &#125; &#125; /** * Mybatis äºŒçº§ç¼“å­˜æµ‹è¯• */ @Test public void chcheTest2()&#123; SqlSession session1 = null; SqlSession session2 = null; try&#123; session1 = SqlSessionTool.getSession(); StudentDao studentDao = session1.getMapper(StudentDao.class); List&lt;Student&gt; list = studentDao.getAllStudent(); System.out.println("ç¬¬ä¸€æ¬¡æŸ¥è¯¢æ•°æ®ï¼š"+list); /** * åœ¨æ–°çš„SqlSessionå¯¹è±¡ï¼Œä½¿ç”¨äºŒçº§ç¼“å­˜ä¸­çš„æ•°æ®çš„æ—¶å€™ï¼Œ * éœ€è¦æ‰‹åŠ¨å…³é—­å‰é¢çš„SqlSessionå¯¹è±¡ï¼Œæ•°æ®æ‰ä¼šåŠ è½½åˆ°äºŒçº§ç¼“å­˜ * * åœ¨æµ‹è¯•çš„æ—¶å€™ï¼šç¬¬ä¸€æ¬¡æˆ‘ä»¬ä¸å…³é—­ä¸Šä¸€ä¸ªä¼šè¯ã€ç¬¬äºŒæ¬¡å…³é—­ä¸Šä¸€ä¸ªä¼šè¯ */ session1.close(); //æ–°å»ºä¸€ä¸ªä¼šè¯ï¼ŒæŸ¥è¯¢æ•°æ®åº“ session2 = SqlSessionTool.getSession(); StudentDao studentDao2 = session2.getMapper(StudentDao.class); List&lt;Student&gt; list2 = studentDao2.getAllStudent(); System.out.println("ç¬¬äºŒæ¬¡æŸ¥è¯¢æ•°æ®ï¼š"+list2); &#125;catch (Exception e)&#123; e.printStackTrace(); &#125;finally &#123; SqlSessionTool.close(session1); SqlSessionTool.close(session2); &#125; &#125;&#125; 3.5 è¿è¡Œç»“æžœåˆ†æž&emsp;&emsp;ï¼ˆ1ï¼‰åˆ†æ­¥æŸ¥è¯¢ã€å»¶è¿ŸåŠ è½½æµ‹è¯•ç»“æžœåˆ†æž è¿è¡Œç»“æžœå›¾1ï¼ˆæ­¤æ—¶æˆ‘ä»¬åªéœ€è¦èŽ·å–å­¦ç”Ÿçš„å§“åï¼‰ è¿è¡Œç»“æžœå›¾2ï¼ˆæ­¤æ—¶æˆ‘ä»¬éœ€è¦èŽ·å–å­¦ç”Ÿçš„å§“åå’Œå­¦ç”Ÿæ‰€å¯¹åº”çš„ç­çº§åç§°ï¼‰ &emsp;&emsp;æ€»ç»“ï¼šä»Žä¸Šé¢ä¸¤å¼ ç»“æžœè¿è¡Œå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå½“æˆ‘ä»¬åªéœ€è¦èŽ·å–å¯¹è±¡æœ¬èº«çš„å±žæ€§æ—¶ï¼Œä¸ä¼šåŽ»åŠ è½½å…³è”å®žä½“ä¿¡æ¯ï¼Œåªæœ‰åœ¨éœ€è¦çš„æ—¶å€™æ‰åŽ»æŸ¥è¯¢ï¼Œè¿™æ ·èŠ‚çº¦å†…å­˜å¼€é”€å’Œå‡å°‘äº†è€—æ—¶æ“ä½œã€‚ &emsp;&emsp;(2)ä¸€çº§ç¼“å­˜æµ‹è¯•ç»“æžœåˆ†æž è¿è¡Œç»“æžœå›¾1ï¼ˆæ­¤æ—¶æˆ‘ä»¬åœ¨ä¸¤æ¬¡ç›¸åŒæŸ¥è¯¢ä¸­é—´æ‰‹åŠ¨æ¸…ç†äº†ç¼“å­˜ï¼‰ è¿è¡Œç»“æžœå›¾2ï¼ˆæ­¤æ—¶æˆ‘ä»¬åœ¨ä¸¤æ¬¡ç›¸åŒæŸ¥è¯¢ä¸­é—´æ²¡æœ‰åšä»»ä½•æ“ä½œï¼ˆåŒ…æ‹¬å¢žåˆ æ”¹ï¼‰ï¼‰ è¿è¡Œç»“æžœå›¾3ï¼ˆæ­¤æ—¶æˆ‘ä»¬åœ¨ä¸¤æ¬¡ç›¸åŒæŸ¥è¯¢ä¸­é—´æ‰‹åŠ¨å…³é—­sessionï¼‰ &emsp;&emsp;æ€»ç»“ï¼šä»Žä¸Šé¢å‡ æ¬¡è¿è¡Œç»“æžœå›¾å¯ä»¥çœ‹å‡ºï¼Œåœ¨ä¸¤æ¬¡ç›¸åŒçš„æŸ¥è¯¢æ“ä½œæ—¶ï¼ˆåŒä¸€ä¸ªsessionï¼‰ï¼ŒMyBatisä¼šä¼˜å…ˆåœ¨ç¼“å­˜ä¸­æŸ¥æ‰¾æ•°æ®ï¼Œå¦‚æžœæ²¡æœ‰ï¼Œæ‰ä¼šåŽ»æ•°æ®åº“æŸ¥æ‰¾ã€‚å¦‚æžœæ‰‹åŠ¨å…³é—­å½“å‰ä¼šè¯ï¼Œåˆ™SqlSessionä¼šè¯ç»“æŸï¼Œè‡ªåŠ¨æ¸…ç†ç¼“å­˜ã€‚ &emsp;&emsp;(3)äºŒçº§ç¼“å­˜æµ‹è¯•ç»“æžœåˆ†æž è¿è¡Œç»“æžœå›¾1ï¼ˆæ­¤æ—¶æˆ‘ä»¬åœ¨ä¸¤æ¬¡æŸ¥è¯¢ä¸­é—´æ²¡æœ‰å…³é—­ä¸Šä¸€ä¸ªSqlSessionå¯¹è±¡ä¼šè¯ï¼‰ è¿è¡Œç»“æžœå›¾2ï¼ˆæ­¤æ—¶æˆ‘ä»¬åœ¨ä¸¤æ¬¡æŸ¥è¯¢ä¸­é—´å…³é—­äº†ä¸Šä¸€ä¸ªSqlSessionå¯¹è±¡ä¼šè¯ï¼‰ &emsp;&emsp;æ€»ç»“ï¼šä»Žä¸Šé¢è¿è¡Œçš„ä¸¤æ¬¡ç»“æžœæ¥çœ‹ï¼ŒMyBatisçš„äºŒçº§ç¼“å­˜æ˜¯å¯ä»¥è¢«ä¸åŒsessionå…±äº«çš„ï¼Œå¹¶ä¸”åœ¨æŸ¥è¯¢ç›¸åŒæ“ä½œçš„æ—¶å€™ï¼ŒåŽé¢ä¸éœ€è¦åœ¨å»ºç«‹æ•°æ®åº“è¿žæŽ¥ã€‚è¿™ä¸ºå¼€å‘ä¸­æ•°æ®æŸ¥è¯¢é€Ÿåº¦å¸¦æ¥äº†æžå¤§çš„æ–¹ä¾¿ã€å’Œé«˜æ•ˆã€‚ &emsp;&emsp;MyBatisåªæ˜¯æˆ‘ä»¬åœ¨æ“ä½œæ•°æ®åº“æ—¶çš„ä¸€ç§ä¾¿åˆ©å·¥å…·ï¼Œå¦‚ä½•åŽ»è¿ç”¨å®ƒï¼Œè¿™å°±è¦çœ‹ä½ æƒ³ä¸æƒ³å­¦å¥½å®ƒã€‚å¥½äº†ï¼ŒåŸºç¡€å­¦ä¹ çŸ¥è¯†å°±åˆ°è¿™é‡Œäº†ï¼ŒåŽé¢åœ¨è¡¥å……MyBatisçš„è¿›é˜¶ç‰ˆã€‚]]></content>
      <categories>
        <category>Java</category>
        <category>Java EE</category>
        <category>Mybatis</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Java EE</tag>
        <tag>Mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MyBatiså­¦ä¹ æ€»ç»“ï¼ˆä¸€ï¼‰]]></title>
    <url>%2F2018%2F10%2F15%2FMyBatis%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93%EF%BC%88%E4%B8%80%EF%BC%89%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;å‰è¨€ï¼šMyBaitsæ˜¯çŽ°åœ¨ä¼ä¸šå¼€å‘ä½¿ç”¨è¾ƒå¤šçš„ä¸€ç§æ•°æ®åº“æ“ä½œå·¥å…·ï¼Œå¼€å§‹å­¦çš„æ˜¯JDBCå’ŒHibernateï¼Œæœ€è¿‘çœ‹å„ç§é¢è¯•é¢˜ï¼Œå‘çŽ°MyBatisæŠ€æœ¯æ˜¯ç”¨çš„æ¯”è¾ƒå¤šçš„ï¼Œå› æ­¤èŠ±äº†ä¸¤å¤©æ—¶é—´ç»¼åˆå­¦ä¹ ä¸‹ã€‚ 1. åˆè¯†MyBatis&emsp;&emsp;åœ¨ä»‹ç»MyBatisæŠ€æœ¯å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸‹MyBatisçš„èƒŒæ™¯ï¼Œä¸‹é¢ä¸€æ®µæ¥è‡ªç™¾åº¦ç™¾ç§‘å’Œå®˜æ–¹æ–‡æ¡£çš„è¯´æ˜Žã€‚ &emsp;&emsp;MyBatis æ˜¯apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´è¿™ä¸ªé¡¹ç›®ç”±apache software foundation è¿ç§»åˆ°äº†google codeï¼Œå¹¶ä¸”æ”¹åä¸ºMyBatis ã€‚2013å¹´11æœˆè¿ç§»åˆ°Githubã€‚MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æž¶ï¼Œå®ƒæ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis é¿å…äº†å‡ ä¹Žæ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠèŽ·å–ç»“æžœé›†ã€‚MyBatis å¯ä»¥ä½¿ç”¨ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŽŸç”Ÿä¿¡æ¯ï¼Œå°†æŽ¥å£å’Œ Java çš„ POJOs(Plain Ordinary Java Object,æ™®é€šçš„ Javaå¯¹è±¡)æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ã€‚ MyBatis å‚è€ƒæ–‡æ¡£ï¼šhttp://www.mybatis.org/mybatis-3/zh/index.html 2. MyBatis çš„ä¼˜ç¼ºç‚¹&emsp;&emsp;ä¼˜ç‚¹ï¼š ç®€å•æ˜“å­¦ï¼šæœ¬èº«å°±å¾ˆå°ä¸”ç®€å•ã€‚æ²¡æœ‰ä»»ä½•ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œæ˜“äºŽä½¿ç”¨ï¼Œé€šè¿‡æ–‡æ¡£å’Œæºä»£ç ï¼Œå¯ä»¥æ¯”è¾ƒå®Œå…¨çš„æŽŒæ¡å®ƒçš„è®¾è®¡æ€è·¯é»‘å®¢å®žçŽ°ã€‚ çµæ´»ï¼šMyBatisä¸ä¼šå¯¹åº”ç”¨ç¨‹åºæˆ–è€…æ•°æ®åº“çš„çŽ°æœ‰è®¾è®¡åŠ å¼ºä»»ä½•å½±å“ã€‚SQLå†™åœ¨xmlæ–‡ä»¶é‡Œï¼Œä¾¿äºŽç»Ÿä¸€ç®¡ç†å’Œä¼˜åŒ–ã€‚é€šè¿‡SQLåŸºæœ¬ä¸Šå¯ä»¥å®žçŽ°æˆ‘ä»¬ä¸ä½¿ç”¨æ•°æ®è®¿é—®æ¡†æž¶å¯ä»¥å®žçŽ°çš„æ‰€æœ‰åŠŸèƒ½ã€‚ æ¾è€¦åˆï¼šè§£é™¤äº†SQLä¸Žç¨‹åºä¸šåŠ¡é€»è¾‘ä»£ç çš„è€¦åˆï¼Œé€šè¿‡æä¾›DAOå±‚ï¼Œå°†ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®è®¿é—®é€»è¾‘åˆ†ç¦»ï¼Œä½¿ç³»ç»Ÿçš„è®¾è®¡æ›´æ¸…æ™°ï¼Œæ›´æ˜“ç»´æŠ¤ï¼Œæ›´æ˜“å•å…ƒæµ‹è¯•ã€‚SQLå’Œä»£ç çš„åˆ†ç¦»ï¼Œæé«˜äº†å¯ç»´æŠ¤æ€§ã€‚ æä¾›æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡ä¸Žæ•°æ®åº“çš„ORMå­—æ®µå…³ç³»æ˜ å°„ã€‚ æä¾›å¯¹è±¡å…³ç³»æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡å…³ç³»çš„ç»„å»ºç»´æŠ¤ã€‚ æä¾›xmlæ ‡ç­¾ï¼Œæ”¯æŒç¼–å†™åŠ¨æ€SQLã€‚ &emsp;&emsp;ç¼ºç‚¹ï¼š éœ€è¦å¤§é‡ç¼–å†™SQLè¯­å¥ï¼Œå°¤å…¶æ˜¯åœ¨å­—æ®µå¤šã€å…³è”å¤šè¡¨æ—¶ï¼Œæ›´æ˜¯å¦‚æ­¤ã€‚ SQLè¯­å¥ä¾èµ–äºŽæ•°æ®åº“ï¼Œå¯¼è‡´æ•°æ®åº“ç§»æ¤æ€§å·®ï¼Œé’ˆå¯¹ä¸åŒæ•°æ®åº“ï¼Œéœ€è¦ç¼–å†™ä¸åŒSQLè¯­è¨€ã€‚ ç¼“å­˜æœºåˆ¶ä¸ä½³ã€‚ ç­‰ç­‰â€¦ 3. MyBatis çš„åŠŸèƒ½æž¶æž„&emsp;&emsp;MyBatis çš„åŠŸèƒ½æž¶æž„å¤§è‡´å¯åˆ†ä¸ºä¸‰å±‚ã€‚ ï¼ˆ1ï¼‰APIæŽ¥å£å±‚ï¼šæä¾›ç»™å¤–éƒ¨ä½¿ç”¨çš„æŽ¥å£APIï¼Œå¼€å‘äººå‘˜é€šè¿‡è¿™äº›æœ¬åœ°APIæ¥æ“çºµæ•°æ®åº“ã€‚æŽ¥å£å±‚æŽ¥æ”¶åˆ°è°ƒç”¨è¯·æ±‚å°±ä¼šè°ƒç”¨æ•°æ®å¤„ç†å±‚æ¥å®Œæˆå…·ä½“çš„æ•°æ®å¤„ç†ã€‚ ï¼ˆ2ï¼‰æ•°æ®å¤„ç†å±‚ï¼šè´Ÿè´£å…·ä½“çš„SQLæŸ¥æ‰¾ã€SQLè§£æžã€SQLæ‰§è¡Œå’Œæ‰§è¡Œç»“æžœæ˜ å°„å¤„ç†ç­‰ã€‚å®ƒä¸»è¦çš„ç›®çš„æ˜¯æ ¹æ®è°ƒç”¨çš„è¯·æ±‚å®Œæˆä¸€æ¬¡æ•°æ®åº“æ“ä½œã€‚ ï¼ˆ3ï¼‰åŸºç¡€æ”¯æ’‘å±‚ï¼šè´Ÿè´£æœ€åŸºç¡€çš„åŠŸèƒ½æ”¯æ’‘ï¼ŒåŒ…æ‹¬è¿žæŽ¥ç®¡ç†ã€äº‹åŠ¡ç®¡ç†ã€é…ç½®åŠ è½½å’Œç¼“å­˜å¤„ç†ï¼Œè¿™äº›éƒ½æ˜¯å…±ç”¨çš„ä¸œè¥¿ï¼Œå°†ä»–ä»¬æŠ½å–å‡ºæ¥ä½œä¸ºæœ€åŸºç¡€çš„ç»„ä»¶ã€‚ä¸ºä¸Šå±‚çš„æ•°æ®å¤„ç†å±‚æä¾›æœ€åŸºç¡€çš„æ”¯æ’‘ã€‚ 4. MyBatis ä½¿ç”¨æ–¹æ³•&emsp;&emsp;è¯´äº†é‚£ä¹ˆå¤šæ¦‚å¿µé—®é¢˜ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥å®žé™…æ“ä½œä¸€ä¸‹ä½¿ç”¨MyBatisè¿›è¡Œæ•°æ®åº“çš„CRUDæ“ä½œã€‚ 4.1 ç¬¬ä¸€æ­¥ï¼šå¯¼å…¥jaråŒ…&emsp;&emsp;åœ¨ä½¿ç”¨ç¬¬ä¸‰æ–¹æ”¯æŒå·¥å…·å¼€å‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å…ˆå¯¼å…¥ç›¸å¯¹åº”çš„å¼€å‘æ”¯æŒ.jaråŒ…ã€‚å¦‚æžœæ˜¯æ™®é€šé¡¹ç›®ï¼Œè‡ªå·±åŽ»mavençš„åº“é‡Œä¸‹è½½ä¸€ä¸ª mybatis-x.x.x.jaræ–‡ä»¶æ”¾ç½®äºŽclasspathä¸‹å³å¯ï¼ˆä¸€èˆ¬æˆ‘ä»¬éƒ½ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ï¼‰ã€‚å¦‚æžœä½¿ç”¨çš„æ˜¯mavenæ¥æž„å»ºé¡¹ç›®ï¼Œåˆ™åªéœ€è¦å¯¼å…¥pom.xmlä¾èµ–å³å¯ã€‚è¿™é‡Œæˆ‘å»ºç«‹çš„æ˜¯ä¸€ä¸ªæ™®é€šçš„maven Javaé¡¹ç›®ï¼Œä¸‹é¢æ˜¯ä¾èµ–æ–‡ä»¶ä»£ç ã€‚ pom.xml12345678910111213141516171819202122232425262728293031323334353637383940&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;cn.zqiheng&lt;/groupId&gt; &lt;artifactId&gt;MybatisDemo&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;dependencies&gt; &lt;!-- mybatis --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.4.6&lt;/version&gt; &lt;/dependency&gt; &lt;!-- junit --&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- mysql --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.45&lt;/version&gt; &lt;/dependency&gt; &lt;!-- log4j --&gt; &lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;1.2.17&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; 4.2 ç¬¬äºŒæ­¥ï¼šé…ç½®mybatis-config.xmlæ–‡ä»¶ã€æ•°æ®åº“è¿žæŽ¥ä¿¡æ¯dp.propertiesæ–‡ä»¶ã€å’Œæ—¥å¿—log4j.xmlæ–‡ä»¶&emsp;&emsp;MyBatis çš„é…ç½®æ–‡ä»¶åŒ…å«äº†å½±å“MyBatisè¡Œä¸ºç”šæ·±çš„è®¾ç½®å’Œå±žæ€§ä¿¡æ¯ã€‚å…·ä½“é…ç½®æ ‡ç­¾å’Œå±žæ€§ï¼Œè¯·å‚è€ƒï¼šMyBatisçš„æ€»é…ç½®æ–‡ä»¶xmlé…ç½® mybatis-config.xml1234567891011121314151617181920212223242526272829303132333435363738&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;!DOCTYPE configuration PUBLIC "_//mybatis.ort//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;&lt;configuration&gt; &lt;!-- å¯¼å…¥é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨å½“å‰é¡µé¢ä½¿ç”¨ $&#123;key&#125; æ¥èŽ·å–é”®æ‰€å¯¹åº”çš„valueå€¼ --&gt; &lt;properties resource="db.properties"/&gt; &lt;!-- settings æ ‡ç­¾ï¼Œå…¨å±€mybatiså±žæ€§é…ç½® --&gt; &lt;settings&gt; &lt;setting name="logImpl" value="LOG4J"/&gt; &lt;!-- å¼€å¯å»¶è¿ŸåŠ è½½ --&gt; &lt;setting name="lazyLoadingEnabled" value="true"/&gt; &lt;setting name="aggressiveLazyLoading" value="false"/&gt; &lt;!-- å¼€å¯äºŒçº§ç¼“å­˜ --&gt; &lt;setting name="cacheEnabled" value="true"/&gt; &lt;/settings&gt; &lt;!-- æ•°æ®åº“è¿žæŽ¥ç›¸å…³é…ç½®ï¼ˆå°è£…äº†JDBCï¼‰--&gt; &lt;environments default="development"&gt; &lt;environment id="development"&gt; &lt;transactionManager type="JDBC"/&gt; &lt;dataSource type="POOLED"&gt; &lt;property name="driver" value="$&#123;driver&#125;"/&gt; &lt;property name="url" value="$&#123;url&#125;"/&gt; &lt;property name="username" value="$&#123;user&#125;"/&gt; &lt;property name="password" value="$&#123;password&#125;"/&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;/environments&gt; &lt;!-- æ³¨å†ŒSQLä»£ç å’Œæ˜ å°„å®šä¹‰ä¿¡æ¯ --&gt; &lt;mappers&gt; &lt;mapper resource="EmployeeMapper.xml"/&gt; &lt;mapper resource="ClazzMapper.xml"/&gt; &lt;mapper resource="StudentMapper.xml"/&gt; &lt;/mappers&gt;&lt;/configuration&gt; dp.properties1234driver=com.mysql.jdbc.Driverurl=jdbc:mysql://localhost:3306/jdbctestuser=rootpassword=root log4j.xml12345678910111213141516171819&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;!DOCTYPE log4j:configuration SYSTEM "log4j.dtd"&gt;&lt;log4j:configuration debug="true"&gt; &lt;appender name="STDOUT" class="org.apache.log4j.ConsoleAppender"&gt; &lt;layout class="org.apache.log4j.PatternLayout"&gt; &lt;param name="ConversionPattern" value="%-5p %d&#123;MM-dd HH:mm:ss,SSS&#125; %m (%F:%L) \n" /&gt; &lt;/layout&gt; &lt;/appender&gt; &lt;logger name="java.sql"&gt; &lt;level value="debug" /&gt; &lt;/logger&gt; &lt;logger name="org.apache.ibatis"&gt; &lt;level value="debug" /&gt; &lt;/logger&gt; &lt;root&gt; &lt;level value="debug" /&gt; &lt;appender-ref ref="STDOUT" /&gt; &lt;/root&gt;&lt;/log4j:configuration&gt; 4.3 ç¬¬ä¸‰æ­¥ï¼šè‡ªå·±é…ç½®ä¸€ä¸ªå·¥å…·ç±»&emsp;&emsp;è™½ç„¶MyBatisç»™æˆ‘ä»¬å°è£…äº†åº•å±‚JDBCè¿žæŽ¥æ•°æ®åº“çš„æ­¥éª¤ï¼Œä½†æ˜¯éœ€è¦æˆ‘ä»¬ä»Žæ€»é…ç½®æ–‡ä»¶ä¸­è¯»å–æ•°æ®åº“è¿žæŽ¥é…ç½®ä¿¡æ¯ï¼Œåœ¨è¿žæŽ¥æ•°æ®åº“æ¯æ¬¡éƒ½è¦æ“ä½œä¸€è¾¹æ¯”è¾ƒéº»çƒ¦ï¼Œå› æ­¤æˆ‘ä»¬è‡ªå·±ç®€å•çš„å°è£…ä¸‹ã€‚è¿™é‡Œçš„SqlSessionæ˜¯ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„æ–¹æ³•ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒSqlSessionæ–‡æ¡£ã€‚ SqlSessoinTool.java123456789101112131415161718192021222324252627282930313233343536373839package cn.zqiheng.tools;import org.apache.ibatis.io.Resources;import org.apache.ibatis.session.SqlSession;import org.apache.ibatis.session.SqlSessionFactory;import org.apache.ibatis.session.SqlSessionFactoryBuilder;import java.io.Reader;public class SqlSessionTool &#123; static SqlSession sqlSession; static SqlSessionFactory sqlSessionFactory; static&#123; try&#123; //èŽ·å–å½“å‰Mybatisæ€»é…ç½®æ–‡ä»¶çš„è·¯å¾„ String resource = "mybatis-config.xml"; //èŽ·å–å½“å‰é…ç½®æ–‡ä»¶çš„è¾“å…¥æµ Reader reader = Resources.getResourceAsReader(resource); //é€šè¿‡æµå¯¹è±¡ï¼Œæ¥åˆ›å»ºä¸€ä¸ªSqlSessionFactoryå¯¹è±¡ï¼Œæ•°æ®åº“ä¼šè¯å·¥åŽ‚ sqlSessionFactory = new SqlSessionFactoryBuilder().build(reader); &#125;catch (Exception e)&#123; e.printStackTrace(); &#125; &#125; public static SqlSession getSession()&#123; //é€šè¿‡æ•°æ®åº“ä¼šè¯å·¥åŽ‚ï¼Œå¼€å¯è·Ÿæ•°æ®åº“çš„ä¸€æ¬¡ä¼šè¯ sqlSession = sqlSessionFactory.openSession(); return sqlSession; &#125; public static void close(SqlSession session)&#123; if(session != null)&#123; session.close(); &#125; &#125;&#125; 4.4 ç¬¬å››æ­¥ï¼šæ–°å»ºPOJOç±»&emsp;&emsp;é¡¹ç›®ç»“æž„å›¾ï¼š Employee.java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869package cn.zqiheng.po;/** * @author æ’ * å‘˜å·¥ç±» */public class Employee &#123; //ä¸»é”®id private int id; //å§“å private String name; //æ€§åˆ«ï¼ˆtrueï¼šç”·ã€falseï¼šå¥³ï¼‰ private boolean gender; //åœ°å€ private String address; public Employee() &#123; &#125; public Employee(int id, String name, boolean gender, String address) &#123; this.id = id; this.name = name; this.gender = gender; this.address = address; &#125; public int getId() &#123; return id; &#125; public void setId(int id) &#123; this.id = id; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public boolean isGender() &#123; return gender; &#125; public void setGender(boolean gender) &#123; this.gender = gender; &#125; public String getAddress() &#123; return address; &#125; public void setAddress(String address) &#123; this.address = address; &#125; @Override public String toString() &#123; return "Employee&#123;" + "id=" + id + ", name='" + name + '\'' + ", gender=" + gender + ", address='" + address + '\'' + '&#125;'; &#125;&#125; 4.5 ç¬¬äº”æ­¥ï¼šå®šä¹‰Daoå±‚æŽ¥å£&emsp;&emsp;æ³¨æ„ï¼šè¿™é‡Œæ˜¯å®šä¹‰çš„ä¸€ä¸ªæŽ¥å£ï¼Œå¹¶æ²¡æœ‰å®žçŽ°ç±»ï¼ˆç›´æŽ¥äº¤ç»™MyBatiså¸®æˆ‘ä»¬å®žçŽ°ï¼‰ã€‚ EmployeeDao.java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124package cn.zqiheng.dao;import cn.zqiheng.po.Employee;import org.apache.ibatis.annotations.Param;import java.util.List;/** * @author Heng * å‘˜å·¥æ•°æ®æ“ä½œå±‚ï¼Œå®šä¹‰DaoæŽ¥å£ */public interface EmployeeDao &#123; /** * 1.å•ä¸ªå‚æ•°Mybatisä¸ä¼šåšç‰¹æ®Šå¤„ç† * ä½¿ç”¨ #&#123;key&#125; å–å€¼ * 2.ä¼ å…¥POJOå¯¹è±¡ * #&#123;å¯¹è±¡çš„å±žæ€§å&#125; * 3.å¤šä¸ªå‚æ•°,Mybatisä¼šåšç‰¹æ®Šå¤„ç†ï¼Œä¼šæŠŠä¼ å…¥çš„å‚æ•° è‡ªåŠ¨å°è£…æˆMapç±»åž‹ * Map çš„keyå€¼å°±æ˜¯ä»Žparam1....param10....paramN * map.put("param1",values); * map.put("param2",values); * åœ¨SQLè¯­å¥ä¸­å–å‚æ•° éœ€ä½¿ç”¨ #&#123;param1&#125;...#&#123;paramN&#125; * * æ³¨ï¼šæ‰‹åŠ¨æŒ‡å®šMapçš„keyå€¼ * åœ¨ä¼ å‚çš„æ–¹æ³•å‰ï¼Œä½¿ç”¨ @Param("key") æ³¨è§£ * å¦‚ï¼š List&lt;Employee&gt; queryListByNameAndGender(@Param("name") String name,@Param("gender") boolean gender); * 4.ç›´æŽ¥ä¼ å…¥Map * 5.Collectionï¼ˆé›†åˆï¼‰ç±»åž‹ï¼ˆListã€Setï¼‰ã€æ•°ç»„ * Mybatisä¹Ÿä¼šåšç‰¹æ®Šå¤„ç† * å¦‚æžœæ˜¯Listæˆ–Set ==ã€‹ å°è£…åˆ°Mapä¸­ * map.put("list",ä½ ä¼ å…¥çš„é›†åˆ); * å¦‚æžœæ—¶æ•°ç»„ * map.put("array",ä½ ä¼ å…¥çš„æ•°ç»„); */ /** * æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥é›†åˆ * @return */ List&lt;Employee&gt; getAllEmployee(); /** * æ ¹æ®id æŸ¥è¯¢æŒ‡å®šå‘˜å·¥ * @param id * @return */ Employee getOneById(int id); /** * æ’å…¥å‘˜å·¥ * @param employee * @return */ Integer insertEmployee(Employee employee); /** * ä¿®æ”¹å‘˜å·¥ * @param employee * @return */ Integer updateEmployee(Employee employee); /** * æ›´å…·id åˆ é™¤æŒ‡å®šå‘˜å·¥ * @param id * @return */ Integer deleteEmployee(int id); /** * å¤šæ¡ä»¶æŸ¥è¯¢(è·Ÿå§“åå’Œæ€§åˆ«æŸ¥è¯¢) * @param name * @param gender * @return */ List&lt;Employee&gt; queryListByNameAndGender(@Param("name") String name,@Param("gender") boolean gender); /** * åŠ¨æ€SQL * å•æ¡ä»¶.......if æ ‡ç­¾ä½¿ç”¨ * @param employee * @return */ List&lt;Employee&gt; queryListByIf(Employee employee); /** * åŠ¨æ€SQL * å¤šæ¡ä»¶......choose æ ‡ç­¾ä½¿ç”¨ * @param employee * @return */ List&lt;Employee&gt; queryListByChoose(Employee employee); /** * åŠ¨æ€SQL * trim æ ‡ç­¾ä½¿ç”¨ * @param employee * @return */ List&lt;Employee&gt; queryListByTrim(Employee employee); /** * åŠ¨æ€SQL * where æ ‡ç­¾ä½¿ç”¨ * @param employee * @return */ List&lt;Employee&gt; queryListByWhere(Employee employee); /** * æ‰¹é‡åˆ é™¤ * @param list ä¼ å…¥Listé›†åˆä¸ºå‚æ•° * @return */ Integer deleteByList(List&lt;Employee&gt; list); /** * æ‰¹é‡åˆ é™¤ * @param strs ä¼ å…¥æ•°ç»„ä¸ºå‚æ•° * @return */ Integer deleteByArray(int[] strs);&#125; 4.6 ç¬¬å…­æ­¥ï¼šå®žçŽ°Mapper.xmlæ˜ å°„æ–‡ä»¶&emsp;&emsp;æ³¨ï¼šè¿™é‡Œæˆ‘å°†xxxMapper.xmlæ–‡ä»¶ç»Ÿä¸€æ”¾åœ¨resourcesèµ„æºç›®å½•ä¸‹çš„ï¼Œåœ¨MyBatisæ€»é…ç½®æ–‡ä»¶ä¸­å¯ç›´æŽ¥è¯†åˆ«ï¼Œä¸éœ€è¦åŠ å…¨è·¯å¾„ã€‚Mapper.xmlé…ç½®æ–‡ä»¶é‡Œï¼Œä¸€ä¸ªæŽ¥å£å¯¹åº”ä¸€ä¸ªnamespaceç©ºé—´ï¼ˆè¦å’ŒPOJOç±»æ˜ å°„ä¹Ÿè¡Œï¼Œåªæ˜¯åœ¨è°ƒç”¨CRUDæ–¹æ³•æ—¶ç¨å¾®éº»çƒ¦ç‚¹ï¼Œè¿™é‡Œç»Ÿä¸€æ˜ å°„DaoæŽ¥å£å±‚ï¼‰ã€‚ EmployeeMapper.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;!DOCTYPE mapper PUBLIC "_//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="cn.zqiheng.dao.EmployeeDao"&gt; &lt;!--æ·»åŠ å‘˜å·¥ä¿¡æ¯--&gt; &lt;insert id="insertEmployee"&gt; insert into employee values(#&#123;id&#125;,#&#123;name&#125;,#&#123;address&#125;,#&#123;gender&#125;) &lt;/insert&gt; &lt;!--èŽ·å–æ‰€æœ‰å‘˜å·¥ä¿¡æ¯--&gt; &lt;select id="getAllEmployee" resultType="cn.zqiheng.po.Employee"&gt; select * from employee &lt;/select&gt; &lt;!--æ ¹æ®IdæŸ¥æ‰¾å‘˜å·¥ä¿¡æ¯--&gt; &lt;select id="getOneById" resultType="cn.zqiheng.po.Employee"&gt; select * from employee where id = #&#123;id&#125; &lt;/select&gt; &lt;!--ä¿®æ”¹å‘˜å·¥ä¿¡æ¯--&gt; &lt;update id="updateEmployee"&gt; update employee set name = #&#123;name&#125;,gender = #&#123;gender&#125;,address = #&#123;address&#125; where id = #&#123;id&#125; &lt;/update&gt; &lt;!--åˆ é™¤æŒ‡å®šå‘˜å·¥ä¿¡æ¯--&gt; &lt;delete id="deleteEmployee"&gt; delete from employee where id = #&#123;id&#125; &lt;/delete&gt; &lt;!--å¤šæ¡ä»¶æŸ¥è¯¢ï¼Œä¼ å…¥å¤šä¸ªå‚æ•°ï¼ŒString name,boolean gender å§“åé‡‡ç”¨æ¨¡ç³ŠåŒ¹é…--&gt; &lt;select id="queryListByNameAndGender" resultType="cn.zqiheng.po.Employee"&gt; &lt;!-- å¤šä¸ªå‚æ•°,Mybatisä¼šåšç‰¹æ®Šå¤„ç†ï¼Œä¼šæŠŠä¼ å…¥çš„å‚æ•° è‡ªåŠ¨å°è£…æˆMapç±»åž‹ Map çš„keyå€¼å°±æ˜¯ä»Žparam1....param10....paramN map.put("param1",values); map.put("param2",values); åœ¨SQLè¯­å¥ä¸­å–å‚æ•° éœ€ä½¿ç”¨ #&#123;param1&#125;...#&#123;paramN&#125; æ³¨ï¼šæ‰‹åŠ¨æŒ‡å®šMapçš„keyå€¼ åœ¨ä¼ å‚çš„æ–¹æ³•å‰ï¼Œä½¿ç”¨ @Param("key") æ³¨è§£ å¦‚ï¼š List&lt;Employee&gt; queryListByNameAndGender(@Param("name") String name,@Param("gender") boolean gender); #&#123;&#125;é»˜è®¤é‡‡ç”¨é¢„å¤„ç†çš„æ–¹å¼åŽ»å¤„ç†SQLè¯­å¥ $&#123;&#125;æ˜¯é‡‡ç”¨éžé¢„å¤„ç†çš„æ–¹å¼åŽ»å¤„ç†SQLè¯­å¥ --&gt; select * from employee where name like '$&#123;name&#125;%' and gender = #&#123;gender&#125; &lt;/select&gt; &lt;!-- åŠ¨æ€SQL--&gt; &lt;!-- if --&gt; &lt;select id="queryListByIf" resultType="cn.zqiheng.po.Employee"&gt; select * from employee where 1 = 1 &lt;if test="name != null"&gt; and name like '$&#123;name&#125;%' &lt;/if&gt; &lt;/select&gt; &lt;!-- choose å¤šæ¡ä»¶ (å¤šä¸ªæ¡ä»¶ä¸­é€‰æ‹©ä¸€ä¸ª)--&gt; &lt;select id="queryListByChoose" resultType="cn.zqiheng.po.Employee"&gt; select * from employee where 1 = 1 &lt;choose&gt; &lt;when test="name != null"&gt; and name like '$&#123;name&#125;%' &lt;/when&gt; &lt;when test="address != null"&gt; and address = #&#123;address&#125; &lt;/when&gt; &lt;otherwise&gt; order by name &lt;/otherwise&gt; &lt;/choose&gt; &lt;/select&gt; &lt;!-- trim å¤„ç†åŠ¨æ€SQLè¯­å¥æ‹¼æŽ¥æ—¶ 1=1 çš„é—®é¢˜--&gt; &lt;select id="queryListByTrim" resultType="cn.zqiheng.po.Employee"&gt; select * from employee &lt;trim prefix="where" prefixOverrides="AND | OR"&gt; &lt;if test="name != null"&gt; name like '$&#123;name&#125;%' &lt;/if&gt; &lt;if test="address != null"&gt; and address = #&#123;address&#125; &lt;/if&gt; &lt;/trim&gt; &lt;/select&gt; &lt;!--where æ ‡ç­¾ä½¿ç”¨--&gt; &lt;select id="queryListByWhere" resultType="cn.zqiheng.po.Employee"&gt; select * from employee &lt;where&gt; &lt;if test="name != null"&gt; name like '$&#123;name&#125;%' &lt;/if&gt; &lt;if test="address != null"&gt; and address = #&#123;address&#125; &lt;/if&gt; &lt;/where&gt; &lt;/select&gt; &lt;!-- ä½¿ç”¨Listé›†åˆä½œä¸ºå…¥å‚, ä½¿ç”¨&lt;foreach/&gt;æ ‡ç­¾éåŽ†ä¼ å…¥çš„List --&gt; &lt;delete id="deleteByList" &gt; delete from employee where id in &lt;foreach collection="list" open="(" separator="," close=")" item="i"&gt; #&#123;i&#125; &lt;/foreach&gt; &lt;/delete&gt; &lt;!-- ä½¿ç”¨æ•°ç»„ä½œä¸ºå…¥å‚, ä½¿ç”¨&lt;foreach/&gt;æ ‡ç­¾éåŽ†ä¼ å…¥çš„array --&gt; &lt;delete id="deleteByArray" &gt; delete from employee where id in &lt;foreach collection="array" open="(" separator="," close=")" item="i"&gt; #&#123;i&#125; &lt;/foreach&gt; &lt;/delete&gt; &lt;/mapper&gt; 4.7 ç¬¬ä¸ƒæ­¥ï¼šç¼–å†™æµ‹è¯•ç±»&emsp;&emsp;è¿™é‡Œæˆ‘é‡‡ç”¨çš„æ˜¯junitæ–¹æ³•æµ‹è¯•ã€æ—¥å¿—è¾“å‡ºé‡‡ç”¨log4jï¼Œéƒ½éœ€è¦å¯¼å…¥å¯¹åº”çš„pomä¾èµ–ï¼Œå‰é¢æˆ‘ä»¬å·²ç»å¯¼å…¥ã€‚ EmployeeTest.java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205import cn.zqiheng.dao.EmployeeDao;import cn.zqiheng.po.Employee;import cn.zqiheng.tools.SqlSessionTool;import org.apache.ibatis.session.SqlSession;import org.junit.Test;import java.util.ArrayList;import java.util.List;public class EmployeeTest &#123; /** * æŸ¥è¯¢æ•°æ®åº“ä¸­æ‰€æœ‰æ•°æ® * @throws Exception */ @Test public void selectAllTest() throws Exception&#123; SqlSession session = null; try&#123; //èŽ·å–sessinä¼šè¯ session = SqlSessionTool.getSession(); //é€šè¿‡ä»£ç†èŽ·å–EmployeeDaoå¯¹è±¡ EmployeeDao employeeDao = session.getMapper(EmployeeDao.class); List&lt;Employee&gt; list= employeeDao.getAllEmployee(); System.out.println(list); &#125;catch (Exception e)&#123; e.printStackTrace(); &#125;finally &#123; SqlSessionTool.close(session); &#125; &#125; /** * å‘æ•°æ®åº“ä¸­æ’å…¥æ•°æ® * @throws Exception */ @Test public void selectTest1() throws Exception&#123; SqlSession session = null; try&#123; session = SqlSessionTool.getSession(); //åˆ›å»ºæŽ¥å£å¯¹è±¡ã€‚è¿™ä¸ªæ˜¯sessionoå¯¹è±¡é€šè¿‡åŠ¨æ€ä»£ç†è‡ªåŠ¨å¸®æˆ‘ä»¬åˆ›å»ºçš„ã€‚Proxyä»£ç† EmployeeDao employeeDao = session.getMapper(EmployeeDao.class); Employee employee = new Employee(4,"æŽå››",false,"åŒ—äº¬"); //è°ƒç”¨EmployeeDaoæ–¹æ³•ï¼Œæ’å…¥æ•°æ® int i = employeeDao.insertEmployee(employee); System.out.println(i); //æäº¤äº‹åŠ¡ session.commit(); &#125;catch(Exception e)&#123; e.printStackTrace(); &#125;finally &#123; //å…³é—­ä¼šè¯ SqlSessionTool.close(session); &#125; &#125; /** * æ ¹æ®idæŸ¥è¯¢æŒ‡å®šå‘˜å·¥ */ @Test public void selectOneTest()&#123; SqlSession session = null; try&#123; session = SqlSessionTool.getSession(); EmployeeDao employeeDao = session.getMapper(EmployeeDao.class); Employee employee = employeeDao.getOneById(1); System.out.println(employee); &#125;catch (Exception e)&#123; e.printStackTrace(); &#125;finally &#123; SqlSessionTool.close(session); &#125; &#125; /** * ä¿®æ”¹å‘˜å·¥ä¿¡æ¯ */ @Test public void updateEmployeeTest()&#123; SqlSession session = null; try&#123; session = SqlSessionTool.getSession(); EmployeeDao employeeDao = session.getMapper(EmployeeDao.class); Employee employee = new Employee(4,"Tom",true,"Japan"); employeeDao.updateEmployee(employee); session.commit(); &#125;catch (Exception e)&#123; e.printStackTrace(); &#125;finally &#123; SqlSessionTool.close(session); &#125; &#125; /** * æ ¹æ®æŒ‡å®šid åˆ é™¤ä¸€ä¸ªå‘˜å·¥ä¿¡æ¯ */ @Test public void deleteEmployeeTest()&#123; SqlSession session = null; try&#123; session = SqlSessionTool.getSession(); EmployeeDao employeeDao = session.getMapper(EmployeeDao.class); employeeDao.deleteEmployee(3); session.commit(); &#125;catch (Exception e)&#123; e.printStackTrace(); &#125;finally &#123; SqlSessionTool.close(session); &#125; &#125; /** * å¤šæ¡ä»¶æŸ¥è¯¢æµ‹è¯• * é€šè¿‡å§“åæ¨¡ç³ŠåŒ¹é…å’ŒæŒ‡å®šæ€§åˆ«æŸ¥è¯¢å‘˜å·¥é›†åˆ */ @Test public void queryByNameAndGenderTest()&#123; SqlSession session = null; try&#123; session = SqlSessionTool.getSession(); EmployeeDao employeeDao = session.getMapper(EmployeeDao.class); List&lt;Employee&gt; list = employeeDao.queryListByNameAndGender("å¼ ",false); System.out.println(list); &#125;catch (Exception e)&#123; e.printStackTrace(); &#125;finally &#123; SqlSessionTool.close(session); &#125; &#125; /** * åŠ¨æ€è¯­å¥æŸ¥è¯¢æµ‹è¯• */ @Test public void queryListTest()&#123; SqlSession session = null; try&#123; session = SqlSessionTool.getSession(); EmployeeDao employeeDao = session.getMapper(EmployeeDao.class); Employee employee = new Employee(); employee.setName("å¼ "); employee.setAddress("æˆéƒ½");// List list= employeeDao.queryListByIf(employee);// List list= employeeDao.queryListByChoose(employee);// List list= employeeDao.queryListByTrim(employee); List list= employeeDao.queryListByWhere(employee); System.out.println(list); &#125;catch (Exception e)&#123; e.printStackTrace(); &#125;finally &#123; SqlSessionTool.close(session); &#125; &#125; /** * æ‰¹é‡åˆ é™¤æ“ä½œæµ‹è¯• * ä½¿ç”¨listæˆ–æ•°ç»„ä½œä¸ºå‚æ•°ä¼ å…¥ */ @Test public void deleteByListOrArrayTest()&#123; SqlSession session = null; try&#123; session = SqlSessionTool.getSession(); EmployeeDao employeeDao = session.getMapper(EmployeeDao.class); /** * é€šè¿‡Listä½œä¸ºå…¥å‚ï¼Œæ‰¹é‡åˆ é™¤æ•°æ® */ List list = new ArrayList(); list.add(5); list.add(6); int i = employeeDao.deleteByList(list); System.out.println("i = "+i); /** * é€šè¿‡æ•°ç»„ä½œä¸ºå…¥å‚ï¼Œæ‰¹é‡åˆ é™¤æ•°æ® */ int[] arrays = &#123;7,8,9&#125;; int j = employeeDao.deleteByArray(arrays); System.out.println("j = "+j); session.commit(); &#125;catch (Exception e)&#123; e.printStackTrace(); &#125;finally &#123; SqlSessionTool.close(session); &#125; &#125;&#125; &emsp;&emsp;éƒ¨åˆ†æµ‹è¯•ç»“æžœå¦‚ä¸‹å›¾ï¼š &emsp;&emsp;ä¸Šé¢å„æ®µä»£ç ç®€å•çš„å®žçŽ°äº†MyBatiså¯¹æ•°æ®åº“çš„CRUDæ“ä½œï¼Œå¹¶ä»‹ç»äº†ç›¸å…³ç”¨åˆ°çš„æ¯”è¾ƒé‡è¦çš„æ–¹æ³•å’Œxmlæ ‡ç­¾ï¼Œæƒ³è¦æ·±å…¥å­¦ä¹ ï¼Œè¯·å‚è€ƒä¸Šé¢ç»™å‡ºçš„MyBatiså‚è€ƒæ–‡æ¡£ã€‚ &emsp;&emsp;è¿™ç¯‡æ–‡ç« å°±ç®€å•çš„è®°å½•åˆ°è¿™é‡Œï¼Œä¸‹ç¯‡æ–‡ç« å°†è®°å½•MyBatisæ¯”è¾ƒé‡è¦çš„å‡ ä¸ªæ ‡ç­¾ä»¥åŠè‡ªå®šä¹‰è¿”å›žæ•°æ®å°è£…å’ŒMyBatisç¼“å­˜æŠ€æœ¯ä»‹ç»ã€‚]]></content>
      <categories>
        <category>Java</category>
        <category>Java EE</category>
        <category>Mybatis</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Java EE</tag>
        <tag>Mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Strutsæ¡†æž¶æŠ€æœ¯ï¼ˆä¸€ï¼‰]]></title>
    <url>%2F2018%2F10%2F11%2FStruts%E6%A1%86%E6%9E%B6%E6%8A%80%E6%9C%AF%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;å‰è¨€ï¼šStrutsæ˜¯Apacheè½¯ä»¶åŸºé‡‘ä¼šèµžåŠ©çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå®ƒæœ€åˆæ˜¯Jakartaé¡¹ç›®ä¸­çš„ä¸€ä¸ªå­é¡¹ç›®ã€‚Struts2æ˜¯ä»¥Webworkè®¾è®¡æ€æƒ³ä¸ºæ ¸å¿ƒï¼Œå¸æ”¶åŽŸStrutsçš„ä¼˜ç‚¹è€Œå½¢æˆçš„ï¼Œæ—¨åœ¨å¸®åŠ©ç¨‹åºå‘˜æ›´ä¸ºæ–¹ä¾¿åœ°è¿ç”¨MVCæ¨¡å¼æ¥å¼€å‘JavaEEåº”ç”¨ã€‚æ€»ä¹‹ï¼ŒStrutså°±æ˜¯å°è£…äº†Servletä¸­çš„å„ç§å¯¹è±¡ä»¥åŠè¯·æ±‚/å“åº”æ“ä½œï¼Œå‡å°‘å¯¹Webå®¹å™¨çš„ä¾èµ–ã€‚ 1. MVC åŸºæœ¬æ€æƒ³1.1 MVCæ€æƒ³æ¦‚è¿°&emsp;&emsp;MVCå¹¶ä¸æ˜¯Javaè¯­è¨€æ‰€ç‰¹æœ‰çš„è®¾è®¡æ€æƒ³ï¼Œä¹Ÿå¹¶ä¸æ˜¯Webåº”ç”¨æ‰€ç‰¹æœ‰çš„æ€æƒ³ï¼Œå®ƒæ˜¯æ‰€æœ‰é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡è¯­è¨€éƒ½åº”è¯¥éµå®ˆçš„è§„èŒƒã€‚ &emsp;&emsp;MVCæ€æƒ³å°†ä¸€ä¸ªåº”ç”¨åˆ†æˆä¸‰ä¸ªåŸºæœ¬éƒ¨åˆ†ï¼šModelï¼ˆæ¨¡åž‹ï¼‰ã€Viewï¼ˆè§†å›¾ï¼‰ã€Controllerï¼ˆæŽ§åˆ¶å™¨ï¼‰ï¼Œè¿™ä¸‰ä¸ªéƒ¨åˆ†ä»¥æœ€å°‘çš„è€¦åˆæ¥ååŒå·¥ä½œï¼Œä»Žè€Œæé«˜åº”ç”¨çš„å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ &emsp;&emsp;åœ¨ç»å…¸çš„MVCæ¨¡å¼ä¸­ï¼Œäº‹ä»¶ç”±æŽ§åˆ¶å™¨å¤„ç†ï¼ŒæŽ§åˆ¶å™¨æ ¹æ®äº‹ä»¶çš„ç±»åž‹æ”¹å˜æ¨¡åž‹æˆ–è¯•å›¾ï¼Œåä¹‹äº¦ç„¶ã€‚å…·ä½“åœ°è¯´ï¼Œæ¯ä¸ªæ¨¡åž‹å¯¹åº”ä¸€ç³»åˆ—çš„è¯•å›¾åˆ—è¡¨ï¼Œè¿™ç§å¯¹åº”å…³ç³»é€šå¸¸é‡‡ç”¨æ³¨å†Œæ¥å®Œæˆï¼Œå³ï¼šæŠŠå¤šä¸ªè¯•å›¾æ³¨å†Œåˆ°åŒä¸€ä¸ªæ¨¡åž‹ï¼Œå½“æ¨¡åž‹å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ¨¡åž‹å‘æ‰€æœ‰æ³¨å†Œè¿‡çš„è§†å›¾å‘é€é€šçŸ¥ï¼ŒæŽ¥ä¸‹æ¥ï¼Œè§†å›¾ä»Žå¯¹åº”çš„æ¨¡åž‹ä¸­èŽ·å¾—ä¿¡æ¯ï¼Œç„¶åŽå®Œæˆè§†å›¾æ˜¾ç¤ºçš„æ›´æ–°ã€‚ä»Žè®¾è®¡æ¨¡å¼çš„è§’åº¦çœ‹ï¼ŒMVCæ€æƒ³éžå¸¸ç±»ä¼¼äºŽè§‚å¯Ÿè€…æ¨¡å¼ï¼Œä½†ä¸Žè§‚å¯Ÿè€…æ¨¡å¼å­˜åœ¨å°‘è®¸å·®åˆ«ï¼šè§‚å¯Ÿè€…æ¨¡å¼ä¸‹è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…å¯ä»¥æ˜¯ä¸¤ä¸ªäº’ç›¸å¯¹ç­‰çš„å¯¹è±¡ï¼Œä½†ä¸ŽMVCæ€æƒ³è€Œè¨€ï¼Œè¢«è§‚å¯Ÿè€…å¾€å¾€åªæ˜¯å•çº¯çš„æ•°æ®ä½“ï¼Œè€Œè§‚å¯Ÿè€…åˆ™æ˜¯å•çº¯çš„è§†å›¾é¡µé¢ã€‚ ç›¸å¯¹äºŽæ—©æœŸçš„MVCæ€æƒ³ï¼ŒWebæ¨¡å¼ä¸‹çš„MVCæ€æƒ³åˆ™åˆå­˜åœ¨ä¸€äº›å˜åŒ–ï¼Œå¯¹äºŽä¸€ä¸ªæ™®é€šåº”ç”¨ç¨‹åºï¼Œå¯ä»¥å°†è§†å›¾æ³¨å†Œç»™æ¨¡åž‹ï¼Œå½“æ¨¡åž‹æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå³æ—¶é€šçŸ¥è§†å›¾é¡µé¢å‘ç”Ÿæ”¹å˜ï¼›è€Œå¯¹äºŽWebåº”ç”¨è€Œè¨€ï¼Œå³ä½¿å°†å¤šä¸ªJSPé¡µé¢æ³¨å†Œç»™ä¸€ä¸ªæ¨¡åž‹ï¼Œå½“æ¨¡åž‹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ¨¡åž‹æ— æ³•ä¸»åŠ¨å‘é€æ¶ˆæ¯ç»™JSPé¡µé¢ï¼ˆå› ä¸ºWebåº”ç”¨éƒ½æ˜¯åŸºäºŽè¯·æ±‚/å“åº”æ¨¡å¼çš„ï¼‰ï¼Œåªæœ‰å½“ç”¨æˆ·è¯·æ±‚æµè§ˆè¯¥é¡µé¢æ—¶ï¼ŒæŽ§åˆ¶å™¨æ‰è´Ÿè´£è°ƒç”¨æ¨¡åž‹æ•°æ®æ¥æ›´æ–°JSPé¡µé¢ã€‚ &emsp;&emsp;ä¸‹å›¾ä¸ºç»å…¸MVCå¼€å‘æ¨¡å¼æž¶æž„å›¾ã€‚ æ¨¡åž‹ï¼šç”¨äºŽå°è£…ä¸Žåº”ç”¨ç¨‹åºä¸šåŠ¡é€»è¾‘ç›¸å…³çš„æ•°æ®åŠå¯¹æ•°æ®çš„å¤„ç†æ–¹æ³•ã€‚ è§†å›¾ï¼šè§†å›¾æ˜¯ç”¨æˆ·çœ‹åˆ°å¹¶ä¸Žä¹‹äº¤äº’çš„ç•Œé¢ã€‚ æŽ§åˆ¶å™¨ï¼šæŽ§åˆ¶å™¨èµ·åˆ°ä¸åŒå±‚æ¬¡é—´çš„ç»„ç»‡ä½œç”¨ï¼Œç”¨äºŽæŽ§åˆ¶åº”ç”¨ç¨‹åºçš„æµç¨‹ã€‚å®ƒå¤„ç†äº‹ä»¶å¹¶åšå‡ºå“åº”ï¼Œâ€œäº‹ä»¶â€åŒ…æ‹¬ç”¨æˆ·çš„è¡Œä¸ºå’Œæ•°æ®æ¨¡åž‹ä¸Šçš„æ”¹å˜ã€‚ &emsp;&emsp;ä¸‹å›¾ä¸ºWebæ¨¡å¼ä¸‹MVCå¼€å‘æ¨¡å¼æž¶æž„å›¾ã€‚ MVCç‰¹ç‚¹ã€‚ å¤šä¸ªè§†å›¾å¯ä»¥å¯¹åº”ä¸€ä¸ªæ¨¡åž‹ã€‚æŒ‰MVCè®¾è®¡æ¨¡å¼ï¼Œä¸€ä¸ªæ¨¡åž‹å¯¹åº”å¤šä¸ªè§†å›¾ï¼Œå¯ä»¥å‡å°‘ä»£ç çš„å¤åˆ¶åŠä»£ç çš„ç»´æŠ¤é‡ï¼Œä¸€æ—¦æ¨¡åž‹å‘ç”Ÿæ”¹å˜ï¼Œä¹Ÿæ˜“äºŽç»´æŠ¤ã€‚ æ¨¡åž‹è¿”å›žçš„æ•°æ®ä¸Žæ˜¾ç¤ºé€»è¾‘åˆ†ç¦»ã€‚æ¨¡åž‹æ•°æ®å¯ä»¥åº”ç”¨ä»»ä½•çš„æ˜¾ç¤ºæŠ€æœ¯ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨JSPé¡µé¢ã€Velocityæ¨¡æ¿æˆ–è€…ç›´æŽ¥äº§ç”ŸExcelæ–‡æ¡£ç­‰ã€‚ åº”ç”¨è¢«åˆ†éš”ä¸ºä¸‰å±‚ï¼Œé™ä½Žäº†å„å±‚ä¹‹é—´çš„è€¦åˆï¼Œæä¾›äº†åº”ç”¨çš„å¯æ‰©å±•æ€§ã€‚ æ¦‚å¿µæ˜Žç¡®ï¼Œå±‚æ¬¡æ¸…æ™°ï¼Œç¼–å†™æ–¹ä¾¿ã€‚ MVCæ›´ç¬¦åˆè½¯ä»¶å·¥ç¨‹åŒ–ç®¡ç†çš„ç²¾ç¥žã€‚ä¸åŒçš„å±‚å„å¸å…¶èŒï¼Œæ¯ä¸€å±‚çš„ç»„ä»¶å…·æœ‰ç›¸åŒçš„ç‰¹å¾ï¼Œæœ‰åˆ©äºŽé€šè¿‡å·¥ç¨‹åŒ–å’Œå·¥å…·åŒ–äº§ç”Ÿç®¡ç†ç¨‹åºä»£ç ã€‚ æ€»ç»“ï¼š MVC æ˜¯ä¸€ç§å¼€å‘æ¨¡å¼ã€‚ Webä¸‰å±‚æž¶æž„ï¼ˆControllerã€Serviceã€Daoï¼‰æ˜¯ä¸€ç§å¼€å‘ä¹ æƒ¯ï¼Œæ˜¯å‰äººç•™ä¸‹çš„ç»éªŒçš„ä¼ æ‰¿ã€‚ ä¸¤ç§æ–¹å¼åœ¨å¼€å‘Webåº”ç”¨ä¸­å¾€å¾€éœ€è¦ç»“åˆä½¿ç”¨ã€‚ 1.2 MVCå®žçŽ°æ–¹å¼&emsp;&emsp;ä¼ ç»Ÿçš„JavaEEå¼€å‘é‡‡ç”¨JSP+Servlet+JavaBeançš„æ–¹å¼æ¥å®žçŽ°MVCï¼Œä½†å®ƒæœ‰ä¸€ä¸ªç¼ºé™·ï¼šç¨‹åºå‘˜åœ¨ç¼–å†™ç¨‹åºæ—¶å¿…é¡»ç»§æ‰¿HttpServletç±»ã€è¦†ç›–doGet()å’ŒdoPost()æ–¹æ³•ï¼Œä¸¥æ ¼éµå®ˆServletä»£ç è§„èŒƒç¼–å†™ç¨‹åºã€‚å½¢å¦‚ï¼š LoginServlet.java12345678910111213package com.heng.srvlet;import java.io.*;import javax.servlet.*;import javax.servlet.http.*;public class LoginServlet extends HttpServlet&#123; public void doGet(HttpServletRequest request,HttpServletResponse response) throws ServletException,IOException&#123; //... &#125; public void doPost(HttpServletRequest request,HttpServletResponse response) throws ServletException,IOException&#123; doGet(request,response); &#125;&#125; &emsp;&emsp;ä»¥ä¸Šè¿™äº›ç¹ççš„ä»£ç ä¸Žç¨‹åºæœ¬èº«è¦å®žçŽ°çš„åŠŸèƒ½æ— å…³ï¼Œä»…æ˜¯Javaè¯­è¨€Servletç¼–ç¨‹æŽ¥å£ï¼ˆAPIï¼‰çš„ä¸€éƒ¨åˆ†ã€‚åœ¨å¼€å‘ä¸­ä¸€æ—¦æš´éœ²Servlet APIå°±ä¼šå¤§å¤§å¢žåŠ ç¼–ç¨‹çš„éš¾åº¦ï¼Œä¸ºäº†å±è”½è¿™ç§ä¸å¿…è¦çš„å¤æ‚æ€§ï¼Œå‡å°‘ç”¨MVCå¼€å‘Java EEçš„å·¥ä½œé‡ï¼Œäººä»¬å‘æ˜Žäº†Struts2æ¡†æž¶ã€‚ç”¨Struts2å®žçŽ°çš„MVCç³»ç»Ÿä¸Žä¼ ç»Ÿçš„ç”¨Servletç¼–å†™çš„MVCç³»ç»Ÿç›¸æ¯”ï¼Œä¸¤è€…åœ¨ç»“æž„ä¸Šçš„åŒºåˆ«å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆæ³¨ï¼šæ­¤å›¾ä¸ºå¼•ç”¨Java EEä½¿ç”¨æ•™ç¨‹ï¼ˆç¬¬äºŒç‰ˆï¼‰ä¸­MVCç³»ç»Ÿçš„ä¸¤ç§å®žçŽ°æ–¹å¼ï¼‰ã€‚ &emsp;&emsp;ç”±ä¸Šå›¾å¯è§ï¼ŒStruts2çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼šä½¿ç”¨Struts2æ¡†æž¶ä»£æ›¿äº†åŽŸServletéƒ¨åˆ†ä½œä¸ºæŽ§åˆ¶å™¨ï¼Œè€Œä¸šåŠ¡é€»è¾‘å¤„ç†çš„åŠŸèƒ½ç”±ç”¨æˆ·è‡ªå®šä¹‰ç¼–å†™ActionåŽ»å®žçŽ°ï¼Œä¸ŽStruts2çš„æŽ§åˆ¶å™¨æ ¸å¿ƒç›¸åˆ†ç¦»ã€‚è¿™æ ·å°±è¿›ä¸€æ­¥é™ä½Žäº†ç³»ç»Ÿä¸­å„éƒ¨åˆ†ç»„ä»¶çš„è€¦åˆåº¦ï¼Œä¹Ÿå¤§å¤§é™ä½Žäº†ç¼–ç¨‹éš¾åº¦ã€‚ 2. ç®€å•çš„Struts2é¡¹ç›®å¼€å‘è¿‡ç¨‹2.1 æ–°å»ºJavaWebé¡¹ç›®ï¼ŒåŠ è½½Struts2çš„åŒ…ä¾èµ–&emsp;&emsp;ä¼ ç»Ÿçš„Java EEé¡¹ç›®Struts2æ¡†æž¶å¼€å‘ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨å¯¼å…¥Struts2çš„åŒ…æ”¯æŒä¾èµ–ã€‚å¤§éƒ¨åˆ†çš„æ—¶å€™ï¼Œä½¿ç”¨Struts2çš„Java EEåº”ç”¨å¹¶ä¸éœ€è¦ç”¨åˆ°Struts2çš„å…¨éƒ¨ç‰¹æ€§ï¼Œå¼€å‘Struts2ç¨‹åºåªéœ€è¦ç”¨åˆ°libä¸‹çš„9ä¸ªjaråŒ…ï¼ŒåŒ…æ‹¬ï¼š ï¼ˆ1ï¼‰ä¼ ç»Ÿçš„Struts2çš„5ä¸ªåŸºæœ¬ç±»åº“ã€‚ struts2-core-XXX.jarï¼šStruts2æ¡†æž¶æ ¸å¿ƒç±»åº“ xwork-core-XXX.jarï¼šXworké¡¹ç›®ï¼ŒStruts2å°±æ˜¯åœ¨å®ƒçš„åŸºç¡€ä¸Šæž„å»ºçš„ ognl-XXX.jarï¼šOGNLè¡¨è¾¾å¼è¯­è¨€ commons-logging-XXX.jarï¼šç”¨äºŽèƒ½å¤Ÿæ’å…¥ä»»ä½•å…¶ä»–çš„æ—¥å¿—ç³»ç»Ÿ freemarker-XXX.jarï¼šæ‰€æœ‰çš„UIæ ‡è®°æ¨¡æ¿ ï¼ˆ2ï¼‰é™„åŠ çš„4ä¸ªåº“ã€‚ commons-io-XXX.jar commons-lang-XXX.jar javassist-XXX.GA.jar commons-fileupload-XXX.jar &emsp;&emsp;æ³¨ï¼šæœ¬æ¬¡å®žä¾‹ç¨‹åºå¼€å‘é‡‡ç”¨çš„æ˜¯Idea+Mavenæž„å»ºé¡¹ç›®ï¼Œå› æ­¤æˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨å¯¼åŒ…ï¼Œåœ¨pom.xmlä¸­åŠ å…¥å¦‚ä¸‹ä¾èµ–å³å¯ã€‚ pom.xml1234567&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.struts&lt;/groupId&gt; &lt;artifactId&gt;struts2-core&lt;/artifactId&gt; &lt;version&gt;2.5.13&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt; 2.2 åœ¨web.xmlä¸­é…ç½®Struts2æ ¸å¿ƒFilter&emsp;&emsp;é‡ç‚¹ï¼šç”±äºŽWebåº”ç”¨æ˜¯åŸºäºŽè¯·æ±‚/å“åº”æž¶æž„çš„åº”ç”¨ï¼Œæ‰€ä»¥ä¸ç®¡å“ªä¸ªMVC Webæ¡†æž¶ï¼Œéƒ½éœ€è¦åœ¨web.xmlä¸­é…ç½®è¯¥æ¡†æž¶çš„æ ¸å¿ƒServletæˆ–Filterï¼Œè¿™æ ·æ‰å¯ä»¥è®©è¯¥æ¡†æž¶åŠ å…¥Webåº”ç”¨ä¸­ã€‚ &emsp;&emsp;åœ¨web.xmlä¸­åŠ å…¥ä¸‹é¢ä»£ç æ¥é…ç½®Struts2çš„æ ¸å¿ƒè¿‡æ»¤å™¨ï¼ˆFilterï¼‰ã€‚ web.xml12345678910&lt;!--å®šä¹‰Struts2çš„æ ¸å¿ƒFilter--&gt;&lt;filter&gt; &lt;filter-name&gt;struts2&lt;/filter-name&gt; &lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;&lt;/filter&gt;&lt;!--è®©Struts2çš„æ ¸å¿ƒFilteræ‹¦æˆªæ‰€æœ‰è¯·æ±‚--&gt;&lt;filter-mapping&gt; &lt;filter-name&gt;struts2&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt;&lt;/filter-mapping&gt; 2.3 å®žçŽ°æŽ§åˆ¶å™¨Action&emsp;&emsp;åŸºäºŽStruts2æ¡†æž¶çš„Java EEåº”ç”¨ç¨‹åºä½¿ç”¨è‡ªå®šä¹‰çš„Actionï¼ˆæŽ§åˆ¶å™¨ï¼‰æ¥å¤„ç†æ·±å±‚ä¸šåŠ¡é€»è¾‘ï¼Œå®Œæˆç”¨æˆ·æƒ³è¦å®Œæˆçš„åŠŸèƒ½ã€‚æœ¬ä¾‹å®šä¹‰åä¸ºâ€œloginâ€çš„æŽ§åˆ¶å™¨ï¼Œåˆ¤æ–­ç™»é™†ç”¨æˆ·å’Œå¯†ç çš„æ­£ç¡®æ€§ã€‚ LoginAction.java1234567891011121314151617181920212223242526272829303132333435package cn.zqiheng.action;public class LoginAction &#123; /** * å±žæ€§é©±åŠ¨ä¼ å€¼ */ private String username; private String password; public String execute() throws Exception&#123; System.out.println("ç”¨æˆ·åï¼š"+username+" å¯†ç ï¼š"+password); if(username.equals("heng") &amp;&amp; password.equals("123"))&#123; return "success"; &#125; return "error"; &#125; public String getUsername() &#123; return username; &#125; public void setUsername(String username) &#123; this.username = username; &#125; public String getPassword() &#123; return password; &#125; public void setPassword(String password) &#123; this.password = password; &#125;&#125; 2.4 é…ç½®struts.xml&emsp;&emsp;åœ¨ç¼–å†™å¥½äº†Actionï¼ˆæŽ§åˆ¶å™¨ï¼‰çš„ä»£ç ä¹‹åŽï¼Œè¿˜éœ€è¦è¿›è¡Œé…ç½®æ‰èƒ½è®©Struts2è¯†åˆ«Actionã€‚åœ¨resourcesä¸­æ–°å»ºæ–‡ä»¶struts.xmlã€‚ struts.xml1234567891011&lt;struts&gt; &lt;package name="user" namespace="/" extends="struts-default"&gt; &lt;action name="login" class="cn.zqiheng.action.LoginAction"&gt; &lt;result name="success"&gt;/welcome.jsp&lt;/result&gt; &lt;result name="error"&gt;/error.jsp&lt;/result&gt; &lt;/action&gt; &lt;/package&gt; &lt;/struts&gt; 2.5 ç¼–å†™JSPé¡µé¢index.jsp123456789101112&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;&lt;html&gt;&lt;body&gt;&lt;form action="login" method="post"&gt; ç”¨æˆ·åï¼š&lt;input type="text" name="username"&gt;&lt;br&gt; å¯†&amp;nbsp;&amp;nbsp;&amp;nbsp;ç ï¼š&lt;input type="password" name="password"&gt;&lt;br&gt; &lt;input type="submit" value="æäº¤"&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt; welcome.jsp123456789&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;ç™»é™†æˆåŠŸç•Œé¢&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;æ‚¨å¥½ï¼æ¬¢è¿Žä½¿ç”¨æœ¬ç³»ç»Ÿã€‚&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt; error.jsp123456789&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;ç™»é™†å¤±è´¥&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;ç™»é™†å¤±è´¥&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt; 2.6 é…ç½®TomcatæœåŠ¡å™¨å¹¶å¯åŠ¨åº”ç”¨&emsp;&emsp;é¡¹ç›®ç»“æž„å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ &emsp;&emsp;é¡¹ç›®è¿è¡Œç»“æžœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚]]></content>
      <categories>
        <category>Java</category>
        <category>Java EE</category>
        <category>Struts2</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Java EE</tag>
        <tag>Struts2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDBC]]></title>
    <url>%2F2018%2F10%2F01%2FJDBC%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;å‰è¨€ï¼šJDBCçš„å…¨ç§°ä¸ºJava DataBase Connectivityï¼Œæ˜¯ä¸€å¥—é¢å‘å¯¹è±¡çš„åº”ç”¨ç¨‹åºæŽ¥å£ï¼ˆAPIï¼‰ï¼Œåˆ¶å®šäº†ç»Ÿä¸€çš„è®¿é—®å„ç±»å…³ç³»æ•°æ®åº“çš„æ ‡å‡†æŽ¥å£ï¼Œä¸ºå„ä¸ªæ•°æ®åº“åŽ‚å•†æä¾›äº†æ ‡å‡†æŽ¥å£çš„å®žçŽ°ã€‚é€šè¿‡JDBCæŠ€æœ¯ï¼Œå¼€å‘äººå‘˜å¯ä»¥ç”¨çº¯Javaè¯­è¨€å’Œæ ‡å‡†çš„SQLè¯­å¥ç¼–å†™å®Œæ•´çš„æ•°æ®åº“åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”çœŸæ­£åœ°å®žçŽ°äº†è½¯ä»¶åœ°è·¨å¹³å°æ€§ã€‚åœ¨JDBCæŠ€æœ¯é—®ä¸–ä¹‹å‰ï¼Œå„å®¶æ•°æ®åº“åŽ‚å•†æ‰§è¡Œå„è‡ªåœ°ä¸€å¥—APIï¼Œä½¿å¾—å¼€å‘äººå‘˜è®¿é—®æ•°æ®åº“éžå¸¸éº»çƒ¦ï¼Œç‰¹åˆ«æ˜¯åœ¨æ›´æ¢æ•°æ®åº“æ—¶ï¼Œéœ€è¦ä¿®æ”¹å¤§é‡ä»£ç ï¼Œååˆ†ä¸æ–¹ä¾¿ã€‚JDBCåœ°å‘å¸ƒèŽ·å¾—äº†å·¨å¤§åœ°æˆåŠŸï¼Œå¾ˆå¿«å°±æˆä¸ºäº†Javaè®¿é—®æ•°æ®åº“åœ°æ ‡å‡†ï¼Œå¹¶ä¸”èŽ·å¾—äº†å‡ ä¹Žæ‰€æœ‰æ•°æ®åº“åŽ‚å•†åœ°æ”¯æŒã€‚ 1. JDBCç®€ä»‹&emsp;&emsp;JDBCæ˜¯ä¸€ç§åº•å±‚APIï¼Œåœ¨è®¿é—®æ•°æ®åº“æ—¶éœ€è¦åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ç›´æŽ¥åµŒå…¥SQLè¯­å¥ã€‚ç”±äºŽSQLè¯­å¥æ˜¯é¢å‘å…³ç³»çš„ï¼Œä¾èµ–äºŽå…³ç³»æ¨¡åž‹ï¼Œæ‰€ä»¥JDBCä¼ æ‰¿äº†ç®€å•ç›´æŽ¥åœ°ä¼˜ç‚¹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒJDBCä¸èƒ½ç›´æŽ¥è®¿é—®æ•°æ®åº“ï¼Œå¿…é¡»ä¾èµ–äºŽæ•°æ®åº“åŽ‚å•†æä¾›çš„JDBCé©±åŠ¨ç¨‹åºï¼Œé€šå¸¸æƒ…å†µä¸‹ä½¿ç”¨JDBCå®Œæˆä»¥ä¸‹æ“ä½œã€‚ åŒæ•°æ®åº“å»ºç«‹è¿žæŽ¥ï¼› å‘æ•°æ®åº“å‘é€SQLè¯­å¥ï¼› å¤„ç†ä»Žæ•°æ®åº“è¿”å›žçš„ç»“æžœã€‚ &emsp;&emsp;JDBCçš„ä¼˜ç‚¹ã€‚ JDBCä¸ŽODBCååˆ†ç›¸ä¼¼ï¼Œä¾¿äºŽè½¯ä»¶å¼€å‘äººå‘˜ç†è§£ï¼› JDBCå¼€å‘ç®€å•ï¼Œå¯ä»¥ä½¿å¼€å‘äººå‘˜ä¸“æ³¨äºŽä¸šåŠ¡é€»è¾‘çš„å¼€å‘ï¼› JDBC APIæ˜¯é¢å‘å¯¹è±¡çš„ï¼› JDBCæ”¯æŒå¤šç§å…³ç³»æ•°æ®åº“ã€‚ &emsp;&emsp;JDBCçš„ç¼ºç‚¹ã€‚ é€šè¿‡JDBCè®¿é—®æ•°æ®åº“æ—¶é€Ÿåº¦å°†å—åˆ°ä¸€å®šå½±å“ï¼› è™½ç„¶JDBC APIæ—¶é¢å‘å¯¹è±¡çš„ï¼Œä½†é€šè¿‡JDBCè®¿é—®æ•°æ®åº“ä¾ç„¶æ˜¯é¢å‘å…³ç³»çš„ï¼› JDBCæä¾›äº†å¯¹ä¸åŒåŽ‚å®¶çš„äº§å“çš„æ”¯æŒï¼Œè¿™å°†å¯¹æ•°æ®æºå¸¦æ¥å½±å“ã€‚ 2. JDBCä¸­å¸¸ç”¨çš„æŽ¥å£&emsp;&emsp;JDBCæä¾›äº†è®¸å¤šæŽ¥å£å’Œç±»ï¼Œé€šè¿‡è¿™äº›ç±»å’ŒæŽ¥å£ï¼Œå¯ä»¥å®žçŽ°ä¸Žå„ç§æ•°æ®åº“çš„è¿žæŽ¥å’Œæ“ä½œã€‚ 2.1 é©±åŠ¨ç¨‹åºæŽ¥å£Driver&emsp;&emsp;æ¯ç§æ•°æ®åº“çš„é©±åŠ¨ç¨‹åºéƒ½åº”è¯¥æä¾›ä¸€ä¸ªå®žçŽ°java.sql.DriveræŽ¥å£çš„ç±»ï¼Œç®€ç§°Driverç±»ï¼Œåœ¨åŠ è½½Driverç±»æ—¶ï¼Œåº”è¯¥åˆ›å»ºè‡ªå·±çš„å®žä¾‹å¹¶å‘java.sql.DriverManagerç±»æ³¨å†Œè¯¥å®žä¾‹ã€‚é€šå¸¸æƒ…å†µä¸‹é€šè¿‡java.lang.Classç±»çš„é™æ€æ–¹æ³•forName(String className)ï¼ŒåŠ è½½è¦è¿žæŽ¥æ•°æ®åº“çš„Driverç±»ï¼Œè¯¥æ–¹æ³•çš„å…¥å£å‚æ•°ä¸ºè¦åŠ è½½Driverç±»çš„å®Œæ•´åŒ…åã€‚æˆåŠŸåŠ è½½åŽï¼Œä¼šå°†Driverç±»çš„å®žä¾‹æ³¨å†Œåˆ°DriverManagerç±»ä¸­ï¼Œå¦‚æžœåŠ è½½å¤±è´¥ï¼Œå°†æŠ›å‡ºClassNotFoundExceptionå¼‚å¸¸ï¼Œå³æœªæ‰¾åˆ°æŒ‡å®šDriverç±»çš„å¼‚å¸¸ã€‚ 2.2 é©±åŠ¨ç¨‹åºç®¡ç†å™¨DriverManager&emsp;&emsp;java.sql.DriverManagerç±»è´Ÿè´£ç®¡ç†JDBCé©±åŠ¨ç¨‹åºçš„åŸºæœ¬æœåŠ¡ï¼Œæ˜¯JDBCçš„ç®¡ç†å±‚ï¼Œä½œç”¨äºŽç”¨æˆ·å’Œé©±åŠ¨ç¨‹ä¹‹é—´ï¼Œè´Ÿè´£è·Ÿè¸ªå¯ç”¨çš„é©±åŠ¨ç¨‹åºï¼Œå¹¶åœ¨æ•°æ®åº“å’Œé©±åŠ¨ç¨‹åºä¹‹é—´å»ºç«‹è¿žæŽ¥ã€‚å¦å¤–ï¼ŒDriverManagerç±»ä¹Ÿå¤„ç†è¯¸å¦‚é©±åŠ¨ç¨‹åºç™»é™†æ—¶é—´é™åˆ¶åŠç™»é™†å’Œè·Ÿè¸ªæ¶ˆæ¯çš„æ˜¾ç¤ºç­‰å·¥ä½œã€‚æˆåŠŸåŠ è½½Driverç±»å¹¶åœ¨DriverManagerç±»ä¸­æ³¨å†ŒåŽï¼ŒDriverManagerç±»å³å¯ç”¨æ¥å»ºç«‹æ•°æ®åº“è¿žæŽ¥ã€‚ &emsp;&emsp;å½“è°ƒç”¨DriverManagerç±»çš„getConnection()æ–¹æ³•è¯·æ±‚å»ºç«‹æ•°æ®åº“è¿žæŽ¥æ—¶ï¼ŒDriverManagerç±»å°†è¯•å›¾å®šä½ä¸€ä¸ªé€‚å½“çš„Driverç±»ï¼Œå¹¶æ£€æŸ¥å®šä½åˆ°Driverç±»æ˜¯å¦å¯ä»¥å»ºç«‹è¿žæŽ¥ã€‚å¦‚æžœå¯ä»¥ï¼Œåˆ™å»ºç«‹è¿žæŽ¥å¹¶è¿”å›žï¼Œå¦‚æžœä¸å¯ä»¥ï¼Œåˆ™æŠ›å‡ºSQLExceptionå¼‚å¸¸ã€‚DriverManagerç±»æä¾›çš„å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚ æ–¹æ³•åç§° åŠŸèƒ½æè¿° getConnection(String url,String user,String password) é™æ€æ–¹æ³•ï¼Œç”¨æ¥èŽ·å¾—æ•°æ®åº“è¿žæŽ¥ï¼Œæœ‰3ä¸ªå…¥å£å‚æ•°ï¼Œä»¥æ­¤ä¸ºè¦è¿žæŽ¥æ•°æ®åº“çš„URLã€ç”¨æˆ·åå’Œå¯†ç ï¼Œè¿”å›žå€¼ç±»åž‹ä¸ºjava.sql.Connection setLoginTimeout(int seconds) é™æ€æ–¹æ³•ï¼Œç”¨æ¥è®¾ç½®æ¯æ¬¡ç­‰å¾…å»ºç«‹æ•°æ®åº“è¿žæŽ¥çš„æœ€é•¿æ—¶é—´ setLogWriter(java.io.PringWriter out) é™æ€æ–¹æ³•ï¼Œç”¨æ¥è®¾ç½®æ—¥å¿—çš„è¾“å‡ºå¯¹è±¡ println(String message) é™æ€æ–¹æ³•ï¼Œç”¨æ¥è¾“å‡ºæŒ‡å®šæ¶ˆæ¯åˆ°å½“å‰çš„JDBCæ—¥å¿—æµ 2.3 æ•°æ®åº“è¿žæŽ¥æŽ¥å£Connection&emsp;&emsp;java.sql.ConnectionæŽ¥å£è´Ÿè´£ä¸Žç‰¹å®šæ•°æ®åº“çš„è¿žæŽ¥ï¼Œåœ¨è¿žæŽ¥çš„ä¸Šä¸‹æ–‡ä¸­å¯ä»¥æ‰§è¡ŒSQLè¯­å¥å¹¶è¿”å›žç»“æžœï¼Œè¿˜å¯ä»¥é€šè¿‡getMetaData()æ–¹æ³•èŽ·å¾—ç”±æ•°æ®åº“æä¾›çš„ç›¸å…³ä¿¡æ¯ï¼Œä¾‹å¦‚æ•°æ®è¡¨ã€å­˜å‚¨è¿‡ç¨‹å’Œè¿žæŽ¥åŠŸèƒ½ç­‰ä¿¡æ¯ã€‚ConnectionæŽ¥å£æä¾›çš„å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚ æ–¹æ³•åç§° åŠŸèƒ½æè¿° createStatement() åˆ›å»ºå¹¶è¿”å›žä¸€ä¸ªStatementå®žä¾‹ï¼Œé€šå¸¸åœ¨æ‰§è¡Œæ— å‚æ•°çš„SQLè¯­å¥æ—¶åˆ›å»ºè¯¥å®žä¾‹ prepareStatement() åˆ›å»ºå¹¶è¿”å›žä¸€ä¸ªPreparedStatementå®žä¾‹ï¼Œé€šå¸¸åœ¨æ‰§è¡ŒåŒ…å«å‚æ•°çš„SQLè¯­å¥æ—¶åˆ›å»ºè¯¥å®žä¾‹ï¼Œå¹¶å¯¹SQLè¯­å¥è¿›è¡Œäº†é¢„ç¼–è¯‘å¤„ç† prepareCall() åˆ›å»ºå¹¶è¿”å›žä¸€ä¸ªCallableStatementå®žä¾‹ï¼Œé€šå¸¸åœ¨è°ƒç”¨æ•°æ®åº“å­˜å‚¨è¿‡ç¨‹æ—¶åˆ›å»ºè¯¥å®žä¾‹ setAutoCommit() è®¾ç½®å½“å‰Connectionå®žä¾‹çš„è‡ªåŠ¨æäº¤æ¨¡å¼ï¼Œé»˜è®¤ä¸ºtrueï¼Œå³è‡ªåŠ¨å°†æ›´æ”¹åŒæ­¥åˆ°æ•°æ®åº“ä¸­ï¼Œå¦‚æžœè®¾ç½®ä¸ºfalseï¼Œéœ€è¦é€šè¿‡æ‰§è¡Œcommit()æˆ–rollback()æ–¹æ³•æ‰‹åŠ¨å°†æ›´æ”¹åŒæ­¥åˆ°æ•°æ®åº“ä¸­ getAutoCommit() æŸ¥çœ‹å½“å‰çš„Connectionå®žä¾‹æ˜¯å¦å¤„äºŽè‡ªåŠ¨æäº¤æ¨¡å¼ï¼Œå¦‚æžœæ˜¯åˆ™è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalse setSavepoint() åœ¨å½“å‰äº‹åŠ¡ä¸­åˆ›å»ºå¹¶è¿”å›žä¸€ä¸ªSavepointå®žä¾‹ï¼Œå‰ææ¡ä»¶æ˜¯å½“å‰çš„Connectionå®žä¾‹ä¸èƒ½å¤„äºŽè‡ªåŠ¨æäº¤æ¨¡å¼ï¼Œå¦åˆ™å°†æŠ›å‡ºå¼‚å¸¸ releaseSavepoint() ä»Žå½“å‰äº‹åŠ¡ä¸­ç§»é™¤æŒ‡å®šçš„Savepointå®žä¾‹ setReadOnly() è®¾ç½®å½“å‰Connectionå®žä¾‹çš„è¯»å–æ¨¡å¼ï¼Œé»˜è®¤ä¸ºéžåªè¯»æ¨¡å¼ï¼Œä¸èƒ½åœ¨äº‹åŠ¡å½“ä¸­æ‰§è¡Œè¯¥æ“ä½œï¼Œå¦åˆ™å°†æŠ›å‡ºå¼‚å¸¸ï¼Œæœ‰ä¸€ä¸ªbooleanåž‹çš„å…¥å£å‚æ•°ï¼Œè®¾ä¸ºtrueåˆ™è¡¨ç¤ºå¼€å¯åªè¯»æ¨¡å¼ï¼Œè®¾ä¸ºfalseåˆ™è¡¨ç¤ºå…³é—­åªè¯»æ¨¡å¼ isReadOnly() æŸ¥çœ‹å½“å‰çš„Connectionå®žä¾‹å¯¹è±¡æ˜¯å¦ä¸ºåªè¯»æ¨¡å¼ï¼Œå¦‚æžœæ˜¯åˆ™è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalse isClosed() æŸ¥çœ‹å½“å‰çš„Connectionå®žä¾‹æ˜¯å¦è¢«å…³é—­ï¼Œå¦‚æžœè¢«å…³é—­åˆ™è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalse commit() å°†ä»Žä¸Šä¸€æ¬¡æäº¤æˆ–å›žæ»šä»¥æ¥è¿›è¡Œçš„æ‰€æœ‰æ›´æ”¹åŒæ­¥åˆ°æ•°æ®åº“ï¼Œå¹¶é‡Šæ”¾Connectionå®žä¾‹å½“å‰æ‹¥æœ‰çš„æ‰€æœ‰æ•°æ®åº“é”å®š rollback() å–æ¶ˆå½“å‰äº‹åŠ¡ä¸­çš„æ‰€æœ‰æ›´æ”¹ï¼Œå¹¶é‡Šæ”¾å½“å‰Connectionå®žä¾‹æ‹¥æœ‰çš„æ‰€æœ‰æ•°æ®åº“é”å®šï¼›è¯¥æ–¹æ³•åªèƒ½åœ¨éžè‡ªåŠ¨æäº¤æ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œå¦‚æžœåœ¨è‡ªåŠ¨æäº¤æ¨¡å¼ä¸‹æ‰§è¡Œè¯¥æ–¹æ³•ï¼Œå°†æŠ›å‡ºå¼‚å¸¸ï¼›æœ‰ä¸€ä¸ªå…¥å£å‚æ•°ä¸ºSavepointå®žä¾‹çš„é‡è½½æ–¹æ³•ï¼Œç”¨æ¥å–æ¶ˆSavepointå®žä¾‹ä¹‹åŽçš„æ‰€æœ‰æ›´æ”¹ï¼Œå¹¶é‡Šæ”¾å¯¹åº”çš„æ•°æ®åº“é”å®š close() ç«‹å³é‡Šæ”¾Connectionå®žä¾‹å ç”¨çš„æ•°æ®åº“å’ŒJDBCèµ„æºï¼Œå³å…³é—­æ•°æ®åº“è¿žæŽ¥ 2.4 æ‰§è¡ŒSQLè¯­å¥æŽ¥å£Statement&emsp;&emsp;java.sql.StatementæŽ¥å£ç”¨æ¥æ‰§è¡Œé™æ€çš„SQLè¯­å¥ï¼Œå¹¶è¿”å›žæ‰§è¡Œç»“æžœã€‚ä¾‹å¦‚ï¼Œå¯¹äºŽinsertã€updateå’Œdeleteè¯­å¥ï¼Œè°ƒç”¨executeUpdate(String sql)æ–¹æ³•ï¼Œè€Œselectè¯­å¥åˆ™è°ƒç”¨executeQuery(String sql)æ–¹æ³•ï¼Œå¹¶è¿”å›žä¸€ä¸ªæ°¸è¿œä¸èƒ½ä¸ºNullçš„ResultSetå®žä¾‹ã€‚StatementæŽ¥å£æä¾›çš„å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚ æ–¹æ³•åç§° åŠŸèƒ½æè¿° executeQuery(String sql) æ‰§è¡ŒæŒ‡å®šçš„é™æ€SELECTè¯­å¥ï¼Œå¹¶è¿”å›žä¸€ä¸ªä¸èƒ½ä¸ºnullçš„ResultSetå®žä¾‹ executeUpdate(String sql) æŒ‡å®šæŒ‡å®šçš„é™æ€INSERTã€UPDATEæˆ–DELETEè¯­å¥ï¼Œå¹¶è¿”å›žä¸€ä¸ªintåž‹æ•°å€¼ï¼Œä¸ºåŒæ­¥æ›´æ–°è®°å½•æ¡æ•° clearBatch() æ¸…é™¤ä½äºŽBatchçš„æ‰€æœ‰SQLè¯­å¥ï¼Œå¦‚æžœé©±åŠ¨ç¨‹åºä¸æ”¯æŒæ‰¹é‡å¤„ç†å°†æŠ›å‡ºå¼‚å¸¸ addBatch(String sql) å°†æŒ‡å®šçš„SQLå‘½ä»¤æ·»åŠ åˆ°Batchä¸­ï¼ŒStringåž‹å…¥å£å‚æ•°é€šå¸¸ä¸ºé™æ€çš„INSERTæˆ–UPDATEè¯­å¥ï¼Œå¦‚æžœé©±åŠ¨ç¨‹åºä¸æ”¯æŒæ‰¹é‡å¤„ç†å°†æŠ›å‡ºå¼‚å¸¸ executeBatch() æ‰§è¡ŒBatchä¸­çš„æ‰€æœ‰SQLè¯­å¥ï¼Œå¦‚æžœå…¨éƒ¨æ‰§è¡ŒæˆåŠŸï¼Œåˆ™è¿”å›žç”±æ›´æ–°è®¡æ•°ç»„æˆçš„æ•°ç»„ï¼Œæ•°ç»„å…ƒç´ çš„æŽ’åºä¸ŽSQLè¯­å¥çš„æ·»åŠ é¡ºåºå¯¹åº”ï¼Œæ•°ç»„çš„å…ƒç´ æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š1.å¤§äºŽæˆ–ç­‰äºŽé›¶çš„æ•°ï¼Œè¯´æ˜ŽSQLè¯­å¥æ‰§è¡ŒæˆåŠŸï¼Œä¸ºå½±å“æ•°æ®åº“ä¸­è¡Œæ•°çš„æ›´æ–°è®¡æ•°ï¼›2. -2ï¼Œè¯´æ˜ŽSQLè¯­å¥æ‰§è¡ŒæˆåŠŸï¼Œä½†æœªå¾—åˆ°å—å½±å“çš„è¡Œæ•°ï¼›3. -3ï¼Œè¯´æ˜ŽSQLè¯­å¥æ‰§è¡Œå¤±è´¥ï¼Œä»…å½“æ‰§è¡Œå¤±è´¥åŽç»§ç»­æ‰§è¡ŒåŽé¢çš„SQLè¯­å¥æ—¶å‡ºé¡¹ã€‚å¦‚æžœé©±åŠ¨ç¨‹åºä¸æ”¯æŒæ‰¹é‡ï¼Œæˆ–è€…æœªèƒ½æˆåŠŸæ‰§è¡ŒBatchä¸­çš„SQLè¯­å¥ä¹‹ä¸€ï¼Œå°†æŠ›å‡ºå¼‚å¸¸ close() ç«‹å³é‡Šæ”¾Statementå®žä¾‹å ç”¨çš„æ•°æ®åº“å’ŒJDBCèµ„æºï¼Œå³å…³é—­Statementå®žä¾‹ 2.5 æ‰§è¡ŒåŠ¨æ€SQLè¯­å¥æŽ¥å£PreparedStatement&emsp;&emsp;java.sql.PreparedStatementæŽ¥å£ç»§æ‰¿äºŽStatementæŽ¥å£ï¼Œæ˜¯StatementæŽ¥å£çš„æ‰©å±•ï¼Œç”¨æ¥æ‰§è¡ŒåŠ¨æ€çš„SQLè¯­å¥ï¼Œå³åŒ…å«å‚æ•°çš„SQLè¯­å¥ã€‚é€šè¿‡PreparedStatementå®žä¾‹æ‰§è¡Œçš„åŠ¨æ€SQLè¯­å¥ï¼Œå°†è¢«é¢„ç¼–è¯‘å¹¶ä¿å­˜åˆ°PreparedStatementå®žä¾‹ä¸­ï¼Œä»Žè€Œå¯ä»¥åå¤å¹¶ä¸”é«˜æ•ˆåœ°æ‰§è¡Œè¯¥SQLè¯­å¥ã€‚ &emsp;&emsp;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨é€šè¿‡setXXX()æ–¹æ³•ä¸ºSQLè¯­å¥ä¸­çš„å‚æ•°èµ‹å€¼æ—¶ï¼Œå¿…é¡»é€šè¿‡ä¸Žè¾“å…¥å‚æ•°çš„å·²å®šä¹‰SQLç±»åž‹å…¼å®¹çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥é€šè¿‡setObject()æ–¹æ³•è®¾ç½®å„ç§ç±»åž‹çš„è¾“å…¥å‚æ•°ã€‚PreparedStatementçš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ã€‚ 123456789101112//...String sql = "select * from table_name where id&gt;? and (name=? or name=?)";PreparedStatement ps = connection.prepareStatement(sql);ps.setInt(1,1);ps.setString(2,"zhangsan");ps.setObject(3,"lisi");ResultSet rs = ps.executeQuery();//... &emsp;&emsp;PreparedStatementæŽ¥å£æä¾›çš„å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚ æ–¹æ³•åç§° åŠŸèƒ½æè¿° executeQuery() æ‰§è¡Œå‰é¢åŒ…å«å‚æ•°çš„åŠ¨æ€SELECTè¯­å¥ï¼Œå¹¶è¿”å›žä¸€ä¸ªä¸èƒ½ä¸ºnullçš„ResultSertralineå®žä¾‹ executeUpdate() æ‰§è¡Œå‰é¢åŒ…å«å‚æ•°çš„åŠ¨æ€INEERTã€UPDATEæˆ–DELECTè¯­å¥ï¼Œå¹¶è¿”å›žä¸€ä¸ªintæ•´æ•°å€¼ï¼Œä¸ºåŒæ­¥æ›´æ–°è®°å½•çš„æ¡æ•° clearParameters() æ¸…é™¤å½“å‰æ‰€æœ‰å‚æ•°çš„å€¼ setXXX() ä¸ºæŒ‡å®šå‚æ•°è®¾ç½®XXXåž‹å€¼ close() ç«‹å³é‡Šæ”¾Statementå®žä¾‹æ‰€å ç”¨çš„æ•°æ®åº“å’ŒJDBCèµ„æºï¼Œå³å…³é—­Statementå®žä¾‹ 2.6 æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹æŽ¥å£CallableStatement&emsp;&emsp;java.sql.CallableStatementæŽ¥å£ç»§æ‰¿äºŽPreparedStatementæŽ¥å£ï¼Œæ˜¯PreparedStatementæŽ¥å£çš„æ‰©å±•ï¼Œç”¨æ¥æ‰§è¡ŒSQLçš„å­˜å‚¨è¿‡ç¨‹ã€‚ &emsp;&emsp;JDBC APIå®šä¹‰äº†ä¸€å¥—å­˜å‚¨è¿‡ç¨‹SQLè½¬ä¹‰è¯­æ³•ï¼Œè¯¥è¯­æ³•å…è®¸å¯¹æ‰€æœ‰RDBMSé€šè¿‡æ ‡å‡†æ–¹å¼è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ã€‚è¯¥è¯­æ³•å®šä¹‰äº†ä¸¤ç§å½¢å¼ï¼Œåˆ†åˆ«æ˜¯åŒ…å«ç»“æžœå‚æ•°å’Œä¸åŒ…å«ç»“æžœå‚æ•°ã€‚å¦‚æžœä½¿ç”¨ç»“æžœå‚æ•°ï¼Œåˆ™å¿…é¡»å°†å…¶æ³¨å†Œä¸ºOUTåž‹å‚æ•°ï¼Œå‚æ•°æ˜¯æ ¹æ®å®šä¹‰ä½ç½®æŒ‰é¡ºåºå¼•ç”¨çš„ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ç´¢å¼•ä¸º1ã€‚ &emsp;&emsp;ä¸ºå‚æ•°èµ‹å€¼çš„æ–¹æ³•ä½¿ç”¨ä»ŽPreparedStatementä¸­ç»§æ‰¿æ¥çš„setXXX()æ–¹æ³•ã€‚åœ¨æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹ä¹‹å‰ï¼Œå¿…é¡»æ³¨å†Œæ‰€æœ‰OUTå‚æ•°çš„ç±»åž‹ï¼›å®ƒä»¬çš„å€¼æ˜¯åœ¨æ‰§è¡ŒåŽé€šè¿‡getXXX()æ–¹æ³•æ£€ç´¢çš„ã€‚ &emsp;&emsp;CallableStatementå¯ä»¥è¿”å›žä¸€ä¸ªæˆ–å¤šä¸ªResultSetå®žä¾‹ã€‚å¤„ç†å¤šä¸ªResuletSetå¯¹è±¡çš„æ–¹æ³•æ˜¯ä»ŽStatementä¸­ç»§æ‰¿æ¥çš„ã€‚ 2.7 è®¿é—®ç»“æžœé›†æŽ¥å£ResultSet&emsp;&emsp;java.sql.ResultSetæŽ¥å£ç±»ä¼¼äºŽä¸€ä¸ªæ•°æ®åº“ï¼Œé€šè¿‡è¯¥æŽ¥å£çš„å®žä¾‹å¯ä»¥èŽ·å¾—æ£€ç´¢ç»“æžœé›†ï¼Œä»¥åŠå¯¹æ•°æ®è¡¨çš„ç›¸å…³ä¿¡æ¯ï¼Œä¾‹å¦‚åˆ—åå’Œç±»åž‹ç­‰ï¼ŒResultSetå®žä¾‹é€šè¿‡æ‰§è¡ŒæŸ¥è¯¢æ•°æ®åº“çš„è¯­å¥ç”Ÿæˆã€‚ &emsp;&emsp;ResultSetå®žä¾‹å…·æœ‰æŒ‡å‘å…¶å½“å‰æ•°æ®è¡Œçš„æŒ‡é’ˆã€‚æœ€åˆï¼ŒæŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€è¡Œè®°å½•çš„å‰æ–¹ï¼Œé€šè¿‡next()æ–¹æ³•å¯ä»¥å°†æŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œï¼Œå› ä¸ºè¯¥æ–¹æ³•åœ¨æ²¡æœ‰ä¸‹ä¸€è¡Œæ—¶å°†è¿”å›žfalseï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡whileå¾ªçŽ¯æ¥è¿­ä»£ResultSetç»“æžœé›†ã€‚åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ResultSetå¯¹è±¡ä¸å¯ä»¥æ›´æ–°ï¼Œåªæœ‰ä¸€ä¸ªå¯ä»¥å‘å‰ç§»åŠ¨çš„æŒ‡é’ˆï¼Œå› æ­¤ï¼Œåªèƒ½è¿­ä»£å®ƒä¸€æ¬¡ï¼Œå¹¶ä¸”åªèƒ½æŒ‰ä»Žç¬¬ä¸€è¡Œåˆ°æœ€åŽä¸€è¡Œçš„é¡ºåºè¿›è¡Œã€‚å¦‚æžœéœ€è¦ï¼Œå¯ä»¥ç”Ÿæˆå¯æ»šåŠ¨å’Œå¯æ›´æ–°çš„ResutlSetå¯¹è±¡ã€‚ ResultSetæŽ¥å£æä¾›äº†ä»Žå½“å‰è¡Œæ£€ç´¢ä¸åŒç±»åž‹åˆ—å€¼çš„getXXX()æ–¹æ³•ï¼Œå‡æœ‰ä¸¤ä¸ªé‡è½½æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡åˆ—çš„ç´¢å¼•ç¼–å·æˆ–åˆ—çš„åç§°æ£€ç´¢ï¼Œé€šè¿‡åˆ—çš„ç´¢å¼•ç¼–å·è¾ƒä¸ºé«˜æ•ˆï¼Œåˆ—çš„ç´¢å¼•ç¼–å·ä»Ž1å¼€å§‹ã€‚å¯¹äºŽä¸åŒçš„getXXX()æ–¹æ³•ï¼ŒJDBCé©±åŠ¨ç¨‹åºå°è¯•å°†åŸºç¡€æ•°æ®è½¬æ¢ä¸ºä¸ŽgetXXX()æ–¹æ³•ç›¸åº”çš„Javaç±»åž‹ï¼Œå¹¶è¿”å›žé€‚å½“çš„Javaç±»åž‹çš„å€¼ã€‚ &emsp;&emsp;ResultSetæŽ¥å£æä¾›çš„å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚ æ–¹æ³•åç§° åŠŸèƒ½æè¿° first() ç§»åŠ¨æŒ‡é’ˆåˆ°ç¬¬ä¸€è¡Œï¼›å¦‚æžœç»“æžœé›†ä¸ºç©ºåˆ™è¿”å›žfalseï¼Œå¦åˆ™è¿”å›žtrueï¼›å¦‚æžœç»“æžœé›†ç±»åž‹ä¸ºTYPE_FORWARD_ONLYå°†æŠ›å‡ºå¼‚å¸¸ last() ç§»åŠ¨æŒ‡é’ˆåˆ°æœ€åŽä¸€è¡Œï¼›å¦‚æžœç»“æžœé›†ä¸ºç©ºåˆ™è¿”å›žfalseï¼Œå¦åˆ™è¿”å›žtrueï¼›å¦‚æžœç»“æžœé›†ç±»åž‹ä¸ºTYPE_FORWARD_ONLYå°†æŠ›å‡ºå¼‚å¸¸ previous() ç§»åŠ¨æŒ‡é’ˆåˆ°ä¸Šä¸€è¡Œï¼›å¦‚æžœå­˜åœ¨ä¸Šä¸€è¡Œåˆ™è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalseï¼›å¦‚æžœç»“æžœé›†ç±»åž‹ä¸ºTYPE_FORWARD_ONLYå°†æŠ›å‡ºå¼‚å¸¸ next() ç§»åŠ¨æŒ‡é’ˆåˆ°ä¸‹ä¸€è¡Œï¼›æŒ‡é’ˆæœ€åˆä½äºŽç¬¬ä¸€è¡Œä¹‹å‰ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨è¯¥æ–¹æ³•å°†ç§»åŠ¨åˆ°ç¬¬ä¸€è¡Œï¼›å¦‚æžœå­˜åœ¨ä¸‹ä¸€è¡Œåˆ™è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalse beforeFirst() ç§»åŠ¨æŒ‡é’ˆåˆ°ResultSetå®žä¾‹çš„å¼€å¤´ï¼Œå³ç¬¬ä¸€è¡Œä¹‹å‰ï¼›å¦‚æžœç»“æžœé›†ç±»åž‹ä¸ºTYPE_FORWARD_ONLYå°†æŠ›å‡ºå¼‚å¸¸ afterLast() ç§»åŠ¨æŒ‡é’ˆåˆ°ResultSetå®žä¾‹çš„æœ«å°¾ï¼Œå³æœ€åŽä¸€è¡Œä¹‹åŽï¼›å¦‚æžœç»“æžœé›†ç±»åž‹ä¸ºTYPE_FORWARD_ONLYå°†æŠ›å‡ºå¼‚å¸¸ absolute() ç§»åŠ¨æŒ‡é’ˆåˆ°æŒ‡å®šè¡Œï¼›æœ‰ä¸€ä¸ªintåž‹å…¥å£å‚æ•°ï¼Œæ­£æ•°è¡¨ç¤ºä»Žå‰å‘åŽç¼–å·ï¼Œè´Ÿæ•°è¡¨ç¤ºä»ŽåŽå‘å‰ç¼–å·ï¼Œç¼–å·å‡ä»Ž1å¼€å§‹ï¼›å¦‚æžœå­˜åœ¨æŒ‡å®šè¡Œåˆ™è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalseï¼›å¦‚æžœç»“æžœé›†ç±»åž‹ä¸ºTYPE_FORWARD_ONLYå°†æŠ›å‡ºå¼‚å¸¸ relative() ç§»åŠ¨æŒ‡é’ˆåˆ°ç›¸å¯¹äºŽå½“å‰è¡Œçš„æŒ‡å®šè¡Œï¼›æœ‰ä¸€ä¸ªintåž‹å…¥å£å‚æ•°ï¼Œæ­£æ•°è¡¨ç¤ºå‘åŽç§»åŠ¨ï¼Œè´Ÿæ•°è¡¨ç¤ºå‘å‰ç§»åŠ¨ï¼Œè§†å½“å‰è¡Œä¸º0ï¼›å¦‚æžœå­˜åœ¨æŒ‡å®šè¡Œåˆ™è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalseï¼›å¦‚æžœç»“æžœé›†ç±»åž‹ä¸ºTYPE_FORWARD_ONLYå°†æŠ›å‡ºå¼‚å¸¸ getRow() æŸ¥çœ‹å½“å‰è¡Œçš„ç´¢å¼•ç¼–å·ï¼›ç´¢å¼•ç¼–å·ä»Ž1å¼€å§‹ï¼Œå¦‚æžœä½äºŽæœ‰æ•ˆè®°å½•è¡Œä¸Šåˆ™è¿”å›žä¸€ä¸ªintåž‹ç´¢å¼•ç¼–å·ï¼Œå¦åˆ™è¿”å›ž0 findColumn() æŸ¥çœ‹æŒ‡å®šåˆ—åçš„ç´¢å¼•ç¼–å·ï¼›è¯¥æ–¹æ³•æœ‰ä¸€ä¸ªStringåž‹çš„å…¥å£å‚æ•°ï¼Œä¸ºè¦æŸ¥æ‰¾åˆ—çš„åç§°ï¼Œå¦‚æžœåŒ…å«æŒ‡å®šåˆ—ï¼Œåˆ™è¿”å›žintåž‹ç´¢å¼•ç¼–å·ï¼Œå¦åˆ™å°†æŠ›å‡ºå¼‚å¸¸ isBeforeFirst() æŸ¥çœ‹æŒ‡é’ˆæ˜¯å¦ä½äºŽResultSetå®žä¾‹çš„å¼€å¤´ï¼Œå³ç¬¬ä¸€è¡Œä¹‹å‰ï¼Œå¦‚æžœæ˜¯åˆ™è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalse isAfterLast() æŸ¥çœ‹æŒ‡é’ˆæ˜¯å¦ä½äºŽResultSetå®žä¾‹çš„æœ«å°¾ï¼Œå³æœ€åŽä¸€è¡Œä¹‹åŽï¼Œå¦‚æžœæ˜¯åˆ™è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalse isFirst() æŸ¥çœ‹æŒ‡é’ˆæ˜¯å¦ä½äºŽResultSetå®žä¾‹çš„ç¬¬ä¸€è¡Œï¼Œå¦‚æžœæ˜¯åˆ™è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalse isLast() æŸ¥çœ‹æŒ‡é’ˆæ˜¯å¦ä½äºŽResultSetå®žä¾‹çš„æœ€åŽä¸€è¡Œï¼Œå¦‚æžœæ˜¯åˆ™è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalse close() ç«‹å³é‡Šæ”¾ResultSetå®žä¾‹å ç”¨çš„æ•°æ®åº“å’ŒJDBCèµ„æºï¼Œå½“å…³é—­æ‰€å±žçš„Statementå®žä¾‹æ—¶ä¹Ÿå°†æ‰§è¡Œæ­¤æ“ä½œ 3. JDBCè®¿é—®æ•°æ®åº“è¿‡ç¨‹&emsp;&emsp;åœ¨å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œæ—¶ï¼Œé¦–å…ˆéœ€è¦è¿žæŽ¥æ•°æ®åº“ï¼Œåœ¨ä½¿ç”¨JDBCè¿žæŽ¥æ•°æ®åº“å¤§è‡´å¯åˆ†ä¸ºåŠ è½½JDBCé©±åŠ¨ç¨‹åºã€åˆ›å»ºConnectionå¯¹è±¡çš„å®žä¾‹ã€åˆ›å»ºStatementå¯¹è±¡ã€æ‰§è¡ŒSQLè¯­å¥ã€èŽ·å¾—æŸ¥è¯¢ç»“æžœå’Œå…³é—­è¿žæŽ¥ç­‰6ä¸ªæ­¥éª¤ã€‚ ä¸‹é¢ä¸€ä¸ªä¾‹å­æ¥æ¼”ç¤ºJDBCè¿žæŽ¥MYSQLæ•°æ®åº“å¹¶èŽ·å¾—æŸ¥è¯¢ç»“æžœé›†ã€‚ JDBCTest.java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081package com.heng.jdbc;import java.sql.Connection;import java.sql.DriverManager;import java.sql.ResultSet;import java.sql.Statement;public class JDBCTest &#123; public static void main(String[] args) &#123; /** * å£°æ˜ŽConnectionã€Statementã€ResultSetå¯¹è±¡ */ Connection connection = null; Statement statement = null; ResultSet resultSet = null; /** * æ•°æ®åº“è¿žæŽ¥é…ç½® */ String url = "jdbc:mysql://localhost:3306/jdbctest?useUnicode=true&amp;amp;characterEncoding=utf-8"; String user = "root"; String password = "root"; try&#123; /** * ç¬¬ä¸€æ­¥ï¼šåŠ è½½Mysqlé©±åŠ¨ç±»ï¼ˆéœ€è¦å¼•å…¥MySQLæ”¯æŒåŒ…ï¼‰ */ Class.forName("com.mysql.jdbc.Driver"); /** * ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ•°æ®åº“è¿žæŽ¥ */ connection = DriverManager.getConnection(url,user,password); /** * ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºStatementå¯¹è±¡ */ statement = connection.createStatement(); /** * ç¬¬å››æ­¥ï¼šæ‰§è¡ŒSQLè¯­å¥(æ•°æ®åº“å·²å»ºå¥½ï¼Œå¹¶æœ‰è¡¨å’Œæ•°æ®) */ String sql= "SELECT * FROM user ORDER BY id"; resultSet = statement.executeQuery(sql); /** * ç¬¬äº”æ­¥ï¼šèŽ·å¾—æŸ¥è¯¢ç»“æžœ */ System.out.println("id\t\tå§“å\t\tå‡ºç”Ÿæ—¥æœŸ\t\t\t\tç”µè¯\t\tæ€§åˆ«"); while (resultSet.next())&#123; int id = resultSet.getInt(1); String username = resultSet.getString(2); String date = resultSet.getString(3); String phone = resultSet.getString(4); boolean age = resultSet.getBoolean(5); System.out.println(id+"\t\t"+username+"\t\t"+date+"\t\t"+phone+"\t\t"+age); &#125; &#125;catch (Exception e)&#123; e.printStackTrace(); &#125;finally &#123; try&#123; /** * ç¬¬å…­æ­¥ï¼šå…³é—­èµ„æº */ if(resultSet != null)&#123; resultSet.close(); &#125; if(statement != null)&#123; statement.close(); &#125; if(connection != null)&#123; connection.close(); &#125; &#125;catch (Exception e)&#123; e.printStackTrace(); &#125; &#125; &#125;&#125; &emsp;&emsp;è¿è¡Œç»“æžœï¼š æŠ€å·§ï¼šé€šå¸¸å°†è´Ÿè´£åŠ è½½é©±åŠ¨çš„ä»£ç æ”¾åœ¨staticå—ä¸­ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯åªæœ‰staticå—æ‰€åœ¨çš„ç±»ç¬¬ä¸€æ¬¡è¢«åŠ è½½æ—¶æ‰åŠ è½½æ•°æ®åº“é©±åŠ¨ï¼Œé¿å…é‡å¤åŠ è½½é©±åŠ¨ç¨‹åºï¼Œæµªè´¹è®¡ç®—æœºèµ„æºã€‚ è¯´æ˜Žï¼šé‡‡ç”¨ä¸Šé¢çš„é¡ºåºå…³é—­çš„åŽŸå› åœ¨äºŽConnectionæ˜¯ä¸€ä¸ªæŽ¥å£ï¼Œclose()æ–¹æ³•çš„å®žçŽ°æ–¹å¼å¯èƒ½å¤šç§å¤šæ ·ã€‚å¦‚æžœæ˜¯é€šè¿‡DriverManagerç±»çš„getConnection()æ–¹æ³•å¾—åˆ°çš„Connectionå®žä¾‹ï¼Œåœ¨è°ƒç”¨close()æ–¹æ³•å…³é—­Connectionå®žä¾‹æ—¶ä¼šåŒæ—¶å…³é—­Statementå®žä¾‹å’ŒResultSetå®žä¾‹ã€‚ä½†æ˜¯é€šå¸¸æƒ…å†µä¸‹éœ€è¦é‡‡ç”¨æ•°æ®åº“è¿žæŽ¥æ± ï¼Œåœ¨è°ƒç”¨é€šè¿‡è¿žæŽ¥æ± å¾—åˆ°çš„Connectionå®žä¾‹çš„close()æ–¹æ³•æ—¶ï¼ŒConnectionå®žä¾‹å¯èƒ½å¹¶æ²¡æœ‰è¢«é‡Šæ”¾ï¼Œè€Œæ˜¯è¢«æ”¾å›žåˆ°äº†è¿žæŽ¥æ± ä¸­ï¼Œåˆè¢«å…¶å®ƒè¿žæŽ¥è°ƒç”¨ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹å¦‚æžœä¸æ‰‹åŠ¨å…³é—­Statementå®žä¾‹å’ŒResultSetå®žä¾‹ï¼Œå®ƒä»¬åœ¨Connectionä¸­å¯èƒ½ä¼šè¶Šæ¥è¶Šå¤šï¼Œè™½ç„¶JVMçš„åžƒåœ¾å›žæ”¶æœºåˆ¶ä¼šå®šæ—¶æ¸…ç†ç¼“å­˜ï¼Œä½†æ˜¯å¦‚æžœæ¸…ç†çš„ä¸åŠæ—¶ï¼Œå½“æ•°æ®åº“è¿žæŽ¥è¾¾åˆ°ä¸€å®šæ•°é‡æ—¶ï¼Œå°†ä¸¥é‡å½±å“æ•°æ®åº“å’Œè®¡ç®—æœºçš„è¿è¡Œé€Ÿåº¦ï¼Œç”šè‡³å¯¼è‡´è½¯ä»¶æ‰€ç³»ç»Ÿç˜«ç—ªã€‚ 4. æ•°æ®åº“æ“ä½œæŠ€æœ¯&emsp;&emsp;åœ¨å¼€å‘Webåº”ç”¨ç¨‹åºæ—¶ï¼Œç»å¸¸éœ€è¦å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œï¼Œæœ€å¸¸ç”¨çš„æ•°æ®åº“æ“ä½œæŠ€æœ¯ï¼ŒåŒ…æ‹¬å‘æ•°æ®åº“æŸ¥è¯¢ã€æ·»åŠ ã€ä¿®æ”¹æˆ–åˆ é™¤æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¿™äº›æ“ä½œæ—¢å¯ä»¥é€šè¿‡é™æ€çš„SQLè¯­å¥å®žçŽ°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åŠ¨æ€çš„SQLè¯­å¥å®žçŽ°ï¼Œè¿˜å¯ä»¥é€šè¿‡å­˜å‚¨è¿‡ç¨‹å®žçŽ°ï¼Œå…·ä½“é‡‡ç”¨çš„å®žçŽ°æ–¹å¼è¦æ ¹æ®å®žé™…æƒ…å†µè€Œå®šã€‚ 4.1 æŸ¥è¯¢æ“ä½œ&emsp;&emsp;JDBCæä¾›äº†ä¸¤ç§å®žçŽ°æ•°æ®åº“æŸ¥è¯¢çš„å•Šæ–¹æ³•ï¼Œä¸€ç§æ˜¯é€šè¿‡Statementå¯¹è±¡æ‰§è¡Œé™æ€çš„SQLè¯­å¥å®žçŽ°ï¼›å¦ä¸€ç§æ˜¯é€šè¿‡PreparedStatementå¯¹è±¡æ‰§è¡ŒåŠ¨æ€çš„SQLè¯­å¥å®žçŽ°ã€‚ç”±äºŽPreparedStatementç±»æ˜¯Statementç±»çš„æ‰©å±•ï¼Œä¸€ä¸ªPreparedStatementå¯¹è±¡åŒ…å«ä¸€ä¸ªé¢„ç¼–è¯‘çš„SQLè¯­å¥ï¼Œè¯¥SQLè¯­å¥å¯èƒ½åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œè¿™æ ·åº”ç”¨ç¨‹åºå¯ä»¥åŠ¨æ€åœ°ä¸ºå…¶èµ‹å€¼ï¼Œæ‰€ä»¥PreparedStatementå¯¹è±¡æ‰§è¡Œåœ°é€Ÿåº¦æ¯”Statementå¯¹è±¡å¿«ã€‚å› æ­¤åœ¨æ‰§è¡Œè¾ƒå¤šåœ°SQLè¯­å¥æ—¶ï¼Œå»ºè®®ä½¿ç”¨PreparedStatementå¯¹è±¡ã€‚ &emsp;&emsp;ä¸‹é¢é€šè¿‡ä¸¤ä¸ªå®žä¾‹åˆ†åˆ«åº”ç”¨è¿™ä¸¤ç§æ–¹å¼å®žçŽ°æ•°æ®æŸ¥è¯¢ã€‚ æŸ¥è¯¢æ“ä½œå®žä¾‹1 12345678910/*** æ­¤å¤„çœç•¥äº†åˆ›å»ºæ•°æ®åº“è¿žæŽ¥åœ°ä»£ç */Statement stmt = conn.createStatement();ResultSet rs = stmt.executeQuery("select * from tb_user where name = 'zhangsan'");while(rs.next())&#123; System.out.println("ç”¨æˆ·åï¼š"+rs.getString(2)+" å¯†ç ï¼š"+rs.getString(3));&#125;//å…³é—­è¿žæŽ¥//... æŸ¥è¯¢æ“ä½œå®žä¾‹2 1234567891011/*** æ­¤å¤„çœç•¥äº†åˆ›å»ºæ•°æ®åº“è¿žæŽ¥åœ°ä»£ç */PreparedStatement pStmt = conn.prepareStatement("select * from tb_user where name=?");pStmt.setString(1,"zhangsan");ResultSet rs = pStmt.executeQuery();while(rs.next())&#123; System.out.println("ç”¨æˆ·åï¼š"+rs.getString(2)+" å¯†ç ï¼š"+rs.getString(3));&#125;//å…³é—­è¿žæŽ¥//... 4.2 æ·»åŠ æ“ä½œ&emsp;&emsp;ä¸ŽæŸ¥è¯¢æ“ä½œç›¸åŒï¼ŒJDBCä¸­ä¹Ÿæä¾›äº†ä¸¤ç§å®žçŽ°æ•°æ®æ·»åŠ æ“ä½œåœ°æ–¹æ³•ï¼Œä¸€ç§æ˜¯é€šè¿‡Statementå¯¹è±¡æ‰§è¡Œé™æ€åœ°SQLè¯­å¥å®žçŽ°ï¼›å¦ä¸€ç§æ˜¯é€šè¿‡PerparedStatementå¯¹è±¡æ‰§è¡ŒåŠ¨æ€åœ°SQLè¯­å¥å®žçŽ°ã€‚ åº”ç”¨Statementå¯¹è±¡å‘æ•°æ®è¡¨tb_userä¸­æ·»åŠ æ•°æ® 1234//...Statement stmt = conn.createStatement();int rtn = stmt.executeUpdate("insert into tb_user(name,password) values('heng','123')");//... åº”ç”¨PreparedStatementå¯¹è±¡å‘æ•°æ®è¡¨tb_userä¸­æ·»åŠ æ•°æ® 123456//...PreparedStatement pStmt = conn.prepareStatement("insert into tb_user(name,passwrod) values(?,?)");pStmt.setString(1,"heng");pStmt.setString(2,"123");int rtn = pStmt.executeUpdate();//.. 4.3 ä¿®æ”¹æ“ä½œ&emsp;&emsp;ä¸Žæ·»åŠ æ“ä½œç›¸åŒï¼ŒJDBCä¸­åŒæ ·æä¾›äº†ä¸¤ç§å®žçŽ°æ•°æ®ä¿®æ”¹æ“ä½œåœ°æ–¹æ³•ï¼Œä¸€ç§æ˜¯é€šè¿‡Statementå¯¹è±¡æ‰§è¡Œé™æ€åœ°SQLè¯­å¥å®žçŽ°ï¼›å¦ä¸€ç§æ˜¯é€šè¿‡PerparedStatementå¯¹è±¡æ‰§è¡ŒåŠ¨æ€åœ°SQLè¯­å¥å®žçŽ°ã€‚ åº”ç”¨Statementå¯¹è±¡ä¿®æ”¹æ•°æ®è¡¨ä¸­usernameå­—æ®µå€¼ä¸ºâ€hengâ€çš„è®°å½• 1234//...Statement stmt = conn.createStatement();int rtn = stmt.executeUpdate("update tb_user set username='zhangsan',password='111' where username='heng'");//... åº”ç”¨PreparedStatementå¯¹è±¡ä¿®æ”¹æ•°æ®è¡¨ä¸­usernameå­—æ®µå€¼ä¸ºâ€hengâ€çš„è®°å½• 1234567//...PreparedStatement pStmt = conn.prepareStatement("update tb_user set username=?,passwrod=? where username=?");pStmt.setString(1,"zhangsan");pStmt.setString(2,"111");pStmt.setString(3,"heng");int rtn = pStmt.executeUpdate();//... 4.4 åˆ é™¤æ“ä½œ&emsp;&emsp;å®žçŽ°æ•°æ®åº“åˆ é™¤æ“ä½œä¹Ÿå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å®žçŽ°ã€‚ä¸€ç§æ˜¯é€šè¿‡Statementå¯¹è±¡æ‰§è¡Œé™æ€åœ°SQLè¯­å¥å®žçŽ°ï¼›å¦ä¸€ç§æ˜¯é€šè¿‡PerparedStatementå¯¹è±¡æ‰§è¡ŒåŠ¨æ€åœ°SQLè¯­å¥å®žçŽ°ã€‚ åº”ç”¨Statementå¯¹è±¡ä»Žæ•°æ®è¡¨ä¸­åˆ é™¤usernameå­—æ®µå€¼ä¸ºâ€zhangsanâ€çš„æ•°æ® 1234//...Statement stmt = conn.createStatement();int rtn = stmt.executeUpdate("delete from tb_user where username='zhangsan'");//... åº”ç”¨PreparedStatementå¯¹è±¡ä»Žæ•°æ®è¡¨ä¸­åˆ é™¤usernameå­—æ®µå€¼ä¸ºâ€zhangsanâ€çš„æ•°æ® 12345//...PreparedStatement pStmt = conn.prepareStatemnt("delete from tb_user where username=?");pStmt.setString(1,"zhangsan");int rtn = pStmt.executeUpdate();//... 5. è¿žæŽ¥æ± æŠ€æœ¯&emsp;&emsp;é€šå¸¸æƒ…å†µä¸‹ï¼Œåœ¨æ¯æ¬¡è®¿é—®æ•°æ®åº“ä¹‹å‰éƒ½è¦å…ˆå»ºç«‹ä¸Žæ•°æ®åº“çš„è¿žæŽ¥ï¼Œè¿™å°†æ¶ˆè€—ä¸€å®šçš„èµ„æºï¼Œå¹¶å»¶é•¿äº†è®¿é—®æ•°æ®åº“çš„æ—¶é—´ï¼Œå¦‚æžœæ˜¯è®¿é—®é‡ç›¸å¯¹è¾ƒä½Žçš„ç³»ç»Ÿè¿˜å¯ä»¥ï¼Œå¦‚æžœè®¿é—®é‡è¾ƒé«˜ï¼Œå°†ä¸¥é‡å½±å“ç³»ç»Ÿçš„æ€§èƒ½ã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œå¼•å…¥äº†è¿žæŽ¥æ± çš„æ¦‚å¿µã€‚ æ•°æ®åº“è¿žæŽ¥æ˜¯ä¸€ç§å…³é”®çš„æœ‰é™çš„æ˜‚è´µçš„èµ„æºï¼Œè¿™ä¸€ç‚¹åœ¨å¤šç”¨æˆ·çš„ç½‘é¡µåº”ç”¨ç¨‹åºä¸­ä½“çŽ°çš„å°¤ä¸ºçªå‡ºï¼Œå¯¹æ•°æ®åº“è¿žæŽ¥çš„ç®¡ç†èƒ½æ˜¾è‘—å½±å“åˆ°æ•´ä¸ªåº”ç”¨ç¨‹åºçš„ä¼¸ç¼©æ€§å’Œå¥å£®æ€§ï¼Œå½±å“åˆ°ç¨‹åºçš„æ€§èƒ½æŒ‡æ ‡ï¼Œæ•°æ®åº“è¿žæŽ¥æ± æ­£å¼é’ˆå¯¹è¿™ä¸ªé—®é¢˜æå‡ºæ¥çš„ï¼Œæ•°æ®åº“è¿žæŽ¥æ± è´Ÿè´£åˆ†é…ã€ç®¡ç†å’Œé‡Šæ”¾æ•°æ®åº“è¿žæŽ¥ï¼Œå®ƒå…è®¸åº”ç”¨ç¨‹åºé‡å¤ä½¿ç”¨ä¸€ä¸ªçŽ°æœ‰çš„æ•°æ®åº“è¿žæŽ¥ï¼Œè€Œä¸æ˜¯é‡æ–°å»ºç«‹ä¸€ä¸ªã€‚ 5.1 è¿žæŽ¥æ± ç®€ä»‹&emsp;&emsp;æ‰€è°“è¿žæŽ¥æ± ï¼Œå°±æ˜¯é¢„å…ˆå»ºç«‹å¥½ä¸€å®šæ•°é‡çš„æ•°æ®åº“è¿žæŽ¥ï¼Œæ¨¡æ‹Ÿå­˜æ”¾åœ¨ä¸€ä¸ªè¿žæŽ¥æ± ä¸­ï¼Œç”±è¿žæŽ¥æ± è´Ÿè´£å¯¹è¿™äº›æ•°æ®åº“è¿žæŽ¥è¿›è¡Œç®¡ç†ã€‚è¿™æ ·ï¼Œå½“éœ€è¦è®¿é—®æ•°æ®åº“æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡å·²ç»å»ºç«‹å¥½çš„è¿žæŽ¥è®¿é—®æ•°æ®åº“äº†ï¼Œä»Žè€Œé¿å…äº†æ¯æ¬¡åœ¨è®¿é—®æ•°æ®åº“ä¹‹å‰å»ºç«‹æ•°æ®åº“è¿žæŽ¥çš„å¼€é”€ã€‚ &emsp;&emsp;è¿žæŽ¥æ± è¿˜è§£å†³äº†æ•°æ®åº“è¿žæŽ¥æ•°é‡é™åˆ¶çš„é—®é¢˜ã€‚ç”±äºŽæ•°æ®åº“èƒ½å¤Ÿæ‰¿å—çš„è¿žæŽ¥æ•°é‡æ˜¯æœ‰é™çš„ï¼Œå½“è¾¾åˆ°ä¸€å®šç¨‹åº¦æ—¶ï¼Œæ•°æ®åº“çš„æ€§èƒ½å°±ä¼šä¸‹é™ï¼Œç”šè‡³å´©æºƒï¼Œè€Œæ± åŒ–ç®¡ç†æœºåˆ¶ï¼Œé€šè¿‡æœ‰æ•ˆåœ°ä½¿ç”¨å’Œè°ƒåº¦è¿™äº›è¿žæŽ¥æ± ä¸­çš„è¿žæŽ¥ï¼Œåˆ™è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ &emsp;&emsp;æ•°æ®åº“è¿žæŽ¥æ± çš„å…·ä½“å®žæ–½åŠžæ³•å¦‚ä¸‹ã€‚ 1ï¼‰é¢„å…ˆåˆ›å»ºä¸€å®šæ•°é‡çš„è¿žæŽ¥ï¼Œå­˜æ”¾åœ¨è¿žæŽ¥æ± ä¸­ï¼› 2ï¼‰å½“ç¨‹åºè¯·æ±‚ä¸€ä¸ªè¿žæŽ¥æ—¶ï¼Œè¿žæŽ¥æ± æ˜¯ä¸ºè¯¥è¯·æ±‚åˆ†é…ä¸€ä¸ªç©ºé—²è¿žæŽ¥ï¼Œè€Œä¸æ˜¯åŽ»é‡æ–°å»ºç«‹ä¸€ä¸ªè¿žæŽ¥ï¼›å½“ç¨‹åºä½¿ç”¨å®Œè¿žæŽ¥åŽï¼Œè¯¥è¿žæŽ¥å°†é‡æ–°å›žåˆ°è¿žæŽ¥æ± ä¸­ï¼Œè€Œä¸æ˜¯ç›´æŽ¥å°†è¿žæŽ¥é‡Šæ”¾ï¼› 3ï¼‰å½“è¿žæŽ¥æ± ä¸­çš„ç©ºé—²è¿žæŽ¥æ•°é‡ä½ŽäºŽä¸‹é™æ—¶ï¼Œè¿žæŽ¥æ± å°†æ ¹æ®ç®¡ç†æœºåˆ¶è¿½åŠ åˆ›å»ºä¸€å®šæ•°é‡çš„è¿žæŽ¥ï¼›å½“ç©ºé—²è¿žæŽ¥æ•°é‡é«˜äºŽä¸Šé™æ—¶ï¼Œè¿žæŽ¥æ± å°†é‡Šæ”¾ä¸€å®šæ•°é‡çš„è¿žæŽ¥ã€‚ æ³¨æ„ï¼šåœ¨æ¯æ¬¡ç”¨å®ŒConnectionåŽï¼Œè¦åŠæ—¶è°ƒç”¨Connectionå¯¹è±¡çš„close()æˆ–dispose()æ–¹æ³•æ˜¾å¼å…³é—­è¿žæŽ¥ï¼Œä»¥ä¾¿è¿žæŽ¥å¯ä»¥åŠæ—¶è¿”å›žåˆ°è¿žæŽ¥æ± ä¸­ï¼Œéžæ˜¾å¼å…³é—­çš„è¿žæŽ¥å¯èƒ½ä¸ä¼šæ·»åŠ æˆ–è¿”å›žåˆ°æ± ä¸­ã€‚ &emsp;&emsp;è¿žæŽ¥æ± çš„ä¼˜ç‚¹ã€‚ åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“è¿žæŽ¥æ‰€è€—è´¹çš„æ—¶é—´ä¸»è¦å–å†³äºŽç½‘ç»œçš„é€Ÿåº¦ä»¥åŠåº”ç”¨ç¨‹åºå’Œæ•°æ®åº“æœåŠ¡å™¨çš„ï¼ˆç½‘ç»œï¼‰è·ç¦»ï¼Œè€Œä¸”è¿™ä¸ªè¿‡ç¨‹é€šå¸¸æ˜¯ä¸€ä¸ªå¾ˆè€—æ—¶çš„è¿‡ç¨‹ï¼Œè€Œé‡‡ç”¨æ•°æ®åº“è¿žæŽ¥æ± åŽï¼Œæ•°æ®åº“è¿žæŽ¥è¯·æ±‚åˆ™å¯ä»¥ç›´æŽ¥é€šè¿‡è¿žæŽ¥æ± æ»¡è¶³ï¼Œè€Œä¸éœ€è¦ä¸ºè¯¥è¯·æ±‚é‡æ–°è¿žæŽ¥ã€è®¤è¯åˆ°æ•°æ®åº“æœåŠ¡å™¨ï¼Œä»Žè€ŒèŠ‚çœäº†æ—¶é—´ï¼› æé«˜äº†æ•°æ®åº“è¿žæŽ¥çš„é‡å¤ä½¿ç”¨çŽ‡ï¼› è§£å†³äº†æ•°æ®åº“å¯¹è¿žæŽ¥æ•°é‡çš„é™åˆ¶ã€‚ &emsp;&emsp;è¿žæŽ¥æ± çš„ç¼ºç‚¹ã€‚ è¿žæŽ¥æ± ä¸­å¯èƒ½å­˜åœ¨å¤šä¸ªä¸Žæ•°æ®åº“ä¿æŒè¿žæŽ¥ä½†æœªè¢«ä½¿ç”¨çš„è¿žæŽ¥ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šæµªè´¹äº†èµ„æºï¼› è¦æ±‚å¼€å‘äººå‘˜å’Œä½¿ç”¨è€…å‡†ç¡®ä¼°ç®—ç³»ç»Ÿéœ€è¦æä¾›çš„æœ€å¤§æ•°æ®åº“è¿žæŽ¥çš„æ•°é‡ã€‚ 5.2 é…ç½®å¹¶ä½¿ç”¨è¿žæŽ¥æ±  è¯´æ˜Žï¼šçŽ°åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹å¼€æºå¼€æºæ•°æ®åº“è¿žæŽ¥æ± è¾ƒå¤šï¼Œä¾‹å¦‚DBCPã€C3P0ç­‰ï¼Œå› æ­¤è¿™é‡Œä¸å†è®²è§£çº¯Javaä»£ç ç¼–å†™çš„æ•°æ®åº“è¿žæŽ¥æ± ï¼Œåˆ«äººå·²ç»ç»™æˆ‘ä»¬å°è£…å¥½äº†ï¼Œç›´æŽ¥ä½¿ç”¨å°±è¡Œã€‚ è¿™é‡Œå¯ä»¥å‚è€ƒã€å­¤å‚²è‹ç‹¼ã€‘https://www.cnblogs.com/xdp-gacl/p/4002804.htmlè¿™ä½æŠ€æœ¯å¤§ç‰›çš„åšæ–‡ã€‚ 5.3 ä½¿ç”¨æœåŠ¡å™¨æä¾›çš„æ•°æ®åº“è¿žæŽ¥æ± &emsp;&emsp;åœ¨Webé¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™ä¼šä½¿ç”¨åˆ°æœåŠ¡å™¨æä¾›ç»™æˆ‘ä»¬çš„æ•°æ®åº“è¿žæŽ¥æ± ï¼Œè¿™é‡Œç®€å•ä»‹ç»ä»¥ä¸‹å¦‚ä½•åœ¨TomcatæœåŠ¡å™¨ä¸­å¦‚ä½•é…ç½®æ•°æ®åº“è¿žæŽ¥æ± ã€‚ &emsp;&emsp;åœ¨é…ç½®ä¹‹å‰ï¼Œä»‹ç»ä¸‹JNDIæŠ€æœ¯ï¼ŒJNDIï¼ˆJava Nameing and Directory Interfaceã€Javaå‘½åå’Œç›®å½•æŽ¥å£ï¼‰ï¼Œå®ƒå¯ä»¥æŠŠJavaå¯¹è±¡æ”¾åœ¨ä¸€ä¸ªå®¹å™¨ä¸­ï¼ˆJNDIå®¹å™¨ï¼‰ï¼Œå¹¶ä¸ºå®¹å™¨ä¸­çš„javaå¯¹è±¡å–ä¸€ä¸ªåç§°ï¼Œä»¥åŽç¨‹åºæƒ³èŽ·å¾—Javaå¯¹è±¡ï¼Œåªéœ€é€šè¿‡åç§°æ£€ç´¢å³å¯ã€‚å…¶æ ¸å¿ƒAPIä¸ºContextï¼Œå®ƒä»£è¡¨JNDIå®¹å™¨ï¼Œå…¶lookupæ–¹æ³•ä¸ºæ£€ç´¢å®¹å™¨ä¸­å¯¹åº”åç§°çš„å¯¹è±¡ã€‚ &emsp;&emsp;TomcatæœåŠ¡å™¨åˆ›å»ºçš„æ•°æ®æºæ—¶ä»¥JNDIèµ„æºçš„å½¢å¼å‘å¸ƒçš„ã€‚åœ¨é…ç½®æ•°æ®æºæ—¶ï¼Œå¯ä»¥å°†å…¶é…ç½®åˆ°Tomcatå®‰è£…ç›®å½•ä¸‹çš„conf\server.xmlæ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥å°†å…¶é…ç½®åˆ°Webå·¥ç¨‹ç›®å½•ä¸‹çš„META-INF\context.xmlæ–‡ä»¶ä¸­ï¼Œå»ºè®®é‡‡ç”¨åŽè€…ï¼Œå› ä¸ºè¿™æ ·é…ç½®çš„æ•°æ®æºæ›´æœ‰é’ˆå¯¹æ€§ï¼Œé…ç½®æ•°æ®æºçš„å…·ä½“ä»£ç å¦‚ä¸‹ã€‚ 12345678&lt;Context&gt; &lt;Resource name="TestJNDI" auth="Container" type="javax.sql.DataSource" driverClassName="com.mysql.jdbc.Driver" username="root" password="root" url="jdbc:mysql://localhost:3306/jdbctest" maxActive="8" maxIdle="2" maxWait="6000"/&gt;&lt;/Context&gt; &emsp;&emsp;åœ¨é…ç½®æ•°æ®æºæ—¶éœ€è¦é…ç½®çš„å…ƒç´ çš„å±žæ€§åŠå…¶è¯´æ˜Žå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚ å±žæ€§åç§° è¯´æ˜Ž name è®¾ç½®æ•°æ®æºçš„JNDIå auth è®¾ç½®æ•°æ®æºçš„ç®¡ç†è€…ï¼Œæœ‰ä¸¤ä¸ªå¯é€‰å€¼Containerå’ŒApplicationï¼ŒContainerè¡¨ç¤ºç”±å®¹å™¨æ¥åˆ›å»ºå’Œç®¡ç†æ•°æ®æºï¼ŒApplicationè¡¨ç¤ºç”±Webåº”ç”¨æ¥åˆ›å»ºå’Œç®¡ç†æ•°æ®æº type è®¾ç½®æ•°æ®æºçš„ç±»åž‹ driverClassName è®¾ç½®è¿žæŽ¥æ•°æ®åº“çš„JDBCé©±åŠ¨ç¨‹åº url è®¾ç½®è¿žæŽ¥æ•°æ®åº“çš„è·¯å¾„ username è®¾ç½®æ•°æ®åº“çš„ç”¨æˆ·å password è®¾ç½®è¿žæŽ¥æ•°æ®åº“çš„å¯†ç  maxActive è®¾ç½®è¿žæŽ¥æ± ä¸­å¤„äºŽæ´»åŠ¨çŠ¶æ€çš„æ•°æ®åº“è¿žæŽ¥çš„æœ€å¤§æ•°ç›®ï¼Œ0è¡¨ç¤ºä¸å—é™åˆ¶ maxIdle è®¾ç½®è¿žæŽ¥æ± ä¸­å¤„äºŽç©ºé—²çŠ¶æ€çš„æ•°æ®åº“è¿žæŽ¥çš„æœ€å¤§æ•°ç›®ï¼Œ0è¡¨ç¤ºä¸å—é™åˆ¶ maxWait è®¾ç½®è¿žæŽ¥æ± ä¸­æ²¡æœ‰å¤„äºŽç©ºé—²çŠ¶æ€çš„è¿žæŽ¥æ—¶ï¼Œè¯·æ±‚æ•°æ®åº“è¿žæŽ¥è¯·æ±‚çš„æœ€é•¿ç­‰å¾…æ—¶é—´ï¼ˆå•ä½ä¸ºmsï¼‰ï¼Œå¦‚æžœè¶…å‡ºè¯¥æ—¶é—´å°†æŠ›å‡ºå¼‚å¸¸ï¼Œ-1è¡¨ç¤ºæ— é™åˆ¶ç­‰å¾… å¯é€šè¿‡ä¸‹é¢ä»£ç æ¥èŽ·å–è¿žæŽ¥ã€‚123456789101112131415161718//éƒ¨åˆ†çœç•¥try&#123; Context ctx = new InitialContext(); ctx = (Context)ctx.lookup("java:comp/env"); DataSource ds = (DataSource)ctx.lookup("TestJNDI"); Connection conn = ds.getConnection(); Statement stmt = conn.createStatement(); ResultSet rs = stmt.executeQuery("select * from user"); while(rs.next())&#123; //... &#125; //å…³é—­èµ„æº...&#125;catch(Exception e)&#123; &#125; &emsp;&emsp;JDBCå°±å…ˆè®°å½•è¿™äº›ï¼ŒåŽé¢å¦‚æœ‰è¡¥å……åœ¨æ›´æ–°ã€‚]]></content>
      <categories>
        <category>Java</category>
        <category>JDBC</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JDBC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¿›ç¨‹å’Œçº¿ç¨‹ï¼ˆä¸‰ï¼‰çº¿ç¨‹çš„åŒæ­¥ã€è°ƒåº¦ã€å®‰å…¨]]></title>
    <url>%2F2018%2F09%2F28%2F%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%B8%89%EF%BC%89%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%90%8C%E6%AD%A5%E3%80%81%E8%B0%83%E5%BA%A6%E3%80%81%E5%AE%89%E5%85%A8%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;å‰è¨€ï¼šå‰é¢è®²åˆ°äº†çº¿ç¨‹çš„ä½¿ç”¨å’Œåˆ›å»ºï¼Œè¿™ç¯‡ä¸»è¦ä»‹ç»çº¿ç¨‹çš„è°ƒåº¦ã€åŒæ­¥ã€å®‰å…¨ä»¥åŠå…¶å®ƒç›¸å…³æ–¹æ³•ã€‚ 1. çº¿ç¨‹çš„è°ƒåº¦&emsp;&emsp;åŒä¸€æ—¶åˆ»å¦‚æžœæœ‰å¤šä¸ªçº¿ç¨‹å¤„äºŽå¯ä»¥è¿è¡ŒçŠ¶æ€ï¼Œåˆ™å®ƒä»¬éœ€è¦æŽ’é˜Ÿç­‰å¾…CPUèµ„æºã€‚æ­¤æ—¶æ¯ä¸ªçº¿ç¨‹è‡ªåŠ¨èŽ·å¾—ä¸€ä¸ªçº¿ç¨‹çš„ä¼˜å…ˆçº§ï¼ˆpriorityï¼‰ï¼Œä¼˜å…ˆçº§é«˜ä½Žåæ˜ çº¿ç¨‹çš„é‡è¦æˆ–ç´§æ€¥ç¨‹åº¦ã€‚å¯è¿è¡ŒçŠ¶æ€çš„çº¿ç¨‹æŒ‰ä¼˜å…ˆçº§æŽ’é˜Ÿï¼Œçº¿ç¨‹è°ƒåº¦ä¾æ®ä¼˜å…ˆçº§åŸºç¡€ä¸Šçš„â€œå…ˆåˆ°å…ˆæœåŠ¡â€åŽŸåˆ™ã€‚ &emsp;&emsp;Javaä¸­åœ¨å¯¹çº¿ç¨‹è¿›è¡Œè°ƒåº¦æ—¶ï¼Œé‡‡ç”¨äº†ä¼˜å…ˆçº§è°ƒåº¦ç­–ç•¥ï¼Œå…·ä½“ç­–ç•¥ä¸ºï¼šâ€œä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹åº”è¯¥æœ‰æ›´å¤§çš„èŽ·å–CPUèµ„æºæ‰§è¡Œçš„æ¦‚çŽ‡ï¼Œä¼˜å…ˆçº§ä½Žçš„çº¿ç¨‹å¹¶ä¸æ˜¯æ€»ä¸èƒ½æ‰§è¡Œâ€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ä¼˜å…ˆçº§ä¸€èˆ¬ä¸ä¼šæ¯”æ­£åœ¨å‡†å¤‡çŠ¶æ€ç­‰å¾…æ‰§è¡Œçš„çº¿ç¨‹ä¼˜å…ˆçº§ä½Žã€‚ &emsp;&emsp;Javaä¸­çº¿ç¨‹çš„ä¼˜å…ˆçº§ç”¨1~10ä¹‹é—´çš„æ•´æ•°è¡¨ç¤ºï¼Œæ•°å€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼Œé»˜è®¤ä¼˜å…ˆçº§ä¸º5.åˆ—å¦‚ï¼Œåœ¨æ²¡æœ‰ç‰¹åˆ«æŒ‡å®šçš„æƒ…å†µä¸‹ï¼Œä¸»çº¿ç¨‹çš„ä¼˜å…ˆçº§ä¸º5.å¦å¤–ï¼Œå¯¹äºŽå­çº¿ç¨‹ï¼Œå…¶åˆå§‹ä¼˜å…ˆçº§ä¸Žå…¶çˆ¶çº¿ç¨‹çš„ä¼˜å…ˆçº§ç›¸åŒã€‚å½“éœ€è¦æ”¹å˜çº¿ç¨‹çš„ä¼˜å…ˆçº§æ—¶ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨setPriority()æ–¹æ³•æ¥å®žçŽ°ï¼Œä¸‹é¢ä¸ºè¯¥æ–¹æ³•çš„å£°æ˜Žï¼š 1public final void setPriority(int newPriority); è¯¥æ–¹æ³•æ—¶finalçš„ï¼Œæ‰€ä»¥åœ¨ç»§æ‰¿Threadç±»æ—¶ä¸èƒ½é‡å†™è¯¥æ–¹æ³•ã€‚å‚æ•°newPriorityè¡¨ç¤ºéœ€è¦è®¾ç½®çš„ä¼˜å…ˆçº§åˆ«ï¼Œåº”è¯¥æ˜¯1~10ä¹‹é—´çš„æ•´æ•°ã€‚ä¸ºäº†ä¾¿äºŽè®°å¿†ï¼ŒJavaä¸­ä¹Ÿæä¾›äº†3ä¸ªå¸¸é‡æ¥è¡¨ç¤ºæ¯”è¾ƒå¸¸ç”¨çš„ä¼˜å…ˆçº§åˆ«ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š å¸¸é‡ è¡¨ç¤ºçš„å†…å®¹ public static final int MAX_PRIORITY è¯¥å¸¸é‡å°†è¡¨ç¤ºçº¿ç¨‹å¯ä»¥å…·æœ‰æœ€é«˜çš„ä¼˜å…ˆçº§ public static final int NORM_PRIORITY è¯¥å¸¸é‡å°†è¡¨ç¤ºçº¿ç¨‹å¯ä»¥å…·æœ‰é»˜è®¤çš„ä¼˜å…ˆçº§ï¼Œå³5 public static final int MIN_PRIORITY è¯¥å¸¸é‡å°†è¡¨ç¤ºçº¿ç¨‹å¯ä»¥å…·æœ‰æœ€ä½Žçš„ä¼˜å…ˆçº§ &emsp;&emsp;ä¸‹é¢ç»™å‡ºä¸€ä¸ªåˆ©ç”¨ä¼˜å…ˆçº§å¯¹çº¿ç¨‹è¿›è¡Œè°ƒåº¦çš„ä¾‹å­ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839package com.heng.thread;class MyThread1 extends Thread&#123; @Override public void run() &#123; for(int i = 1;i &lt; 10;i++)&#123; System.out.print(" &lt;MyThread1&gt;"+Thread.currentThread().getName()+"--"+i); if(i % 3 == 0)&#123; System.out.print("\n"); &#125; &#125; &#125;&#125;class MyThread2 extends Thread&#123; @Override public void run() &#123; for(int i = 1;i &lt; 10;i++)&#123; System.out.print(" &lt;MyThread2&gt;"+Thread.currentThread().getName()+"--"+i); if(i % 3 == 0)&#123; System.out.print("\n"); &#125; &#125; &#125;&#125;public class test4&#123; public static void main(String[] args) &#123; Thread thread1 = new MyThread1(); Thread thread2 = new MyThread2(); thread1.setPriority(Thread.MIN_PRIORITY); thread2.setPriority(Thread.MAX_PRIORITY); thread1.start(); thread2.start(); &#125;&#125; &emsp;&emsp;ä¸Šè¿°ä»£ç ä¸­å°†ä¸¤ä¸ªçº¿ç¨‹åˆ†åˆ«è®¾ç½®ä¸ºæœ€ä½Žã€æœ€é«˜çš„ä¼˜å…ˆçº§ï¼Œç„¶åŽåˆ†åˆ«å¯åŠ¨æ‰§è¡Œã€‚åœ¨å¯åŠ¨æ—¶ï¼Œé¦–å…ˆå¯åŠ¨ä¼˜å…ˆçº§ä½Žçš„çº¿ç¨‹ã€‚ç¼–è¯‘å¹¶è¿è¡Œä»£ç ï¼Œè¿è¡Œç»“æžœï¼š &emsp;&emsp;åœ¨ä¸Šå›¾ä¸­ï¼Œä¼˜å…ˆçº§é«˜çš„è¿è¡Œå®Œæ¯•ï¼Œä¼˜å…ˆçº§ä½Žçš„æ‰å¼€å§‹è¿è¡Œï¼Œè¿™ä¸Žå‰é¢è¯´çš„â€œå½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ä¼˜å…ˆçº§ä¸€èˆ¬ä¸ä¼šæ¯”æ­£åœ¨å‡†å¤‡çŠ¶æ€ç­‰å¾…æ‰§è¡Œçš„çº¿ç¨‹ä¼˜å…ˆçº§ä½Žâ€æ˜¯ç¬¦åˆçš„ï¼Œä½†è¦ç‰¹åˆ«æ³¨æ„ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€å®šçš„ã€‚ 2. çº¿ç¨‹çš„å…¶å®ƒæ–¹æ³•1ï¼‰çº¿ç¨‹ç¡çœ &emsp;&emsp;åœ¨çº¿ç¨‹æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œè°ƒç”¨sleep()æ–¹æ³•å¯ä»¥è®©çº¿ç¨‹ç¡çœ ä¸€æ®µæŒ‡å®šçš„æ—¶é—´ï¼Œç­‰æŒ‡å®šæ—¶é—´åˆ°è¾¾åŽï¼Œè¯¥çº¿ç¨‹åˆ™ä¼šè‹é†’ï¼Œå¹¶è¿›å…¥å‡†å¤‡ç­‰å¾…æ‰§è¡Œã€‚è¿™æ˜¯ä½¿æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹è®©å‡ºCPUçš„æœ€ç®€å•æ–¹æ³•ä¹‹ä¸€ï¼Œå…¶å£°æ˜Žå¦‚ä¸‹ï¼š 12public static void sleep(long millis)throws InterruptedExceptionpublic static void sleep(long millis,int nanos)throws InterruptedException &emsp;&emsp;sleep()æ–¹æ³•è¢«é‡è½½äº†ï¼Œä½†ä¸Šè¿°ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥ä½¿çº¿ç¨‹è¿›å…¥ç¡çœ çŠ¶æ€ã€‚å‚æ•°millisä¸ºæŒ‡å®šçº¿ç¨‹å°†ç¡çœ çš„æ¯«ç§’æ•°ï¼Œå‚æ•°namosä¸ºæŒ‡å®šçº¿ç¨‹é¢å¤–å°†ç¡çœ çš„çº³ç§’æ•°ã€‚ 1Thread.sleep(3*1000); //è°ƒç”¨æ–¹æ³•ï¼šç¡çœ 3ç§’ &emsp;&emsp;è¦ç‰¹åˆ«æ³¨æ„ çº¿ç¨‹é†’æ¥å°†è¿›å…¥å‡†å¤‡çŠ¶æ€ï¼Œå¹¶ä¸èƒ½ä¿è¯ç«‹åˆ»æ‰§è¡Œï¼Œå› æ­¤æŒ‡å®šçš„æ—¶é—´ä½¿çº¿ç¨‹æš‚åœæ‰§è¡Œçš„æœ€å°æ—¶é—´ã€‚ sleep()ä½¿å¾—ä¸€ä¸ªçº¿ç¨‹è¿›å…¥ç¡çœ çŠ¶æ€ï¼Œä½†æ˜¯çº¿ç¨‹æ‰€å æœ‰çš„èµ„æºå¹¶æ²¡æœ‰é‡Šæ”¾ï¼ˆä¾‹å¦‚ï¼šé”èµ„æºï¼‰ã€‚ 2ï¼‰çº¿ç¨‹ç­‰å¾…&emsp;&emsp;Objectç±»ä¸­çš„wait()æ–¹æ³•ï¼Œä½¿çº¿ç¨‹è½¬åˆ°é˜»å¡žçŠ¶æ€ï¼Œç›´åˆ°å…¶ä»–çº¿ç¨‹è°ƒç”¨æ­¤å¯¹è±¡çš„notify()æ–¹æ³•æˆ–notifyAll()æ–¹æ³•å”¤é†’ã€‚å½“çº¿ç¨‹æ‰§è¡Œäº†ä¸€ä¸ªç‰¹å®šå¯¹è±¡çš„wait()è°ƒç”¨æ—¶ï¼Œé‚£ä¸ªçº¿ç¨‹è¢«æ”¾åˆ°ä¸Žé‚£ä¸ªå¯¹è±¡ç›¸å…³çš„ç­‰å¾…æ± ä¸­ã€‚æ­¤å¤–ï¼Œè°ƒç”¨wait()æ–¹æ³•çš„çº¿ç¨‹è‡ªåŠ¨é‡Šæ”¾å¯¹è±¡çš„é”æ ‡å¿—ã€‚ &emsp;&emsp;æ³¨æ„ï¼šwait()å’Œsleep()æ–¹æ³•æœ¬è´¨ä¸Šæ¥è¯´æ˜¯ä¸ä¸€æ ·çš„ã€‚sleep()æ²¡æœ‰é‡Šæ”¾é”æ ‡å¿—ã€é‡Šæ”¾èµ„æºï¼Œè€Œwait()å®žé™…ä¸Šæ”¾å¼ƒäº†é”ï¼Œå°†èµ„æºè´¡çŒ®å‡ºæ¥ï¼Œç›´åˆ°è¢«å”¤é†’ã€‚ 3ï¼‰çº¿ç¨‹è®©æ­¥&emsp;&emsp;Thread.yield();æ–¹æ³•ï¼Œæš‚åœå½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡ï¼ŒæŠŠæ‰§è¡Œæœºä¼šè®©ç»™ç›¸åŒæˆ–è€…æ›´é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹ã€‚ 4ï¼‰çº¿ç¨‹åŠ å…¥&emsp;&emsp;join()æ–¹æ³•ï¼Œç­‰å¾…å…¶ä»–çº¿ç¨‹ç»ˆæ­¢ã€‚åœ¨å½“å‰çº¿ç¨‹ä¸­è°ƒç”¨å¦ä¸€ä¸ªçº¿ç¨‹çš„join()æ–¹æ³•ï¼Œåˆ™å½“å‰çº¿ç¨‹è½¬å…¥é˜»å¡žçŠ¶ä½“ï¼Œç›´åˆ°å¦ä¸€ä¸ªçº¿ç¨‹è¿è¡Œç»“æŸï¼Œå½“å‰çº¿ç¨‹å†ç”±é˜»å¡žè½¬ä¸ºå°±ç»ªçŠ¶æ€ã€‚ 5ï¼‰çº¿ç¨‹å”¤é†’&emsp;&emsp;Objectç±»ä¸­çš„notify()å’ŒnotifyAll()æ–¹æ³•å¯å”¤é†’åœ¨ç­‰å¾…æ± ä¸­çš„çº¿ç¨‹ã€‚å¯¹ä¸€ä¸ªç‰¹å®šå¯¹è±¡æ‰§è¡Œnotify()è°ƒç”¨æ—¶ï¼Œå°†ä»Žå¯¹è±¡çš„ç­‰å¾…æ± ä¸­ç§»èµ°ä¸€ä¸ªä»»æ„çš„çº¿ç¨‹ï¼Œå¹¶æ”¾åˆ°é”æ ‡å¿—ç­‰å¾…æ± ä¸­ï¼Œé‚£é‡Œçš„çº¿ç¨‹ä¸€ç›´åœ¨ç­‰å¾…ï¼Œç›´åˆ°å¯ä»¥èŽ·å¾—å¯¹è±¡çš„é”æ ‡å¿—ã€‚notifyAll()æ–¹æ³•å°†ä»Žå¯¹è±¡ç­‰å¾…æ± ä¸­ç§»èµ°æ‰€æœ‰ç­‰å¾…é‚£ä¸ªå¯¹è±¡çš„çº¿ç¨‹å¹¶æ”¾åˆ°é”æ ‡å¿—ç­‰å¾…æ± ä¸­ã€‚åªæœ‰é”æ ‡å¿—ç­‰å¾…æ± ä¸­çš„çº¿ç¨‹èƒ½èŽ·å–å¯¹è±¡çš„é”æ ‡å¿—ï¼Œé”æ ‡å¿—å…è®¸çº¿ç¨‹ä»Žä¸Šæ¬¡å› è°ƒç”¨wait()è€Œä¸­æ–­çš„åœ°æ–¹ç»§ç»­è¿è¡Œã€‚ æ³¨ï¼š è‡ªç‰ˆæœ¬1.0å¼€å§‹JavaSEå°±æä¾›äº†wait()ï¼Œnotify()ä»¥åŠnotifyAll()æ–¹æ³•ã€‚è™½ç„¶ä»¥ä¸Šæ‰€è¯´çš„3ä¸ªæ–¹æ³•æœ€å¸¸å‡ºçŽ°çš„åœ°æ–¹æ˜¯çº¿ç¨‹çš„å†…éƒ¨ï¼Œä½†æ˜¯è¿™äº›æ–¹æ³•å¹¶ä¸æ˜¯Threadç±»çš„æˆå‘˜å‡½æ•°ã€‚å®žé™…ä¸ŠJavaåœ¨è®¾è®¡çš„æ—¶å€™å°±å……åˆ†è€ƒè™‘åˆ°äº†åŒæ­¥çš„é—®é¢˜ï¼Œå› è€Œåœ¨è®¾è®¡åŸºç¡€ç±»Objectçš„æ—¶å€™å°±ä¸ºå…¶æä¾›äº†è¿™3ä¸ªå‡½æ•°ã€‚è¿™å°±æ„å‘³ç€ç¼–å†™ä»»ä½•ç±»éƒ½å¯ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•ï¼ˆå½“ç„¶æŸäº›æ—¶å€™è¿™äº›æ–¹æ³•æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼‰ã€‚ ç”±äºŽwait()ï¼Œnotify()å’ŒnotifyAll()éƒ½æ˜¯é”çº§åˆ«çš„æ“ä½œï¼Œæ‰€ä»¥æŠŠä»–ä»¬å®šä¹‰åœ¨Objectç±»ä¸­ï¼ˆå› ä¸ºé”å±žäºŽå¯¹è±¡çº§ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰é”ï¼‰ã€‚ waitã€notifyã€notifyAllåªèƒ½åœ¨åŒæ­¥æŽ§åˆ¶æ–¹æ³•æˆ–åŒæ­¥æŽ§åˆ¶å—é‡Œé¢ä½¿ç”¨ï¼ˆå³æ­é…synchonized ä½¿ç”¨ï¼Œç”¨äºŽçº¿ç¨‹åŒæ­¥ï¼‰ã€‚ 3. çº¿ç¨‹çš„åŒæ­¥ï¼ˆé‡ç‚¹ï¼‰&emsp;&emsp;åœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­ï¼Œç”±äºŽåŒæ—¶æœ‰å¤šä¸ªçº¿ç¨‹å¹¶å‘è¿è¡Œï¼Œæœ‰æ—¶ä¼šå¸¦æ¥ä¸¥é‡çš„é—®é¢˜ï¼Œç”šè‡³å¼•å‘é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªé“¶è¡Œè´¦å·åœ¨åŒä¸€æ—¶åˆ»åªèƒ½ç”±ä¸€ä¸ªç”¨æˆ·æ“ä½œï¼Œå¦‚æžœä¸¤ä¸ªç”¨æˆ·åŒæ—¶æ“ä½œå¾ˆå¯èƒ½ä¼šäº§å‡ºé”™è¯¯ï¼ˆçº¿ç¨‹å®‰å…¨é—®é¢˜ï¼‰ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œåœ¨å¤šçº¿ç¨‹å¼€å‘ä¸­å°±éœ€è¦ä½¿ç”¨ä¸€äº›æŠ€æœ¯æ¥é¿å…è¿™äº›é”™è¯¯çš„å‘ç”Ÿã€‚ä¸‹é¢å°±è®²è®²Javaä½¿ç”¨çš„åŒæ­¥æŠ€æœ¯ã€‚ &emsp;&emsp;åŒæ­¥æ–¹æ³•æ˜¯æŒ‡ç”¨synchronizedå…³é”®å­—ä¿®é¥°çš„æ–¹æ³•ï¼Œå…¶ä¸Žæ™®é€šæ–¹æ³•çš„ä¸åŒæ˜¯ï¼Œè¿›å…¥åŒæ­¥æ–¹æ³•æ‰§è¡Œçš„çº¿ç¨‹å°†èŽ·å¾—åŒæ­¥æ–¹æ³•æ‰€å±žå¯¹è±¡çš„é”ï¼Œä¸€æ—¦å¯¹è±¡è¢«é”ï¼Œå…¶ä»–çº¿ç¨‹å°±ä¸èƒ½æ‰§è¡Œè¢«é”å¯¹è±¡çš„ä»»ä½•åŒæ­¥æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œçº¿ç¨‹åœ¨æ‰§è¡ŒåŒæ­¥æ–¹æ³•ä¹‹å‰ï¼Œé¦–å…ˆè¯•å›¾èŽ·å¾—æ–¹æ³•æ‰€å±žå¯¹è±¡çš„é”ï¼Œå¦‚æžœä¸èƒ½èŽ·å¾—é”å°±è¿›å…¥å¯¹è±¡çš„é”ç­‰å¾…æ± ç­‰å¾…ï¼Œç›´åˆ°åˆ«çš„çº¿ç¨‹é‡Šæ”¾é”ï¼Œå…¶èŽ·å¾—é”æ‰èƒ½æ‰§è¡Œã€‚ å£°æ˜ŽåŒæ­¥æ–¹æ³•çš„åŸºæœ¬è¯­æ³•ã€‚ 123synchronized &lt;è¿”å›žç±»åž‹&gt; æ–¹æ³•å([å‚æ•°åˆ—è¡¨]) [throws &lt;å¼‚å¸¸åºåˆ—&gt;]&#123; //åŒæ­¥æ–¹æ³•çš„æ–¹æ³•ä½“&#125; å£°æ˜ŽåŒæ­¥ä»£ç å—çš„åŸºæœ¬è¯­æ³•ã€‚ 123synchronized(obj)&#123; //ä»£ç å—&#125; &emsp;&emsp;åœ¨ä½¿ç”¨åŒæ­¥æ–¹æ³•æ—¶è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ã€‚ å…³é”®å­—synchronizedåªèƒ½æ ‡è¯†æ–¹æ³•æˆ–ä»£ç å—ï¼Œä¸èƒ½æ ‡è¯†æˆå‘˜å˜é‡ï¼Œä¸å­˜åœ¨åŒæ­¥çš„æˆå‘˜å˜é‡ã€‚ ä¸€ä¸ªå¯¹è±¡å¯ä»¥åŒæ—¶ç”±åŒæ­¥ä¸ŽéžåŒæ­¥æ–¹æ³•ï¼Œåªæœ‰è¿›å…¥åŒæ­¥æ–¹æ³•æ‰§è¡Œæ‰éœ€è¦èŽ·å¾—é”ï¼Œæ¯ä¸ªå¯¹è±¡åªæœ‰ä¸€ä¸ªé”ã€‚è‹¥ä¸€ä¸ªå¯¹è±¡ä¸­æœ‰å¤šä¸ªåŒæ­¥æ–¹æ³•ï¼Œå½“æŸçº¿ç¨‹åœ¨è®¿é—®å…¶ä¸­ä¹‹ä¸€æ—¶ï¼Œå…¶ä»–çº¿ç¨‹ä¸èƒ½è®¿é—®è¯¥å¯¹è±¡ä¸­çš„ä»»ä½•åŒæ­¥æ–¹æ³•ï¼Œä½†å¯ä»¥è®¿é—®éžåŒæ­¥æ–¹æ³•ã€‚ è‹¥çº¿ç¨‹èŽ·å¾—é”åŽè¿›å…¥ç¡çœ æˆ–è¿›è¡Œè®©æ­¥ï¼Œåˆ™å°†å¸¦ç€é”ä¸€èµ·ç¡çœ æˆ–è®©æ­¥ï¼Œè¿™ç§åšæ³•å°†ä¸¥é‡å½±å“ç­‰å¾…é”çš„çº¿ç¨‹çš„æ‰§è¡Œï¼Œè¿›è€Œå½±å“ç¨‹åºçš„æ•´ä½“æ€§èƒ½ã€‚ åŒæ­¥æ–¹æ³•é€€å‡ºæ—¶ï¼Œé”å°†è¢«é‡Šæ”¾ï¼Œå…¶ä»–ç­‰å¾…çš„çº¿ç¨‹å¯ä»¥èŽ·å¾—é”ã€‚ &emsp;&emsp;åŒæ­¥æ–¹æ³•å®žä¾‹ä»£ç ï¼š 123456789101112//æ ‡è¯†ä¸ºåŒæ­¥çš„æ–¹æ³•public synchronized void myFunction()&#123; System.out.println("æˆ‘æ˜¯ä¸€ä¸ªåŒæ­¥çš„æ–¹æ³•ï¼");&#125;/*** æ ‡è¯†é™æ€çš„åŒæ­¥æ–¹æ³•* é™æ€æ–¹æ³•ä¹Ÿå…è®¸åŒæ­¥ï¼Œè¿™æ ·å°±ä¿è¯äº†é™æ€æ–¹æ³•ä¸ä¼šåŒæ—¶è¢«å¤šä¸ªçº¿ç¨‹ä½¿ç”¨**/public static synchronized void myFunnction1()&#123; System.out.println("æˆ‘æ˜¯ä¸€ä¸ªåŒæ­¥çš„é™æ€æ–¹æ³•ï¼");&#125; å…¶å®žé™æ€åŒæ­¥æ–¹æ³•åœ¨æ‰§è¡Œå‰ï¼Œçº¿ç¨‹è¦èŽ·å–çš„æ˜¯æ–¹æ³•æ‰€åœ¨ç±»çš„é”ï¼Œåœ¨é“ç†ä¸Šä¸Žéžé™æ€åŒæ­¥æ–¹æ³•è¦èŽ·å¾—æ–¹æ³•æ‰€å±žå¯¹è±¡çš„é”æ˜¯ç›¸åŒçš„ã€‚åŒä¸€æ—¶åˆ»ä¸€ä¸ªç±»ä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªé™æ€åŒæ­¥æ–¹æ³•è¢«è®¿é—®ã€‚ &emsp;&emsp;åŒæ­¥ä»£ç å—å®žä¾‹ä»£ç ï¼š 12345678910class myThread implements Runnable&#123; private byte[] lock = new byte[0]; //ç‰¹æ®Šçš„instanceå˜é‡ public void fun()&#123; synchronized(lock)&#123; //doString &#125; &#125;&#125; &emsp;&emsp;ä¸Šè¿°ä»£ç é€‚ç”¨äºŽæ²¡æœ‰æ˜Žç¡®çš„å¯¹è±¡ä½œä¸ºé”ï¼Œåªæ˜¯æƒ³è®©ä¸€æ®µä»£ç å—åŒæ­¥æ—¶ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªç‰¹æ®Šçš„instanceå˜é‡æ¥å……å½“é”ï¼Œé›¶é•¿åº¦çš„byteæ•°ç»„å¯¹è±¡åˆ›å»ºèµ·æ¥æ¯”ä»»ä½•å¯¹è±¡éƒ½ç»æµŽâ€“æŸ¥çœ‹ç¼–è¯‘åŽçš„å­—èŠ‚ç ï¼Œç”Ÿæˆé›¶é•¿åº¦çš„byte[]æ•°ç»„å¯¹è±¡åªéœ€è¦3æ¡æ“ä½œç ï¼Œè€ŒObject lock = new Object();åˆ™éœ€è¦7è¡Œæ“ä½œç ã€‚ &emsp;&emsp;ä¸‹é¢ç”¨ä¸€æ–­ä»£ç æ¥å±•ç¤ºå‰é¢æ‰€è®²åˆ°çš„çŸ¥è¯†ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243package com.heng.thread;class MyRunnbale implements Runnable&#123; private int ticket; public MyRunnbale(int ticket)&#123; this.ticket = ticket; &#125; /** * å®žçŽ°run()æ–¹æ³• */ public synchronized void run() &#123; while (ticket &gt; 0)&#123; System.out.println(Thread.currentThread().getName()+"===ã€‹å‡ºå”®ä¸€å¼ ï¼Œä½™ç¥¨:"+(--ticket)); try&#123; //Thread.sleep(1*1000); if(ticket % 2 == 0)&#123; this.wait(); &#125;else&#123; this.notifyAll(); &#125; &#125;catch (Exception e)&#123; e.printStackTrace(); &#125; &#125; &#125;&#125;public class test3&#123; private static int ticket_num = 90; public static void main(String args[])&#123; System.out.println("====================æ€»ç¥¨æ•°ï¼š "+ticket_num+"====================="); Runnable thread = new MyRunnbale(ticket_num); new Thread(thread,"çª—å£--1").start(); new Thread(thread,"çª—å£--2").start(); new Thread(thread,"çª—å£--3").start(); &#125;&#125; &emsp;&emsp;è¿è¡Œç»“æžœï¼š &emsp;&emsp;æ€»ç»“ï¼š çº¿ç¨‹åŒæ­¥çš„ç›®çš„æ˜¯ä¸ºäº†ä¿æŠ¤å¤šä¸ªçº¿ç¨‹è®¿é—®ä¸€ä¸ªå…±äº«èµ„æºæ—¶å¯¹èµ„æºé€ æˆç ´åï¼ˆåŒæ­¥åŽåªèƒ½ä¸€ä¸ªä¸€ä¸ªæ“ä½œï¼‰ã€‚ çº¿ç¨‹åŒæ­¥æ–¹æ³•æ—¶é€šè¿‡é”æœºåˆ¶æ¥å®žçŽ°çš„ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰åˆ‡ä»…æœ‰ä¸€ä¸ªé”ï¼Œè¿™ä¸ªé”ä¸Žä¸€ä¸ªç‰¹å®šçš„å¯¹è±¡å…³è”ï¼Œçº¿ç¨‹ä¸€æ—¦èŽ·å–äº†å¯¹è±¡é”ï¼Œå…¶ä»–è®¿é—®è¯¥å¯¹è±¡çš„çº¿ç¨‹å°±æ— æ³•åœ¨è®¿é—®è¯¥å¯¹è±¡çš„å…¶ä»–åŒæ­¥æ–¹æ³•ã€‚ å½“å¤šä¸ªçº¿ç¨‹ç­‰å¾…ä¸€ä¸ªå¯¹è±¡é”æ—¶ï¼Œæ²¡æœ‰èŽ·å–åˆ°é”èµ„æºçš„çº¿ç¨‹å°†å‘ç”Ÿé˜»å¡žã€‚ å¯¹äºŽé™æ€åŒæ­¥æ–¹æ³•ï¼Œé”æ—¶é’ˆå¯¹è¿™ä¸ªç±»çš„ï¼Œé”å¯¹è±¡æ˜¯è¯¥ç±»çš„Classå¯¹è±¡ã€‚]]></content>
      <categories>
        <category>Java</category>
        <category>Java SE</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Java SE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Servletï¼ˆä¸‰ï¼‰ä¹‹å®žçŽ°ä¸€ä¸ªç®€å•çš„å¤‡å¿˜å½•]]></title>
    <url>%2F2018%2F09%2F27%2FServlet%EF%BC%88%E4%B8%89%EF%BC%89%E4%B9%8B%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%A4%87%E5%BF%98%E5%BD%95%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;å‰é¢ä»‹ç»äº†Servletå’ŒHttpServletçš„ç›¸å…³çŸ¥è¯†ï¼Œè¿™ä¸€ç¯‡ä¸»è¦è¿ç”¨å‰é¢çš„çŸ¥è¯†åšä¸€ä¸ªç®€å•çš„å¤‡å¿˜å½•ã€‚ éœ€æ±‚åˆ†æžï¼š é¦–å…ˆï¼Œç”¨æˆ·åœ¨å¡«å†™ä¿¡æ¯çš„é¡µé¢ä¸­è¾“å…¥ç•™è¨€ä¿¡æ¯ã€‚ ç„¶åŽï¼Œå•å‡»â€œæäº¤â€æŒ‰é’®æäº¤è¡¨å•ï¼Œæ ¹æ®é…ç½®ä¿¡æ¯ï¼Œè¡¨å•å°†è¢«æäº¤ç»™äº‹å…ˆç¼–å†™å¥½çš„Servletï¼Œåœ¨è¯¥Servletä¸­ä¿å­˜ç•™è¨€ä¿¡æ¯åˆ°applicationä¸­ï¼Œå¹¶è·³è½¬åˆ°show.jspé¡µé¢æ˜¾ç¤ºç”¨æˆ·å¤‡å¿˜å½•ä¿¡æ¯ã€‚ 1ï¼‰åˆ›å»ºå·¥å…·JavaBeanâ€“MyTools.javaã€‚åœ¨MyToolsä¸­åˆ›å»ºäº†changeHTML()æ–¹æ³•ã€changeTime()æ–¹æ³•å’ŒtoChinese()æ–¹æ³•ã€‚ MyTools.java12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152package com.heng.tools;import java.text.SimpleDateFormat;import java.util.Date;/** * å·¥å…·ç±»ï¼Œå®žçŽ°è½¬æ¢HTMLä¸­ç‰¹æ®Šå­—ç¬¦ã€æ ¼å¼åŒ–æ—¶é—´ã€è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ã€‚ */public class MyTools &#123; /** * åŠŸèƒ½ï¼šè½¬æ¢å­—ç¬¦ä¸²ä¸­å±žäºŽHTMLè¯­è¨€ä¸­çš„ç‰¹æ®Šå­—ç¬¦ * @param source * @return */ public static String changeHTML(String source)&#123; String changeStr = ""; changeStr = source.replace("&amp;","&amp;amp;"); //è½¬æ¢å­—ç¬¦ä¸²ä¸­çš„"&amp;"ç¬¦å· changeStr = source.replace("","&amp;nbsp;"); //è½¬æ¢å­—ç¬¦ä¸²ä¸­çš„ç©ºæ ¼ changeStr = source.replace("&lt;","&amp;lt;"); //è½¬æ¢å­—ç¬¦ä¸²ä¸­çš„"&lt;"ç¬¦å· changeStr = source.replace("&gt;","&amp;gt;"); //è½¬æ¢å­—ç¬¦ä¸²ä¸­çš„"&gt;"ç¬¦å· changeStr = source.replace("\r\n","&lt;br&gt;"); //è½¬æ¢å­—ç¬¦ä¸²ä¸­çš„å›žè½¦æ¢è¡Œ return changeStr; &#125; /** * åŠŸèƒ½ï¼šå°†Dateåž‹æ—¥æœŸè½¬æ¢æˆæŒ‡å®šæ ¼å¼çš„å­—ç¬¦ä¸²å½¢å¼ * @param date * @return */ public static String changeTime(Date date)&#123; SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss"); return format.format(date); &#125; /** * åŠŸèƒ½ï¼šè§£å†³é€šè¿‡æäº¤è¡¨å•äº§ç”Ÿçš„ä¸­æ–‡ä¹±ç  * @param str * @return */ public static String toChinese(String str)&#123; if(str == null) str = ""; try&#123; str = new String(str.getBytes("ISO-8859-1"),"utf-8"); &#125;catch (Exception e)&#123; str = ""; e.printStackTrace(); &#125; return str; &#125;&#125; 2ï¼‰åˆ›å»ºå®žä½“ç±»JavaBeanâ€“WordSingle.javaã€‚ WordSingle.java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475package com.heng.model;/** * å¤‡å¿˜å½•ä¿¡æ¯ */public class WordSingle &#123; /** * å¤‡å¿˜äºº */ private String author; /** * å¤‡å¿˜æ ‡é¢˜ */ private String title; /** * å¤‡å¿˜å†…å®¹ */ private String content; /** * å¤‡å¿˜æ—¶é—´ */ private String time; public WordSingle() &#123; &#125; public WordSingle(String author, String title, String content, String time) &#123; this.author = author; this.title = title; this.content = content; this.time = time; &#125; public String getAuthor() &#123; return author; &#125; public void setAuthor(String author) &#123; this.author = author; &#125; public String getTitle() &#123; return title; &#125; public void setTitle(String title) &#123; this.title = title; &#125; public String getContent() &#123; return content; &#125; public void setContent(String content) &#123; this.content = content; &#125; public String getTime() &#123; return time; &#125; public void setTime(String time) &#123; this.time = time; &#125; @Override public String toString() &#123; return "WordSingle&#123;" + "author='" + author + '\'' + ", title='" + title + '\'' + ", content='" + content + '\'' + ", time='" + time + '\'' + '&#125;'; &#125;&#125; 3ï¼‰åˆ›å»ºç”¨æˆ·å¡«å†™å¤‡å¿˜ä¿¡æ¯çš„é¡µé¢index.jspï¼Œåœ¨è¯¥é¡µé¢ä¸­å®žçŽ°ä¸€ä¸ªè¡¨å•ï¼Œå¹¶å‘è¡¨å•ä¸­æ·»åŠ authorã€titleå’Œcontentå­—æ®µã€‚ index.jsp123456789101112131415161718192021&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;&lt;html&gt;&lt;body&gt;&lt;center&gt; &lt;h2&gt;å¤‡å¿˜å½•&lt;/h2&gt; &lt;form action="/addWord" method="post"&gt; å¤‡&amp;nbsp;&amp;nbsp;å¿˜&amp;nbsp;&amp;nbsp;äººï¼š&lt;input type="text" name="author" size="30"&gt; &lt;br&gt; å¤‡å¿˜æ ‡é¢˜ï¼š&lt;input type="text" name="title" size="30"&gt; &lt;br&gt; å¤‡å¿˜å†…å®¹ï¼š&lt;textarea name="content" rows="7" cols="30"&gt;&lt;/textarea&gt; &lt;br&gt; &lt;input type="submit" value="æäº¤"&gt; &lt;input type="reset" value="é‡ç½®"&gt; &lt;a href="show.jsp"&gt;æŸ¥çœ‹å¤‡å¿˜å½•ä¿¡æ¯&lt;/a&gt; &lt;/form&gt;&lt;/center&gt;&lt;/body&gt;&lt;/html&gt; 4ï¼‰åˆ›å»ºå¤„ç†ç”¨æˆ·è¯·æ±‚çš„Servletâ€“WordServlet.javaã€‚åœ¨è¯¥Servletä¸­é¦–å…ˆèŽ·å–ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯ï¼Œç„¶åŽè°ƒç”¨å·¥å…·MyToolså¯¹èŽ·å–çš„ä¿¡æ¯è¿›è¡Œè½¬ç ã€ç‰¹æ®Šå­—ç¬¦å¤„ç†å’Œæ ¼å¼åŒ–å½“å‰æ—¶é—´ï¼ŒæŽ¥ç€å°†è¿™äº›ä¿¡æ¯å°è£…åˆ°WordSingleç±»å¯¹è±¡ä¸­ï¼Œæœ€åŽä»Žåº”ç”¨ä¸Šä¸‹æ–‡ä¸­èŽ·å–å­˜å‚¨äº†æ‰€æœ‰ç•™è¨€çš„é›†åˆå¯¹è±¡ï¼Œå¹¶å°†å°è£…äº†ä¿¡æ¯çš„WordSingleç±»å¯¹è±¡å­˜å‚¨åˆ°è¯¥é›†åˆå¯¹è±¡ä¸­ã€‚ WordSingle.java1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071package com.heng.servlet;import com.heng.model.WordSingle;import com.heng.tools.MyTools;import javax.servlet.ServletContext;import javax.servlet.ServletException;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import javax.servlet.http.HttpSession;import java.io.IOException;import java.util.ArrayList;import java.util.Date;@WebServlet("/addWord")public class WordServlet extends HttpServlet &#123; @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123; doPost(req, resp); &#125; /** * è¡¨å•è¯·æ±‚ä½¿ç”¨POST * @param request * @param response * @throws ServletException * @throws IOException */ @Override protected void doPost(HttpServletRequest request, HttpServletResponse response )throws ServletException, IOException &#123; /** * èŽ·å–è¡¨å•æäº¤è¿‡æ¥çš„å­—æ®µ */ String author = MyTools.toChinese(request.getParameter("author")); String title = MyTools.toChinese(request.getParameter("title")); String content = MyTools.toChinese(request.getParameter("content")); /** * èŽ·å–å½“å‰æ—¶é—´å¹¶æ ¼å¼åŒ–æ—¶é—´ä¸ºæŒ‡å®šæ ¼å¼ */ String now = MyTools.changeTime(new Date()); /** * åˆ›å»ºWordSingleå¯¹è±¡ç”¨æ¥å°è£…èŽ·å–çš„ä¿¡æ¯ */ WordSingle single = new WordSingle(); single.setAuthor(MyTools.changeHTML(author)); single.setTitle(MyTools.changeHTML(title)); single.setContent(content); single.setTime(now); /** * èŽ·å–sessionå¯¹è±¡ */ HttpSession session = request.getSession(); //é€šè¿‡sessionå¯¹è±¡èŽ·å–åº”ç”¨ä¸Šä¸‹æ–‡ ServletContext servletContext = session.getServletContext(); //èŽ·å–å­˜å‚¨åœ¨åº”ç”¨ä¸Šä¸‹æ–‡ä¸­çš„é›†åˆå¯¹è±¡ ArrayList wordList = (ArrayList) servletContext.getAttribute("wordList"); if(wordList == null)&#123; wordList = new ArrayList(); &#125; //å°†å°è£…äº†ä¿¡æ¯çš„å€¼å­˜å‚¨åˆ°é›†åˆå¯¹è±¡ä¸­ wordList.add(single); //å°†é›†åˆå¯¹è±¡ä¿å­˜åˆ°åº”ç”¨ä¸Šä¸‹æ–‡ä¸­ servletContext.setAttribute("wordList",wordList); //å°†è¯·æ±‚é‡å®šå‘åˆ°show.jspé¡µé¢ response.sendRedirect("show.jsp"); &#125;&#125; 5ï¼‰åˆ›å»ºæ˜¾ç¤ºç•™è¨€ä¿¡æ¯çš„show.jspé¡µé¢ã€‚åœ¨è¯¥é¡µé¢ä¸­å°†èŽ·å–å­˜å‚¨åˆ°åº”ç”¨ä¸Šä¸‹æ–‡çš„wordListé›†åˆå¯¹è±¡ï¼Œç„¶åŽéåŽ†è¯¥é›†åˆå¯¹è±¡è¾“å‡ºä¿¡æ¯ã€‚ show.jsp1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;%-- Created by IntelliJ IDEA. User: Heng Date: 2018/9/27 Time: 16:02 To change this template use File | Settings | File Templates.--%&gt;&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;&lt;%@ page import="java.util.ArrayList" %&gt;&lt;%@ page import="com.heng.model.WordSingle" %&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;% ArrayList wordList = (ArrayList) application.getAttribute("wordList"); if(wordList == null || wordList.size()==0 )&#123;%&gt; &lt;h1&gt;æ²¡æœ‰å¤‡å¿˜ä¿¡æ¯å“¦ï¼&lt;/h1&gt; &lt;a href="index.jsp"&gt;æˆ‘è¦å¤‡å¿˜ä¿¡æ¯&lt;/a&gt;&lt;% &#125;else&#123; for (int i = wordList.size()-1;i&gt;=0;i--)&#123; WordSingle single = (WordSingle) wordList.get(i); %&gt; å¤‡&amp;nbsp;&amp;nbsp;å¿˜&amp;nbsp;&amp;nbsp;äººï¼š&lt;%=single.getAuthor()%&gt; &lt;p&gt; å¤‡å¿˜æ—¶é—´ï¼š&lt;%=single.getTime()%&gt; &lt;p&gt; å¤‡å¿˜æ ‡é¢˜ï¼š&lt;%=single.getTitle()%&gt; &lt;p&gt; å¤‡å¿˜å†…å®¹ï¼š &lt;textarea rows="7" cols="30" readonly&gt;&lt;%=single.getContent()%&gt;&lt;/textarea&gt; &lt;a href="index.jsp"&gt;æˆ‘è¦å¤‡å¿˜ä¿¡æ¯&lt;/a&gt; &lt;hr width="100%"&gt;&lt;% &#125; &#125;%&gt;&lt;/body&gt;&lt;/html&gt; 6ï¼‰æœ€åŽé…ç½®tomcatï¼Œå¯åŠ¨æœåŠ¡å™¨ã€‚ è¿è¡Œç»“æžœï¼š]]></content>
      <categories>
        <category>Java</category>
        <category>Java EE</category>
        <category>Servlet</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Java EE</tag>
        <tag>Servlet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Servletï¼ˆäºŒï¼‰ä¹‹HttpServletå¼€å‘]]></title>
    <url>%2F2018%2F09%2F27%2FServlet%EF%BC%88%E4%BA%8C%EF%BC%89%E4%B9%8BHttpServlet%E5%BC%80%E5%8F%91%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;å‰é¢ç®€å•çš„ä»‹ç»äº†Servletç›¸å…³çš„æŠ€æœ¯ç‰¹ç‚¹ä»¥åŠç”Ÿå‘½å‘¨æœŸï¼Œä¸‹é¢ä»‹ç»Servletå¸¸ç”¨çš„å¼€å‘æ–¹æ³•åŠæ­¥éª¤ã€‚ &emsp;&emsp;è¯´æ˜Žï¼šåœ¨å®žé™…çš„å¼€å‘çš„Webé¡¹ç›®ä¸­ï¼Œå¤§å¤šæ•°æˆ‘ä»¬é‡‡ç”¨ServletæŠ€æœ¯å¼€å‘æ—¶ï¼Œæ˜¯é€šè¿‡ç»§æ‰¿çš„HttpServletç±»ï¼Œè€Œä¸æ˜¯å®žçŽ°ServletæŽ¥å£ã€‚HttpServletç±»å­˜æ”¾åœ¨javax.servlet.httpåŒ…å†…ï¼Œæ˜¯é’ˆå¯¹ä½¿ç”¨HTTPåè®®çš„WebæœåŠ¡å™¨çš„Servletç±»ã€‚HttpServletç±»é€šè¿‡æ‰§è¡ŒServletæŽ¥å£ï¼Œèƒ½å¤Ÿæä¾›HTTPåè®®çš„åŠŸèƒ½ã€‚ 1.Servletåˆ›å»º&emsp;&emsp;åˆ›å»ºä¸€ä¸ªServletï¼Œé€šå¸¸æ¶‰åŠä¸‹åˆ—4ä¸ªæ­¥éª¤ã€‚ 1ï¼‰ç»§æ‰¿HttpServletæŠ½è±¡ç±»ã€‚ 2ï¼‰é‡è½½é€‚å½“çš„æ–¹æ³•ï¼Œå¦‚è¦†ç›–ï¼ˆé‡å†™ï¼‰doGet()æ–¹æ³•æˆ–doPost()æ–¹æ³•ã€‚ 3ï¼‰å¦‚æžœæœ‰HTTPè¯·æ±‚ä¿¡æ¯çš„è¯ï¼ŒèŽ·å–è¯¥ä¿¡æ¯ã€‚å¯é€šè¿‡è°ƒç”¨HttpServletRequestç±»å¯¹è±¡çš„ä»¥ä¸‹3ä¸ªæ–¹æ³•èŽ·å–ã€‚ 123getParameterNames() //èŽ·å–è¯·æ±‚ä¸­æ‰€æœ‰å‚æ•°çš„åå­—getParameter() //èŽ·å–è¯·æ±‚ä¸­æŒ‡å®šå‚æ•°çš„å€¼getParameterValues() //èŽ·å–è¯·æ±‚ä¸­æ‰€æœ‰å‚æ•°çš„å€¼ 4ï¼‰ç”ŸæˆHTTPå“åº”ã€‚HttpServletResponseç±»å¯¹è±¡ç”Ÿæˆå“åº”ï¼Œå¹¶å°†å®ƒè¿”å›žåˆ°å‘å‡ºè¯·æ±‚çš„å®¢æˆ·æœºä¸Šã€‚å®ƒçš„æ–¹æ³•å…è®¸è®¾ç½®â€œè¯·æ±‚â€æ ‡é¢˜å’Œâ€œå“åº”â€ä¸»ä½“ã€‚â€œå“åº”â€å¯¹è±¡è¿˜åŒ…å«æœ‰getWriter()æ–¹æ³•ä»¥è¿”å›žä¸€ä¸ªPringWriterç±»å¯¹è±¡ã€‚ &emsp;&emsp;ä»¥ä¸‹ä¸ºæŒ‰ç…§ä¸Šè¿°æ­¥éª¤åˆ›å»ºçš„Servletç±»ã€‚ MyHttpServelt.java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354package com.heng.servlet;import javax.servlet.ServletException;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.io.PrintWriter;/** * ç¬¬ä¸€æ­¥ï¼šç»§æ‰¿HttpServletç±» */@WebServlet("/helloHttpServlet")public class MyHttpServelt extends HttpServlet &#123; /** * ç¬¬äºŒæ­¥ï¼šé‡å†™doGet()æˆ–doPost()æ–¹æ³• * @param request * @param response * @throws ServletException * @throws IOException */ @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; /** * ç¬¬ä¸‰æ­¥ï¼šèŽ·å–HTTPè¯·æ±‚ä¿¡æ¯ */ String myName = request.getParameter("myName"); /** * ç¬¬å››æ­¥ï¼šç”ŸæˆHTTPå“åº” */ response.setContentType("text/html;charset=gb2312"); response.setHeader("Pragma","No-cache"); response.setDateHeader("Expires",0); response.setHeader("Cache-Control","no-cache"); PrintWriter out = response.getWriter(); out.println("&lt;html&gt;"); out.println("&lt;head&gt;&lt;title&gt;ä¸€ä¸ªç®€å•çš„Servletç¨‹åº&lt;/title&gt;&lt;/head&gt;"); out.println("&lt;body&gt;"); out.println("&lt;h1&gt;Servletç¨‹åº&lt;/h1&gt;"); out.println("&lt;p style='color:red'&gt;"+myName+"æ‚¨å¥½ï¼Œæ¬¢è¿Žä½¿ç”¨æœ¬ç¨‹åºï¼ï¼ï¼"); out.println("&lt;/body&gt;"); out.println("&lt;/html&gt;"); out.flush(); &#125; @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123; this.doGet(req, resp); &#125;&#125; è¿è¡Œç»“æžœï¼š 2.Servletçš„é…ç½®åˆ›å»ºäº†Servletç±»åŽï¼Œè¿˜éœ€è¦å¯¹Servletè¿›è¡Œé…ç½®ã€‚é…ç½®çš„ç›®çš„æ˜¯ä¸ºäº†å°†åˆ›å»ºçš„Servletæ³¨å†Œåˆ°Servletå®¹å™¨ä¹‹ä¸­ï¼Œä»¥æ–¹ä¾¿Servletå®¹å™¨å¯¹Servletçš„è°ƒç”¨ã€‚ 2.1 åœ¨web.xmlæ–‡ä»¶ä¸­é…ç½®Servlet1ï¼‰Servletçš„åç§°ã€ç±»å’Œå…¶ä»–é€‰é¡¹çš„é…ç½® web.xml12345678910&lt;servlet&gt; &lt;!--Servletåç§°--&gt; &lt;servlet-name&gt;myServlet&lt;/servlet-name&gt; &lt;!--Servletç±»çš„å…¨è·¯å¾„--&gt; &lt;servlet-class&gt;com.heng.servlet.MyServelt&lt;/servlet-class&gt; &lt;!--Servletæè¿°ä¿¡æ¯--&gt; &lt;description&gt;Simple Servlet&lt;/description&gt; &lt;!--æŒ‡å®šå‘å¸ƒæ—¶Servletçš„åç§°--&gt; &lt;display-name&gt;Servlet&lt;/display-name&gt;&lt;/servlet&gt; 2ï¼‰Servletçš„æ˜ å°„&emsp;&emsp;åœ¨web.xmlé…ç½®æ–‡ä»¶ä¸­å¯ä»¥ç»™ä¸€ä¸ªServletåšå¤šä¸ªæ˜ å°„ï¼Œå› æ­¤ï¼Œå¯ä»¥é€šè¿‡ä¸åŒçš„æ–¹æ³•è®¿é—®è¿™ä¸ªServletã€‚ web.xml123456&lt;servlet-mapping&gt; &lt;!--ä¸Žä¸Šé¢çš„Servletåç§°ä¸€å®šè¦ä¿æŒä¸€è‡´--&gt; &lt;servlet-name&gt;myServlet&lt;/servlet-name&gt; &lt;!--è¯·æ±‚è·¯å¾„ï¼Œæ ¼å¼è¾ƒå¤šã€‚ä¾‹å¦‚/*ã€/helloServletã€/one/*ã€*.doã€*.actionç­‰ç­‰--&gt; &lt;url-pattern&gt;/helloServlet&lt;/url-pattern&gt;&lt;/servlet-mapping&gt; 3ï¼‰åˆå§‹åŒ–å‚æ•°&emsp;&emsp;Servletå¯ä»¥é…ç½®ä¸€äº›åˆå§‹åŒ–å‚æ•°ã€‚ web.xml123456&lt;servlet&gt; &lt;init-param&gt; &lt;param-name&gt;number&lt;/param-name&gt; &lt;param-value&gt;10000&lt;/param-value&gt; &lt;/init-param&gt;&lt;/servlet&gt; &emsp;&emsp;åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼ŒæŒ‡å®šnumberçš„å‚æ•°å€¼ä¸º10000.åœ¨Servletä¸­å¯ä»¥åœ¨init()æ–¹æ³•ä½“ä¸­é€šè¿‡getInitParameter()æ–¹æ³•è®¿é—®è¿™äº›åˆå§‹åŒ–å‚æ•°ã€‚ 4ï¼‰å¯åŠ¨è£…å…¥ä¼˜å…ˆæƒ&emsp;&emsp;å¯åŠ¨è£…å…¥ä¼˜å…ˆæƒé€šè¿‡å…ƒç´ æŒ‡å®šã€‚ é‡ç‚¹ 2.2 é‡‡ç”¨æ³¨è§£é…ç½®Servlet&emsp;&emsp;é‡‡ç”¨æ³¨è§£é…ç½®Servletï¼Œå°±ä¸éœ€è¦åœ¨web.xmlä¸­é…ç½®Servletåå’Œæ˜ å°„åœ°å€ï¼ŒåŸºæœ¬è¯­æ³•å¦‚ä¸‹ã€‚ 1234567import javax.servlet.annotation.WebServlet;@WebServlet(urlPatterns = &#123;"/æ˜ å°„åœ°å€"&#125;,asyncSupported=true|false,loadOnStartup = -1,name = "Servletåç§°",displayName = "æ˜¾ç¤ºåç§°",initParams = &#123;@WebInitParam(name = "username",value = "å€¼")&#125;) &emsp;&emsp;åœ¨ä¸Šé¢çš„è¯­æ³•ä¸­ï¼ŒurlPatternså±žæ€§ç”¨äºŽæŒ‡å®šæ˜ å°„åœ°å€ï¼›asyncSupportedå±žæ€§ç”¨äºŽæŒ‡å®šæ˜¯å¦æ”¯æŒå¼‚æ­¥æ“ä½œæ¨¡å¼ï¼›loadOnStartupå±žæ€§ç”¨äºŽæŒ‡å®šServletçš„åŠ è½½é¡ºåºï¼›nameå±žæ€§ç”¨äºŽæŒ‡å®šServletçš„nameå±žæ€§ï¼›displayNameå±žæ€§ç”¨äºŽæŒ‡å®šè¯¥Servletçš„æ˜¾ç¤ºåï¼›initParamså±žæ€§ç”¨äºŽæŒ‡å®šä¸€ç»„Servletåˆå§‹åŒ–å‚æ•°ã€‚]]></content>
      <categories>
        <category>Java</category>
        <category>Java EE</category>
        <category>Servlet</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Java EE</tag>
        <tag>Servlet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Servletï¼ˆä¸€ï¼‰ä¹‹ServletæŠ€æœ¯ç®€ä»‹]]></title>
    <url>%2F2018%2F09%2F27%2FServlet%EF%BC%88%E4%B8%80%EF%BC%89%E4%B9%8BServlet%E6%8A%80%E6%9C%AF%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;å¼•è¨€ï¼šServletæ˜¯åœ¨JSPä¹‹å‰å°±å­˜åœ¨çš„è¿è¡Œåœ¨æœåŠ¡ç«¯çš„ä¸€ç§JavaæŠ€æœ¯ï¼Œå®ƒæ˜¯ç”¨Javaè¯­è¨€ç¼–å†™çš„æœåŠ¡å™¨ç«¯ç¨‹åºã€‚åœ¨JSPæŠ€æœ¯å‡ºçŽ°ä¹‹å‰ï¼ŒServletè¢«å¹¿æ³›åœ°åº”ç”¨æ¥å¼€å‘åŠ¨æ€çš„Webåº”ç”¨ç¨‹åºã€‚ 1. ServletæŠ€æœ¯ç®€ä»‹&emsp;&emsp;Servletæ˜¯ä¸€ç§ç‹¬ç«‹äºŽå¹³å°å’Œåè®®çš„æœåŠ¡å™¨ç«¯çš„JavaæŠ€æœ¯ï¼Œå¯ä»¥ç”¨æ¥ç”ŸæˆåŠ¨æ€åœ°Webé¡µé¢ã€‚Servletæ˜¯ä½¿ç”¨Java Servletåº”ç”¨ç¨‹åºè®¾è®¡æŽ¥å£ï¼ˆAPIï¼‰åŠç›¸å…³ç±»å’Œæ–¹æ³•çš„Javaç¨‹åºã€‚Javaè¯­è¨€èƒ½å¤Ÿå®žçŽ°çš„åŠŸèƒ½ï¼ŒServletåŸºæœ¬ä¸Šéƒ½èƒ½å®žçŽ°ï¼ˆé™¤äº†å›¾å½¢ç•Œé¢å¤–ï¼‰ã€‚Servletä¸»è¦æ˜¯ç”¨äºŽå¤„ç†å®¢æˆ·ç«¯ä¼ æ¥çš„HTTPè¯·æ±‚ï¼Œå¹¶è¿”å›žä¸€ä¸ªå“åº”ã€‚é€šå¸¸æ‰€è¯´çš„Servletå°±æ˜¯æŒ‡HttpServletï¼Œç”¨äºŽå¤„ç†HTTPè¯·æ±‚ï¼Œå…¶èƒ½å¤Ÿå¤„ç†çš„è¯·æ±‚æœ‰doGet()ã€doPost()ã€service()ç­‰æ–¹æ³•ã€‚åœ¨å¼€å‘Servletæ—¶ï¼Œå¯ä»¥ç›´æŽ¥ç»§æ‰¿javax.servlet.http.HttpServletã€‚ &emsp;&emsp;åœ¨Servlet3.0ä»¥å‰çš„ç‰ˆæœ¬ä¸­ï¼Œåªèƒ½åœ¨web.xmlæ–‡ä»¶ä¸­é…ç½®Servletï¼Œè€Œåœ¨Servlet 3.0ä¸­é™¤äº†åœ¨web.xmlæ–‡ä»¶ä¸­é…ç½®ä»¥å¤–ï¼Œè¿˜æä¾›äº†åˆ©ç”¨æ³¨è§£æ¥é…ç½®Servletã€‚ 2. ServletæŠ€æœ¯åŠŸèƒ½&emsp;&emsp;Servleté€šè¿‡åˆ›å»ºä¸€ä¸ªæ¡†æž¶æ¥æ‰©å±•æœåŠ¡å™¨çš„èƒ½åŠ›ï¼Œä»¥æä¾›åœ¨Webä¸Šè¿›è¡Œè¯·æ±‚å’Œå“åº”çš„æœåŠ¡ã€‚å½“å®¢æˆ·æœºå‘é€è¯·æ±‚è‡³æœåŠ¡å™¨æ—¶ï¼ŒæœåŠ¡å™¨å¯ä»¥å°†è¯·æ±‚ä¿¡æ¯å‘é€ç»™Servletï¼Œå¹¶è®©Servletå»ºç«‹èµ·æœåŠ¡å™¨è¿”å›žç»™å®¢æˆ·æœºçš„å“åº”ã€‚å½“å¯åŠ¨WebæœåŠ¡å™¨æˆ–å®¢æˆ·æœºç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡å™¨æ—¶ï¼Œå¯ä»¥è‡ªåŠ¨è£…å…¥Servletï¼Œä¹‹åŽï¼ŒServletç»§ç»­è¿è¡Œç›´åˆ°å…¶ä»–å®¢æˆ·æœºå‘å‡ºè¯·æ±‚ã€‚Servletçš„åŠŸèƒ½æ¶‰åŠèŒƒå›´å¾ˆå¹¿ï¼Œä¸»è¦åŠŸèƒ½å¦‚ä¸‹ï¼š åˆ›å»ºå¹¶è¿”å›žä¸€ä¸ªåŒ…å«åŸºäºŽå®¢æˆ·è¯·æ±‚æ€§è´¨çš„åŠ¨æ€å†…å®¹å®Œæ•´çš„HTMLé¡µé¢ï¼› åˆ›å»ºå¯åµŒå…¥åˆ°çŽ°æœ‰HTMLé¡µé¢ä¸­çš„ä¸€éƒ¨åˆ†HTMLé¡µé¢ï¼› ä¸Žå…¶å®ƒæœåŠ¡å™¨èµ„æºè¿›è¡Œé€šä¿¡ï¼› ç”¨å¤šä¸ªå®¢æˆ·æœºå¤„ç†è¿žæŽ¥ï¼ŒæŽ¥æ”¶å¤šä¸ªå®¢æˆ·æœºçš„è¾“å…¥ï¼Œå¹¶å°†ç»“æžœä¼ é€’åˆ°å¤šä¸ªå®¢æˆ·æœºä¸Šã€‚ä¾‹å¦‚ï¼šServletå¯ä»¥æ˜¯å¤šåå‚ä¸Žè€…çš„æ¸¸æˆæœåŠ¡å™¨ï¼› å°†è®¢åˆ¶çš„å¤„ç†æä¾›ç»™æ‰€æœ‰æœåŠ¡å™¨çš„æ ‡å‡†ç¨‹åºã€‚ 3. ServletæŠ€æœ¯ç‰¹ç‚¹&emsp;&emsp;ServletæŠ€æœ¯å¸¦ç»™ç¨‹åºå‘˜æœ€å¤§çš„ä¼˜åŠ¿æ˜¯å®ƒå¯ä»¥å¤„ç†å®¢æˆ·ç«¯ä¼ æ¥çš„HTTPè¯·æ±‚ï¼Œå¹¶è¿”å›žä¸€ä¸ªå“åº”ã€‚æ€»çš„æ¥è¯´ï¼ŒServletæŠ€æœ¯å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ã€‚ é«˜æ•ˆã€‚åœ¨æœåŠ¡å™¨ä¸Šä»…æœ‰ä¸€ä¸ªJavaè™šæ‹Ÿæœºåœ¨è¿è¡Œï¼Œå®ƒçš„ä¼˜åŠ¿åœ¨äºŽå½“å¤šä¸ªæ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚è¿›è¡Œè®¿é—®æ—¶ï¼ŒServletä¸ºæ¯ä¸ªè¯·æ±‚åˆ†é…ä¸€ä¸ªçº¿ç¨‹è€Œä¸æ˜¯è¿›ç¨‹ã€‚ æ–¹ä¾¿ã€‚Servletæä¾›äº†å¤§é‡çš„å®žç”¨å·¥å…·ä¾‹ç¨‹ï¼Œä¾‹å¦‚å¤„ç†å¾ˆéš¾å®Œæˆçš„HTMLè¡¨å•æ•°æ®ã€è¯»å–å’Œè®¾ç½®HTTPå¤´ã€å¤„ç†Cookieå’Œè·Ÿè¸ªä¼šè¯ç­‰ã€‚ è·¨å¹³å°ã€‚ åŠŸèƒ½å¼ºå¤§ã€‚ çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚ å…±äº«æ•°æ®ã€‚Servletä¹‹é—´é€šè¿‡å…±äº«æ•°æ®å¯ä»¥å¾ˆå®¹æ˜“åœ°å®žçŽ°æ•°æ®åº“è¿žæŽ¥æ± ã€‚ å®‰å…¨ã€‚ 4.Servletç”Ÿå‘½å‘¨æœŸ&emsp;&emsp;åœ¨Servletåœ°æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ï¼ŒServletåœ°å¤„ç†è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ &emsp;&emsp;å›¾ä¸­æ‰€ç¤ºå„æ­¥éª¤çš„è¯´æ˜Žå¦‚ä¸‹ã€‚ ç¬¬ä¸€æ­¥ï¼šç”¨æˆ·é€šè¿‡å®¢æˆ·ç«¯æµè§ˆå™¨è¯·æ±‚æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨åŠ è½½Servletï¼Œå¹¶åˆ›å»ºä¸€ä¸ªServletå®žä¾‹ï¼› ç¬¬äºŒæ­¥ï¼šå®¹å™¨è°ƒç”¨Servletçš„init()æ–¹æ³•ï¼› ç¬¬ä¸‰æ­¥ï¼šå®¹å™¨è°ƒç”¨service()æ–¹æ³•ï¼Œå¹¶å°†HttpServletRequestå’ŒHttpServletResponseå¯¹è±¡ä¼ é€’ç»™è¯¥æ–¹æ³•ï¼Œåœ¨service()æ–¹æ³•ä¸­å¤„ç†ç”¨æˆ·è¯·æ±‚ï¼› ç¬¬å››æ­¥ï¼šåœ¨Servletä¸­è¯·æ±‚å¤„ç†ç»“æŸåŽï¼Œå°†ç»“æžœè¿”å›žç»™å®¹å™¨ï¼› ç¬¬äº”æ­¥ï¼šå®¹å™¨å°†ç»“æžœè¿”å›žç»™å®¢æˆ·ç«¯è¿›è¡Œæ˜¾ç¤ºï¼› ç¬¬å…­æ­¥ï¼šå½“Webå®¹å™¨å…³é—­æ—¶ï¼Œè°ƒç”¨destroy()æ–¹æ³•é”€æ¯Servletå®žä¾‹ã€‚ &emsp;&emsp;æ³¨ï¼šåˆå§‹åŒ–init()å’Œé”€æ¯destroy()æ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡ã€‚ &emsp;&emsp;ä¸‹é¢ä¸€æ®µä»£ç é‡‡ç”¨web.xmlé…ç½®çš„Servletå®žçŽ°ï¼ˆè¿™é‡Œæˆ‘ç”¨çš„æ—¶IDEAï¼Œè¯·è‡ªè¡Œå¯¼å…¥Servletä¾èµ–ï¼‰ï¼š MyServlet.java12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061package com.heng.servlet;import javax.servlet.*;import java.io.IOException;import java.io.PrintWriter;public class MyServelt implements Servlet &#123; /** * åˆå§‹åŒ–è°ƒç”¨init()æ–¹æ³•ï¼ˆåªè°ƒç”¨ä¸€æ¬¡ï¼‰ * @param servletConfig * @throws ServletException */ @Override public void init(ServletConfig servletConfig) throws ServletException &#123; System.out.println("init()æ–¹æ³•è¢«è°ƒç”¨ã€‚ã€‚ã€‚"); &#125; /** * å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚å¹¶åšå‡ºå“åº” * @param servletRequest * @param servletResponse * @throws ServletException * @throws IOException */ @Override public void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException &#123; System.out.println("service()æ–¹æ³•è¢«è°ƒç”¨ã€‚ã€‚ã€‚"); servletResponse.setContentType("text/html;charset=gb2312"); PrintWriter out = servletResponse.getWriter(); out.println("&lt;h1 style='color:red'&gt;hello Servlet&lt;/h1&gt;"); out.println("&lt;h2 style='color:red'&gt;Servletç”Ÿå‘½å‘¨æœŸå®žä¾‹&lt;/h2&gt;"); &#125; /** * å½“Webå®¹å™¨å…³é—­æ—¶è°ƒç”¨destroy()æ–¹æ³•ï¼Œï¼ˆåªè°ƒç”¨ä¸€æ¬¡ï¼‰ */ @Override public void destroy() &#123; System.out.println("destroy()æ–¹æ³•è¢«è°ƒç”¨ã€‚ã€‚ã€‚"); &#125; /** * èŽ·å–Servletç›¸å…³é…ç½®å±žæ€§ï¼ˆç”¨çš„è¾ƒå°‘ï¼‰ * @return */ @Override public ServletConfig getServletConfig() &#123; return null; &#125; /** * èŽ·å–Servletç›¸å…³ä¿¡æ¯ï¼ˆç”¨çš„è¾ƒå°‘ï¼‰ * @return */ @Override public String getServletInfo() &#123; return null; &#125;&#125; web.xml12345678910111213141516&lt;!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" "http://java.sun.com/dtd/web-app_2_3.dtd" &gt;&lt;web-app&gt; &lt;servlet&gt; &lt;servlet-name&gt;myServlet&lt;/servlet-name&gt; &lt;servlet-class&gt;com.heng.servlet.MyServelt&lt;/servlet-class&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;myServlet&lt;/servlet-name&gt; &lt;url-pattern&gt;/helloServlet&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;/web-app&gt; &emsp;&emsp;è¿è¡Œç»“æžœï¼š &emsp;&emsp;é‡‡ç”¨æ³¨è§£æ–¹å¼å¼€å‘æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¸éœ€è¦åœ¨web.xmlä¸­å†™ä¸€å¤§å †é…ç½®ä»£ç ï¼Œè¿™é‡Œç”¨ä¸€å¥è¯å°±å¯ä»¥ä»£æ›¿ä¸Šé¢çš„web.xmlé…ç½®æ–‡ä»¶ï¼Œåªéœ€è¦åœ¨MyServlet.javaçš„ç±»ä¸ŠåŠ ä¸€ä¸ªæ³¨è§£å³å¯ã€‚ 1234@WebServlet("/helloServlet")public class MyServelt implements Servlet &#123; //å…¶å®ƒä»£ç å’Œä¸Šé¢ä¸€è‡´ï¼Œåªæ˜¯ä¸éœ€è¦é…ç½®web.xml&#125;]]></content>
      <categories>
        <category>Java</category>
        <category>Java EE</category>
        <category>Servlet</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Java EE</tag>
        <tag>Servlet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¿›ç¨‹å’Œçº¿ç¨‹ï¼ˆäºŒï¼‰çº¿ç¨‹çš„åˆ›å»º]]></title>
    <url>%2F2018%2F09%2F26%2F%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%BA%8C%EF%BC%89%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;å¼•è¨€ï¼šå‰é¢è®²åˆ°äº†è¿›ç¨‹å’Œçº¿ç¨‹çš„æ¦‚å¿µï¼ŒæŽ¥ä¸‹æ¥å°±è®°å½•ä¸‹çº¿ç¨‹æ˜¯å¦‚ä½•åˆ›å»ºå¹¶å¯åŠ¨çš„ã€‚ 1.çº¿ç¨‹çš„å®žçŽ°æ–¹å¼&emsp;&emsp;Javaä¸­çš„çº¿ç¨‹æœ‰ä¸¤æ–¹é¢çš„å«ä¹‰ï¼šä¸€æ˜¯ä¸€æ¡ç‹¬ç«‹çš„æ‰§è¡Œçº¿ç´¢ï¼ŒäºŒæ˜¯java.lang.Threadç±»æˆ–æ˜¯å…¶å­ç±»çš„å¯¹è±¡ã€‚åœ¨Javaä¸­å¼€å‘è‡ªå·±çš„çº¿ç¨‹æœ‰ä¸¤ç§æ–¹å¼ï¼ŒåŒ…æ‹¬ç»§æ‰¿Threadç±»ä¸Žå®žçŽ°RunnableæŽ¥å£ã€‚ 1ï¼‰ç»§æ‰¿Threadç±»&emsp;&emsp;è‹¥ä¸€ä¸ªç±»ç›´æŽ¥æˆ–é—´æŽ¥ç»§æ‰¿è‡ªThreadç±»ï¼Œåˆ™è¯¥ç±»å¯¹è±¡ä¾¿å…·æœ‰äº†çº¿ç¨‹çš„èƒ½åŠ›ã€‚è¿™æ˜¯æœ€ç®€å•çš„å¼€å‘çº¿ç¨‹çš„æ–¹å¼ï¼Œé‡‡ç”¨æ­¤æ–¹æ³•æœ€é‡è¦çš„æ˜¯é‡å†™ç»§æ‰¿çš„run()æ–¹æ³•ã€‚åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š 12345class &lt;ç±»å&gt; extends Thread&#123; public void run()&#123; //doString &#125;&#125; &emsp;&emsp;ä¸Šè¿°æ ¼å¼ä¸­ï¼Œrun()æ–¹æ³•ä¸­ç¼–å†™çš„æ˜¯çº¿ç¨‹æ‰€è¦æ‰§è¡Œçš„ä»»åŠ¡ä»£ç ï¼Œä¸€æ—¦çº¿ç¨‹å¯åŠ¨ï¼Œrun()æ–¹æ³•ä¸­çš„ä»£ç å°†æˆä¸ºä¸€æ¡ç‹¬ç«‹çš„æ‰§è¡Œçº¿ç´¢ã€‚run()æ–¹æ³•æ˜¯å¯ä»¥é‡è½½çš„ï¼Œä½†é‡è½½çš„è¯¥æ–¹æ³•ï¼Œä¸å†å…·æœ‰æˆä¸ºä¸€æ¡æ‰§è¡Œçº¿ç´¢çš„èƒ½åŠ›ï¼Œåœ¨å¼€å‘ä¸­æ³¨æ„ä¸èƒ½å†™é”™ã€‚ 2ï¼‰å®žçŽ°RunnableæŽ¥å£&emsp;&emsp;ç”±äºŽJavaä¸­é‡‡ç”¨çš„æ˜¯å•ä¸€ç»§æ‰¿ï¼Œä¸€ä¸ªç±»åªèƒ½å”¯ä¸€çš„ç»§æ‰¿ä¸Žå¦ä¸€ä¸ªç±»ã€‚å¦‚æžœåªèƒ½é€šè¿‡ç»§æ‰¿Threadç±»æ¥å®šä¹‰è‡ªå·±çš„çº¿ç¨‹ï¼Œåœ¨å®žé™…çš„å¼€å‘ä¸­æœ‰å¾ˆå¤šé™åˆ¶ã€‚å› æ­¤ï¼ŒJavaä¸­æä¾›äº†ä¸€ä¸ªåä¸ºRunnableï¼ˆjava.lang.Runnableï¼‰çš„æŽ¥å£ï¼Œæ­¤æŽ¥å£ä¸­æœ‰ä¸€ä¸ªå…·æœ‰å¦‚ä¸‹ç”³æ˜Žçš„æŠ½è±¡æ–¹æ³•ï¼š 1public abstract void run(); &emsp;&emsp;è¿™æ ·ï¼Œå®žçŽ°äº†RunnableæŽ¥å£çš„ç±»ä¸­åŒæ ·ä¹Ÿå°±å…·æœ‰äº†æè¿°çº¿ç¨‹ä»»åŠ¡çš„run()æ–¹æ³•ï¼Œæ­¤run()æ–¹æ³•ä¹Ÿå¯ä»¥åœ¨ä¸€å®šçš„æ¡ä»¶ä¸‹æˆä¸ºä¸€æ¡ç‹¬ç«‹çš„æ‰§è¡Œçº¿ç´¢ã€‚ æ— è®ºä½¿ç”¨å“ªç§æ–¹å¼ï¼Œéƒ½å¯ä»¥é€šè¿‡ä¸€å®šçš„æ“ä½œå¾—åˆ°ä¸€æ¡ç‹¬ç«‹çš„æ‰§è¡Œçº¿ç´¢ï¼Œç„¶è€ŒäºŒè€…ä¹‹é—´ä¸æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œä¸‹é¢å¯¹äºŒè€…ä¹‹é—´çš„å¼‚åŒè¿›è¡Œäº†æ¯”è¾ƒã€‚ç»§æ‰¿Threadç±»çš„æ–¹æ³•è™½ç„¶æœ€ç®€å•ï¼Œä½†ç»§æ‰¿äº†è¯¥ç±»å°±ä¸èƒ½å¤Ÿå†ç»§æ‰¿åˆ«çš„ç±»ï¼Œè¿™åœ¨æœ‰äº›æƒ…å†µä¸‹ä¼šä¸¥é‡å½±å“å¼€å‘ã€‚å…¶å®žï¼Œå¾ˆå¤šæƒ…å†µä¸‹åªæ˜¯å¸Œæœ›è‡ªå·±çš„ç±»å…·æœ‰çº¿ç¨‹çš„èƒ½åŠ›ï¼Œæ‰®æ¼”çº¿ç¨‹çš„è§’è‰²ï¼Œè€Œè‡ªå·±çš„ç±»è¿˜éœ€è¦ç»§æ‰¿å…¶ä»–ç±»ã€‚å®žçŽ°RunnableæŽ¥å£æ—¢ä¸å½±å“ç»§æ‰¿å…¶ä»–ç±»ï¼Œä¹Ÿä¸å½±å“å®žçŽ°å…¶ä»–æŽ¥å£ï¼Œåªæ˜¯å®žçŽ°RunnableæŽ¥å£çš„ç±»å¤šæ‰®æ¼”äº†ä¸€ç§è§’è‰²ï¼Œå¤šäº†ä¸€ç§èƒ½åŠ›è€Œå·²ï¼Œçµæ´»æ€§æ›´å¥½ã€‚ 2.çº¿ç¨‹çš„åˆ›å»º&emsp;&emsp;å¯¹äºŽç»§æ‰¿Threadç±»ä¸Žå®žçŽ°RunnableæŽ¥å£ä¸¤ç§ä¸åŒæ–¹å¼ï¼Œåœ¨åˆ›å»ºçº¿ç¨‹å¯¹è±¡è¿™ä¸€æ­¥æ˜¯æœ‰åŒºåˆ«çš„ã€‚ 1ï¼‰ç»§æ‰¿Threadç±»æ–¹å¼&emsp;&emsp;ç»§æ‰¿Threadçš„ç±»ï¼Œåœ¨åˆ›å»ºçº¿ç¨‹å¯¹è±¡æ—¶éžå¸¸ç®€å•ã€‚å…¶ç»§æ‰¿äº†Threadç±»ï¼Œå› æ­¤å…¶è‡ªèº«çš„å¯¹è±¡ä¾¿æ˜¯çº¿ç¨‹å¯¹è±¡ï¼Œåœ¨åˆ›å»ºçº¿ç¨‹å¯¹è±¡æ—¶åªéœ€è¦åˆ›å»ºè‡ªèº«çš„å¯¹è±¡å³å¯ã€‚ 12//ç»§æ‰¿Threadçš„ç±»åˆ›å»ºçº¿ç¨‹å¯¹è±¡,å…¶ä¸­MyThreadç±»ç»§æ‰¿ä¸ŽThreadç±»Thread thread = new MyThread(); &emsp;&emsp;ç»§æ‰¿Threadçš„ç±»åˆ›å»ºçº¿ç¨‹å¯¹è±¡çš„æ–¹å¼ä¸Žåˆ«çš„ç±»åˆ›å»ºå¯¹è±¡çš„æ–¹å¼å®Œå…¨ä¸€æ ·ã€‚ 2ï¼‰å®žçŽ°RunnableæŽ¥å£æ–¹å¼&emsp;&emsp;å¯¹äºŽå®žçŽ°RunnableæŽ¥å£çš„ç±»ï¼Œå…¶è‡ªèº«çš„å¯¹è±¡å¹¶ä¸æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œåªæ˜¯åœ¨è¯¥ç±»ä¸­é€šè¿‡å®žçŽ°run()æ–¹æ³•æŒ‡å‡ºäº†çº¿ç¨‹éœ€è¦å®Œæˆçš„ä»»åŠ¡ã€‚ç„¶è€Œï¼Œè‹¥æƒ³å¾—åˆ°ä¸€ä¸ªçº¿ç¨‹ï¼Œå¿…é¡»åˆ›å»ºThreadç±»æˆ–å…¶å­ç±»çš„å¯¹è±¡ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨Threadç±»çš„ç‰¹å®šæž„é€ å™¨æ¥å®Œæˆè¿™ä¸ªå·¥ä½œï¼Œä¸‹è¡¨ä¸ºThreadç±»çš„å¸¸ç”¨æž„é€ å™¨ï¼š æž„é€ å™¨å£°æ˜Ž åŠŸèƒ½ public Thread() è¯¥æž„é€ å™¨å°†æž„é€ ä¸€ä¸ªæ–°çš„çº¿ç¨‹å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¯åŠ¨åŽå°†è¿è¡Œè‡ªèº«çš„run()æ–¹æ³•ï¼Œå¹¶ä¸”è¯¥å¯¹è±¡å…·æœ‰é»˜è®¤çš„åç§°ã€‚ public Thread(Runnable target) å‚æ•°targetä¸ºæŒ‡å®šçš„Runnableå®žçŽ°ç±»ï¼Œè¯¥æž„é€ å™¨å°†æž„é€ ä¸€ä¸ªæ–°çš„çº¿ç¨‹å¯¹è±¡ï¼Œå½“è¯¥å¯¹è±¡å¯åŠ¨åŽå°†æ‰§è¡ŒæŒ‡å®šçš„targetä¸­çš„run()æ–¹æ³•ï¼Œè¯¥å¯¹è±¡å…·æœ‰é»˜è®¤çš„åç§°ã€‚ public Thread(Runnable target,String name) å‚æ•°targetä¸ºæŒ‡å®šçš„Runnableå®žçŽ°ç±»ï¼Œå‚æ•°nameä¸ºæŒ‡å®šçš„åç§°ï¼Œè¯¥æž„é€ å™¨å°†æž„é€ ä¸€ä¸ªæ–°çš„çº¿ç¨‹å¯¹è±¡ï¼Œå½“è¯¥å¯¹è±¡å¯åŠ¨åŽå°†æ‰§è¡ŒæŒ‡å®štargetä¸­çš„run()æ–¹æ³•ï¼Œè¯¥å¯¹è±¡å…·æœ‰æŒ‡å®šçš„åç§°ã€‚ public Thread(String name) å‚æ•°nameä¸ºæŒ‡å®šçš„åç§°ï¼Œè¯¥æž„é€ å™¨å°†æž„é€ ä¸€ä¸ªæ–°çš„çº¿ç¨‹å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¯åŠ¨åŽå°†è¿è¡Œè‡ªèº«çš„run()æ–¹æ³•ï¼Œå¹¶ä¸”è¯¥å¯¹è±¡å…·æœ‰æŒ‡å®šçš„åç§°ã€‚ &emsp;&emsp;ä»ŽThreadç±»çš„æž„é€ å™¨åˆ—è¡¨ä¸­å¯ä»¥çœ‹å‡ºï¼Œå½“åˆ›å»ºçº¿ç¨‹å¯¹è±¡æ—¶ï¼Œåªéœ€è¦é¦–å…ˆåˆ›å»ºå®žçŽ°RunnableæŽ¥å£çš„ç±»çš„å¯¹è±¡ï¼Œç„¶åŽå°†æ­¤å¯¹è±¡çš„å¼•ç”¨ä¼ é€’ç»™Threadç±»æž„é€ å™¨å³å¯ï¼Œè¿™ä¸­æ–¹å¼å®žé™…ä¸Šæ˜¯åœ¨å‘Šè¯‰æˆ‘ä»¬çº¿ç¨‹å¯¹è±¡è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼ˆrun()æ–¹æ³•ï¼‰åœ¨å“ªé‡Œã€‚ &emsp;&emsp;ä¸‹é¢çš„ä¾‹å­è¯´æ˜Žäº†è¿™ä¸ªé—®é¢˜ï¼Œä»£ç å¦‚ä¸‹ï¼š 1234//åˆ›å»ºå®žçŽ°RunnableæŽ¥å£çš„ç±»çš„å¯¹è±¡Runnable myRunnable = new MyRunnable();//åˆ›å»ºThreadå¯¹è±¡ï¼Œå°†ç¬¬ä¸€æ­¥åˆ›å»ºçš„å¯¹è±¡çš„å¼•ç”¨ä½œä¸ºæž„é€ å™¨å‚æ•°Thread thread = new Thread(myRunnable); &emsp;&emsp;å½“ç„¶ï¼Œå®žçŽ°RunnableæŽ¥å£çš„ç±»çš„å¯¹è±¡å¯ä»¥è¢«åŒæ—¶ä¼ é€’ç»™å¤šä¸ªçº¿ç¨‹å¯¹è±¡ï¼Œå¦‚ä¸‹é¢çš„ä»£ç ï¼š 123456//åˆ›å»ºå®žçŽ°RunnableæŽ¥å£çš„ç±»çš„å¯¹è±¡Runnable myRunnable = new MyRunnable();//åˆ›å»ºå‡ ä¸ªThreadå¯¹è±¡ï¼Œå°†ç¬¬ä¸€æ­¥åˆ›å»ºçš„å¯¹è±¡çš„å¼•ç”¨ä½œä¸ºæž„é€ å™¨å‚æ•°Thread thread1 = new Thread(myRunnable);Thread thread2 = new Thread(myRunnable);Thread thread3 = new Thread(myRunnable); &emsp;&emsp;ä¸Šè¿°ä»£ç ä¹Ÿå°±æ„å‘³ç€è¿™å‡ ä¸ªçº¿ç¨‹å¯¹è±¡å¯åŠ¨åŽå°†æ‰§è¡Œå®Œå…¨ç›¸åŒçš„ä»»åŠ¡ã€‚å¦å¤–ï¼ŒThreadç±»æœ¬èº«ä¹Ÿå®žçŽ°äº†RunnableæŽ¥å£ï¼Œå› æ­¤Threadç±»åŠå…¶å­ç±»çš„å¯¹è±¡ä¹Ÿå¯ä»¥ä½œä¸ºtargetå‚æ•°ä¼ é€’ç»™æ–°çš„çº¿ç¨‹å¯¹è±¡ã€‚ å½“çº¿ç¨‹å¯¹è±¡åˆ›å»ºå®ŒæˆåŽï¼Œå…¶è¿˜æ˜¯ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œå¹¶æ²¡æœ‰æˆä¸ºä¸€æ¡å¯¹ç«‹çš„æ‰§è¡Œçº¿ç´¢ã€‚æƒ³è®©å…¶æˆä¸ºç‹¬ç«‹çš„æ‰§è¡Œçº¿ç´¢å¿…é¡»å¯åŠ¨ï¼Œåœ¨æ²¡æœ‰å¯åŠ¨çš„æƒ…å†µä¸‹ï¼Œå¼€å‘äººå‘˜å¯ä»¥åƒè°ƒç”¨å…¶ä»–å¯¹è±¡çš„æ–¹æ³•ä¸€æ ·è°ƒç”¨çº¿ç¨‹å¯¹è±¡ä¸­çš„ä»»ä½•å¯è§æ–¹æ³•ã€‚run()æ–¹æ³•ä¹Ÿå¯ä»¥ä½œä¸ºæ™®é€šæ–¹æ³•ä¸€æ ·è°ƒç”¨ï¼Œä½†è°ƒç”¨äº†run()æ–¹æ³•å¹¶ä¸ä»£è¡¨æ–°å»ºäº†æ‰§è¡Œçº¿ç´¢ï¼Œrun()æ–¹æ³•è¿˜æ˜¯åœ¨è°ƒç”¨å®ƒçš„çº¿ç¨‹ä¸­æ‰§è¡Œã€‚ &emsp;&emsp;ä¸‹é¢ä¸€æ®µä»£ç ç®€å•çš„æè¿°çº¿ç¨‹çš„åˆ›å»ºå’Œå¯åŠ¨ï¼š 12345678910111213141516171819202122232425262728293031323334package com.heng.thread;public class test1 &#123; static class MyThread extends Thread&#123; @Override public void run() &#123; System.out.println("æˆ‘æ˜¯ä¸€ä¸ªç»§æ‰¿Threadçš„çº¿ç¨‹"); &#125; &#125; static class MyRunnable implements Runnable&#123; public void run() &#123; System.out.println("æˆ‘æ˜¯ä¸€ä¸ªå®žçŽ°RunableæŽ¥å£çš„çº¿ç¨‹"); &#125; &#125; public static void main(String args[])&#123; /** * åˆ›å»ºMyThreadå®žä¾‹å¯¹è±¡ï¼Œå¹¶ç”¨start()æ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚ */ Thread thread1 = new MyThread(); thread1.start(); /** * åˆ›å»ºMyRunnableå®žä¾‹å¯¹è±¡ï¼Œå°†å¼•å…¥å‚æ•°ä¼ é€’ç»™Threadçš„æž„é€ å™¨ä¸­ï¼Œå¹¶ç”¨start()æ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚ */ Runnable myRunnable = new MyRunnable(); Thread thread2 = new Thread(myRunnable); thread2.start(); System.out.println("main æ–¹æ³•"); &#125;&#125; &emsp;&emsp;è¿è¡Œç»“æžœï¼š &emsp;&emsp;ä»Šå¤©çš„çº¿ç¨‹å†…å®¹å°±å…ˆè®²åˆ°è¿™é‡Œï¼Œä¸‹èŠ‚å†…å®¹æˆ‘ä»¬ç»§ç»­å›´ç»•çº¿ç¨‹ï¼Œè®²è§£çº¿ç¨‹çš„å¸¸ç”¨æ–¹æ³•ã€çº¿ç¨‹çš„åŒæ­¥ã€çº¿ç¨‹çš„å®‰å…¨ã€æ‚²è§‚é”/ä¹è§‚é”ä»¥åŠæˆ‘ä»¬ä¸ºä»€ä¹ˆä½¿ç”¨å¤šçº¿ç¨‹å¼€å‘ã€‚]]></content>
      <categories>
        <category>Java</category>
        <category>Java SE</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Java SE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¿›ç¨‹å’Œçº¿ç¨‹ï¼ˆä¸€ï¼‰æ¦‚å¿µ]]></title>
    <url>%2F2018%2F09%2F22%2F%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89%E6%A6%82%E5%BF%B5%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;å¼•è¨€ï¼šéšç€å¤šæ ¸CPUçš„é—®ä¸–ï¼Œä½¿å¾—å¤šçº¿ç¨‹ç¨‹åºåœ¨å¼€å‘ä¸­å æœ‰äº†æ›´é‡è¦çš„ä½ç½®ã€‚ä½†æ˜¯ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿå®ƒä»¬ä¹‹é—´åˆ°åº•åˆæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿä¸‹é¢å°±æ¥è¯¦ç»†çš„æ¥ä»‹ç»ä¸€ä¸‹å®ƒä»¬çš„æ¦‚å¿µã€‚ 1.ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿ&emsp;&emsp;ç®€å•ä¸€å¥è¯ï¼Œè¿›ç¨‹æ˜¯æ­£åœ¨è¿è¡Œçš„ç¨‹åºçš„å®žä¾‹ã€‚è¿›ç¨‹æ˜¯ä¸€ä¸ªå…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºå…³äºŽæŸä¸ªæ•°æ®é›†åˆçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ã€‚å®ƒæ˜¯æ“ä½œç³»ç»ŸåŠ¨æ€æ‰§è¡Œçš„åŸºæœ¬å•å…ƒï¼Œåœ¨ä¼ ç»Ÿçš„æ“ä½œç³»ç»Ÿä¸­ï¼Œè¿›ç¨‹æ˜¯åŸºæœ¬çš„åˆ†é…å•å…ƒï¼Œä¹Ÿæ˜¯åŸºæœ¬çš„æ‰§è¡Œå•å…ƒã€‚ &emsp;&emsp;è¿›ç¨‹çš„æ¦‚å¿µä¸»è¦æœ‰ä¸¤ç‚¹ï¼š è¿›ç¨‹æ˜¯ä¸€ä¸ªå®žä½“ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹éƒ½æœ‰å®ƒè‡ªå·±çš„åœ°å€ç©ºé—´ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒåŒ…æ‹¬æ–‡æœ¬åŒºåŸŸï¼ˆtext regionï¼‰ã€æ•°æ®åŒºåŸŸï¼ˆdata regionï¼‰å’Œå †æ ˆï¼ˆstack regionï¼‰ã€‚æ–‡æœ¬åŒºåŸŸå­˜å‚¨å¤„ç†å™¨æ‰§è¡Œçš„ä»£ç ï¼›æ•°æ®åŒºåŸŸå­˜å‚¨å˜é‡å’Œè¿›ç¨‹æ‰§è¡ŒæœŸé—´ä½¿ç”¨çš„åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼›å †æ ˆåŒºåŸŸå­˜å‚¨ç€æ´»åŠ¨è¿‡ç¨‹è°ƒç”¨çš„æŒ‡ä»¤å’Œæœ¬åœ°å˜é‡ã€‚ è¿›ç¨‹æ˜¯ä¸€ä¸ªâ€œæ‰§è¡Œä¸­çš„ç¨‹åºâ€ã€‚ç¨‹åºæ˜¯ä¸€ä¸ªæ²¡æœ‰ç”Ÿå‘½çš„å®žä½“ï¼Œåªæœ‰å¤„ç†å™¨èµ‹äºˆç¨‹åºç”Ÿå‘½æ—¶ï¼ˆæ“ä½œç³»ç»Ÿæ‰§è¡Œä¹‹ï¼‰ï¼Œå®ƒæ‰èƒ½æˆä¸ºä¸€ä¸ªæ´»åŠ¨çš„å®žä½“ï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºè¿›ç¨‹ã€‚ &emsp;&emsp;ç‰¹å¾ åŠ¨æ€æ€§ï¼šè¿›ç¨‹çš„å®žè´¨æ˜¯ç¨‹åºåœ¨å¤šé“ç¨‹åºç³»ç»Ÿä¸­çš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œè¿›ç¨‹æ˜¯åŠ¨æ€äº§ç”Ÿï¼ŒåŠ¨æ€æ¶ˆäº¡çš„ï¼› å¹¶å‘æ€§ï¼šä»»ä½•è¿›ç¨‹éƒ½å¯ä»¥åŒå…¶ä»–è¿›ç¨‹ä¸€èµ·å¹¶å‘æ‰§è¡Œï¼› ç‹¬ç«‹æ€§ï¼šè¿›ç¨‹æ˜¯ä¸€ä¸ªèƒ½ç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç³»ç»Ÿåˆ†é…èµ„æºå’Œè°ƒåº¦çš„ç‹¬ç«‹å•ä½ï¼› å¼‚æ­¥æ€§ï¼šç”±äºŽè¿›ç¨‹é—´çš„ç›¸äº’åˆ¶çº¦ï¼Œä½¿è¿›ç¨‹å…·æœ‰æ‰§è¡Œçš„é—´æ–­æ€§ï¼Œå³è¿›ç¨‹æŒ‰å„è‡ªç‹¬ç«‹çš„ã€ä¸å¯é¢„çŸ¥çš„é€Ÿåº¦å‘å‰æŽ¨è¿›ï¼› ç»“æž„ç‰¹å¾ï¼šè¿›ç¨‹ç”±ç¨‹åºã€æ•°æ®å’Œè¿›ç¨‹æŽ§åˆ¶å—ä¸‰éƒ¨åˆ†ç»„æˆã€‚ &emsp;&emsp;çŠ¶æ€&emsp;&emsp;è¿›ç¨‹æ‰§è¡Œæ—¶çš„é—´æ–­æ€§ï¼Œå†³å®šäº†è¿›ç¨‹å¯èƒ½å…·æœ‰å¤šç§çŠ¶æ€ã€‚äº‹å®žä¸Šï¼Œè¿è¡Œä¸­çš„è¿›ç¨‹å¯èƒ½å…·æœ‰ä»¥ä¸‹ä¸‰ç§åŸºæœ¬çŠ¶æ€ã€‚ 1ï¼‰å°±ç»ªçŠ¶æ€ï¼ˆReadyï¼‰ï¼š&emsp;&emsp;è¿›ç¨‹å·²èŽ·å¾—é™¤å¤„ç†å™¨å¤–çš„æ‰€éœ€èµ„æºï¼Œç­‰å¾…åˆ†é…å¤„ç†å™¨èµ„æºï¼›åªè¦åˆ†é…äº†å¤„ç†å™¨è¿›ç¨‹å°±å¯æ‰§è¡Œã€‚å°±ç»ªè¿›ç¨‹å¯ä»¥æŒ‰å¤šä¸ªä¼˜å…ˆçº§æ¥åˆ’åˆ†é˜Ÿåˆ—ã€‚ä¾‹å¦‚ï¼Œå½“ä¸€ä¸ªè¿›ç¨‹ç”±äºŽæ—¶é—´ç‰‡ç”¨å®Œè€Œè¿›å…¥å°±ç»ªçŠ¶æ€æ—¶ï¼ŒæŽ’å…¥ä½Žä¼˜å…ˆçº§é˜Ÿåˆ—ï¼›å½“è¿›ç¨‹ç”±I/Oæ“ä½œå®Œæˆè€Œè¿›å…¥å°±ç»ªçŠ¶æ€æ—¶ï¼ŒæŽ’å…¥é«˜ä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚ 2ï¼‰è¿è¡ŒçŠ¶æ€(Running)ï¼š&emsp;&emsp;è¿›ç¨‹å ç”¨å¤„ç†å™¨èµ„æºï¼›å¤„äºŽæ­¤çŠ¶æ€çš„è¿›ç¨‹çš„æ•°ç›®å°äºŽç­‰äºŽå¤„ç†å™¨çš„æ•°ç›®ã€‚åœ¨æ²¡æœ‰å…¶ä»–è¿›ç¨‹å¯ä»¥æ‰§è¡Œæ—¶(å¦‚æ‰€æœ‰è¿›ç¨‹éƒ½åœ¨é˜»å¡žçŠ¶æ€)ï¼Œé€šå¸¸ä¼šè‡ªåŠ¨æ‰§è¡Œç³»ç»Ÿçš„ç©ºé—²è¿›ç¨‹ã€‚ 3ï¼‰é˜»å¡žçŠ¶æ€(Blocked)ï¼š&emsp;&emsp;ç”±äºŽè¿›ç¨‹ç­‰å¾…æŸç§æ¡ä»¶ï¼ˆå¦‚I/Oæ“ä½œæˆ–è¿›ç¨‹åŒæ­¥ï¼‰ï¼Œåœ¨æ¡ä»¶æ»¡è¶³ä¹‹å‰æ— æ³•ç»§ç»­æ‰§è¡Œã€‚è¯¥äº‹ä»¶å‘ç”Ÿå‰å³ä½¿æŠŠå¤„ç†å™¨èµ„æºåˆ†é…ç»™è¯¥è¿›ç¨‹ï¼Œä¹Ÿæ— æ³•è¿è¡Œã€‚ 2.ä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿ&emsp;&emsp;çº¿ç¨‹çš„å¼•å…¥ï¼š 60å¹´ä»£ï¼Œåœ¨OSä¸­èƒ½æ‹¥æœ‰èµ„æºå’Œç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½æ˜¯è¿›ç¨‹ï¼Œç„¶è€Œéšç€è®¡ç®—æœºæŠ€æœ¯çš„å‘å±•ï¼Œè¿›ç¨‹å‡ºçŽ°äº†å¾ˆå¤šå¼Šç«¯ï¼Œä¸€æ˜¯ç”±äºŽè¿›ç¨‹æ˜¯èµ„æºæ‹¥æœ‰è€…ï¼Œåˆ›å»ºã€æ’¤æ¶ˆä¸Žåˆ‡æ¢å­˜åœ¨è¾ƒå¤§çš„æ—¶ç©ºå¼€é”€ï¼Œå› æ­¤éœ€è¦å¼•å…¥è½»åž‹è¿›ç¨‹ï¼›äºŒæ˜¯ç”±äºŽå¯¹ç§°å¤šå¤„ç†æœºï¼ˆSMPï¼‰å‡ºçŽ°ï¼Œå¯ä»¥æ»¡è¶³å¤šä¸ªè¿è¡Œå•ä½ï¼Œè€Œå¤šä¸ªè¿›ç¨‹å¹¶è¡Œå¼€é”€è¿‡å¤§ã€‚å› æ­¤åœ¨80å¹´ä»£ï¼Œå‡ºçŽ°äº†èƒ½ç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½â€”â€”çº¿ç¨‹ï¼ˆThreadsï¼‰ã€‚ &emsp;&emsp;ä¸€ä¸ªè¿›ç¨‹åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ã€‚çº¿ç¨‹æ˜¯ç¨‹åºè¿è¡Œæœ€å°çš„è°ƒåº¦å•ä½ã€‚çº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­çš„ä¸€ä¸ªå®žä½“ï¼Œæ˜¯è¢«ç³»ç»Ÿç‹¬ç«‹è°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½ï¼Œçº¿ç¨‹è‡ªå·±ä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºï¼Œåªæ‹¥æœ‰ä¸€ç‚¹å„¿åœ¨è¿è¡Œä¸­å¿…ä¸å¯å°‘çš„èµ„æºï¼Œä½†å®ƒå¯ä¸ŽåŒå±žä¸€ä¸ªè¿›ç¨‹çš„å…¶å®ƒçº¿ç¨‹å…±äº«è¿›ç¨‹æ‰€æ‹¥æœ‰çš„å…¨éƒ¨èµ„æºã€‚ä¸€ä¸ªçº¿ç¨‹å¯ä»¥åˆ›å»ºå’Œæ’¤æ¶ˆå¦ä¸€ä¸ªçº¿ç¨‹ï¼ŒåŒä¸€è¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹ä¹‹é—´å¯ä»¥å¹¶å‘æ‰§è¡Œã€‚ &emsp;&emsp;å¤šçº¿ç¨‹ç¼–ç¨‹å¯ä»¥æ˜¯ç¨‹åºå…·æœ‰å¤šæ¡å¹¶å‘æ‰§è¡Œçº¿ç´¢ï¼Œå°±åƒæ—¥å¸¸å·¥ä½œä¸­ç”±å¤šäººåŒæ—¶åˆä½œå®Œæˆä¸€ä¸ªä»»åŠ¡ã€‚è¿™åœ¨å¾ˆå¤šæƒ…å†µä¸‹å¯ä»¥æ”¹å–„ç¨‹åºçš„å“åº”æ€§èƒ½ï¼Œæé«˜èµ„æºçš„åˆ©ç”¨æ•ˆçŽ‡ï¼Œåœ¨å¤šæ ¸CPUå¹´ä»£ï¼Œè¿™æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚ç„¶è€Œæ»¥ç”¨å¤šçº¿ç¨‹ä¹Ÿæœ‰å¯èƒ½ç»™ç¨‹åºå¸¦æ¥æ„æƒ³ä¸åˆ°çš„é”™è¯¯ï¼Œå‡ä½Žç¨‹åºæ‰§è¡Œçš„æ•ˆçŽ‡ã€‚ &emsp;&emsp;ä½¿ç”¨å¤šçº¿ç¨‹å¼€å‘ä¼˜ç‚¹ï¼š åœ¨å¤šæ ¸CPUç³»ç»Ÿä¸­ï¼Œä½¿ç”¨çº¿ç¨‹å¯ä»¥æé«˜ç¨‹åºå“åº”é€Ÿåº¦ï¼Œæé«˜CPUå’Œå†…å­˜çš„åˆ©ç”¨çŽ‡ï¼› å¤šçº¿ç¨‹å¼€å‘å¯ä»¥å°†è€—æ—¶æ“ä½œæ”¾å…¥å­çº¿ç¨‹ï¼Œæé«˜æ•ˆçŽ‡ï¼› èµ„æºåˆ©ç”¨çŽ‡æ›´å¥½ï¼› ç¨‹åºè®¾è®¡åœ¨æŸäº›æƒ…å†µä¸‹æ›´ç®€å•ï¼Œæ”¹å–„ç¨‹åºç»“æž„ï¼Œé™ä½Žè€¦åˆæ€§ï¼› ç¨‹åºå“åº”æ›´å¿«ï¼› å¯ä»¥éšæ—¶åœæ­¢ä»»åŠ¡ï¼› ç­‰ç­‰â€¦ &emsp;&emsp;ä½¿ç”¨å¤šçº¿ç¨‹å¼€å‘ç¼ºç‚¹ï¼š ç­‰å€™å…±äº«èµ„æºæ—¶é€ æˆç¨‹åºçš„è¿è¡Œé€Ÿåº¦å˜ç¼“æ…¢ã€‚è¿™äº›å…±äº«èµ„æºä¸»è¦æ˜¯ç‹¬å æ€§çš„èµ„æºï¼Œå¦‚æ‰“å°æœºç­‰ï¼› å¯¹çº¿ç¨‹è¿›è¡Œç®¡ç†è¦æ±‚é¢å¤–çš„CPUå¼€é”€ã€‚çº¿ç¨‹çš„ä½¿ç”¨ä¼šç»™ç³»ç»Ÿå¸¦æ¥ä¸Šä¸‹æ–‡åˆ‡æ¢çš„é¢å¤–è´Ÿæ‹…ï¼› åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¼šé€ æˆçº¿ç¨‹çš„æ­»é”ã€‚å³è¾ƒé•¿æ—¶é—´çš„ç­‰å¾…æˆ–è€…èµ„æºç«žäº‰ä»¥åŠæ­»é”ç­‰ï¼› å¯¹å…±äº«å˜é‡åŒæ—¶è¿›è¡Œè¯»å†™çš„ä¸å¯é¢„æµ‹æ€§é”™è¯¯ç­‰ç­‰ã€‚ &emsp;&emsp;æ€»ä¹‹æœ‰ä¼˜ç‚¹è‚¯å®šå°±ä¼šæœ‰ç¼ºç‚¹ï¼Œæ¯•ç«Ÿè°ä¹Ÿä¸èƒ½åšåˆ°åå…¨åç¾Žã€‚åŽé¢ä¼šè®²åˆ°Javaå¼€å‘ä¸­æ˜¯å¦‚ä½•é¿å…è¿™äº›ç¼ºç‚¹çš„ã€‚ &emsp;&emsp;çº¿ç¨‹çš„äº”ç§çŠ¶æ€ 1)æ–°å»ºçŠ¶æ€&emsp;&emsp;ä½¿ç”¨newè¿ç®—ç¬¦åˆ›å»ºä¸€ä¸ªçº¿ç¨‹åŽï¼Œè¯¥çº¿ç¨‹ä»…ä»…æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œç³»ç»Ÿæ²¡æœ‰åˆ†é…èµ„æºï¼Œç§°è¯¥çº¿ç¨‹å¤„äºŽåˆ›å»ºçŠ¶æ€ï¼ˆnew threadï¼‰ã€‚ 2)å¯è¿è¡ŒçŠ¶æ€&emsp;&emsp;ä½¿ç”¨start()æ–¹æ³•å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹åŽï¼Œç³»ç»Ÿä¸ºè¯¥çº¿ç¨‹åˆ†é…äº†é™¤CPUå¤–çš„æ‰€éœ€èµ„æºï¼Œæ˜¯è¯¥çº¿ç¨‹å¤„äºŽå¯è¿è¡ŒçŠ¶æ€ï¼ˆRunnableï¼‰ã€‚ 3ï¼‰è¿è¡Œä¸­çŠ¶æ€&emsp;&emsp;Javaè¿è¡Œç³»ç»Ÿé€šè¿‡è°ƒåº¦é€‰ä¸­ä¸€ä¸ªRunnableçš„çº¿ç¨‹ï¼Œä½¿å…¶å æœ‰CPUå¹¶è½¬ä¸ºè¿è¡Œä¸­çŠ¶æ€ï¼ˆRunningï¼‰ã€‚æ­¤æ—¶ï¼Œç³»ç»ŸçœŸæ­£æ‰§è¡Œçº¿ç¨‹çš„run()æ–¹æ³•ã€‚ 4ï¼‰é˜»å¡žçŠ¶æ€&emsp;&emsp;ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹å› æŸç§åŽŸå› ä¸èƒ½ç»§ç»­è¿è¡Œæ—¶ï¼Œè¿›å…¥é˜»å¡žçŠ¶æ€ï¼ˆBlockedï¼‰ã€‚ 5ï¼‰æ­»äº¡çŠ¶æ€&emsp;&emsp;çº¿ç¨‹ç»“æŸåŽæ˜¯æ­»äº¡çŠ¶æ€ï¼ˆDeadï¼‰ã€‚ &emsp;&emsp;OKï¼ŒåŸºç¡€æ¦‚å¿µçŸ¥è¯†å°±å…ˆå†™åˆ°è¿™é‡Œï¼ŒåŽé¢ä¼šè®²è§£åˆ°å¦‚ä½•å»ºç«‹ä¸€ä¸ªçº¿ç¨‹ï¼Œä»¥åŠå¤šçº¿ç¨‹ç¼–ç¨‹ã€‚]]></content>
      <categories>
        <category>Java</category>
        <category>Java SE</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Java SE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç³»ç»Ÿé‡è£…åŽå¦‚ä½•æ¢å¤Hexoåšå®¢]]></title>
    <url>%2F2018%2F09%2F20%2F%E7%B3%BB%E7%BB%9F%E9%87%8D%E8%A3%85%E5%90%8E%E5%A6%82%E4%BD%95%E6%81%A2%E5%A4%8DHexo%E5%8D%9A%E5%AE%A2%2F</url>
    <content type="text"><![CDATA[è¯´æ˜Žç”±äºŽæš‘å‡ç”µè„‘å‡ºäº†æ•…éšœï¼Œé‡è£…äº†ç³»ç»Ÿã€‚å¯¼è‡´æœ¬åœ°ç”µè„‘æ­å»ºçš„Github+Hexoåšå®¢ä¸èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œä¹Ÿç”±äºŽæ—¶é—´åŽŸå› åˆ°çŽ°åœ¨æ‰æœ‰æ—¶é—´æ¥æ¢å¤åšå®¢ï¼ˆä¸ä¼šæ–­çš„ï¼‰ã€‚çŽ°åœ¨ç®€å•è®°å½•ä¸‹æ˜¯å¦‚ä½•æ¢å¤å·²æœ‰çš„Hexoåšå®¢ã€‚ æ¢å¤æ­¥éª¤ é‡ç‚¹ï¼š é‡è£…ç³»ç»Ÿå‰çš„åšå®¢æœ‰å¤‡ä»½ï¼ˆæ•´ä¸ªæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ä¸Žæœ€åŽä¸€æ¬¡ä¸Šä¼ åˆ°GitHubä¿æŒä¸€è‡´ï¼ŒåŒ…æ‹¬é…ç½®æ–‡ä»¶ã€‚PSï¼šå…»æˆå¤‡ä»½çš„å¥½ä¹ æƒ¯ã€‚ï¼‰ã€‚ ç¬¬ä¸€æ­¥ï¼šæ¢å¤æœ¬åœ°æŒ‰ç…§æ­å»ºåšå®¢æ­¥éª¤é‡æ–°å®‰è£…Git,Node.js,Hexoã€‚å¯å‚è€ƒã€ŠGitHub + Hexo æ­å»ºã€‹ï¼Œæ‰§è¡Œåˆ°4-1æ“ä½œæ­¥éª¤åŽï¼Œè¿›å…¥åŽŸæœ‰hexoæ–‡ä»¶ç›®å½•å†…è¾“å…¥å¦‚ä¸‹å‘½åï¼š hexo s å¦‚æžœæœåŠ¡å™¨å¯åŠ¨æˆåŠŸï¼Œå¹¶åœ¨æµè§ˆå™¨ä¸­è¾“å…¥http://localhost:4000å¯ä»¥çœ‹åˆ°åšå®¢ï¼Œåˆ™è¡¨æ˜Žæœ¬åœ°æ¢å¤æˆåŠŸã€‚å¦‚æžœä¸æˆåŠŸï¼Œæ£€æŸ¥Git,Node.js,Hexoå®‰è£…æ˜¯å¦æ­£ç¡®ï¼Œé‡æ¥ä¸€éã€‚ ç¬¬äºŒæ­¥ï¼šæ¢å¤åŒæ­¥GitHubåŠŸèƒ½ç¬¬ä¸€æ­¥æ­£ç¡®æ‰§è¡ŒåŽï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦å¼€å§‹æ¢å¤åšå®¢ä¸Šä¼ åˆ°è¿œç¨‹Githubä¸Šçš„åŠŸèƒ½äº†ã€‚å¯å‚è€ƒã€ŠGitHub + Hexo æ­å»ºã€‹ï¼Œä»Ž4.5æ­¥éª¤å¼€å§‹ï¼Œä»Žæ–°é…ç½®ç”¨æˆ·åå’Œé‚®ç®±ã€‚ åœ¨Blogæ–‡ä»¶å¤¹ç›®å½•å†…å³å‡»æ‰“å¼€Git Bash Hereçª—å£ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š git config --global user.name "GitHubç”¨æˆ·å" git config --global user.email "GitHubé‚®ç®±" é‡ç‚¹ï¼šé‡æ–°ç”ŸæˆSSH KEYï¼ˆç³»ç»Ÿé‡è£…åŽæ˜¯æ²¡æœ‰çš„ï¼Œéœ€è¦é‡æ–°ç”Ÿæˆï¼‰ï¼ŒGitHubéœ€è¦ä¸€ä¸ªå¯†é’¥æ‰èƒ½ä¸Žæœ¬åœ°ç›¸è¿žæŽ¥ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½åï¼Œå¹¶ä¸”è¿žç»­æŒ‰3æ¬¡å›žè½¦ç”Ÿæˆå¯†é’¥ï¼ˆæ³¨ï¼šC ä¸ºå¤§å†™ï¼‰ï¼š ssh-keygen -t rsa -C "é‚®ç®±åœ°å€" åŽé¢ä¼šæœ‰ä¸€ä¸ªåœ°å€ï¼Œå¯ä»¥çœ‹åˆ°ã€‚å°±æ˜¯æˆ‘ä»¬ç”Ÿæˆçš„å¯†é’¥ä¿å­˜åœ°å€ã€‚å³ï¼šC:/Users/ç”¨æˆ·å/.sshæ–‡ä»¶ä¸­ã€‚æ‰“å¼€è¿™ä¸ªç›®å½•æ‰¾åˆ° id_rsa.pub æ–‡ä»¶ï¼Œå¤åˆ¶å…¨éƒ¨å†…å®¹ã€‚ åœ¨ç½‘é¡µæ‰“å¼€GitHubï¼Œä¾æ¬¡ç‚¹å‡» æˆ‘çš„å¤´åƒ - Settings - SSH and GPG keys - New SSH keyï¼Œå°†åˆšåˆšå¤åˆ¶çš„å¯†é’¥å†…å®¹ç²˜è´´åˆ°keyçš„è¾“å…¥æ¡†ï¼ˆå¯ä»¥å°†åŽŸæ¥çš„å¯†é’¥åˆ é™¤ï¼‰ï¼Œç„¶åŽç‚¹å‡»Add Keyï¼Œé…ç½®æˆåŠŸã€‚ &emsp;&emsp;æœ€åŽï¼Œæµ‹è¯•ä¸€ä¸‹ï¼ŒæŒ‰ç…§ä»¥å‰çš„æ–¹å¼éšä¾¿å†™ä¸€ç¯‡æ–‡ç« ä¸Šä¼ ä¸€ä¸‹ï¼Œå¦‚ä½•æˆåŠŸäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¤§åŠŸå‘Šæˆäº†ï¼ï¼ï¼]]></content>
      <categories>
        <category>Hexo</category>
        <category>ä¸ªäººåšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ï¼ˆä¸‰ï¼‰Springç³»åˆ—ä¹‹SpringMVCå…¥é—¨]]></title>
    <url>%2F2018%2F06%2F27%2F%EF%BC%88%E4%BA%8C%EF%BC%89Spring%E7%B3%BB%E5%88%97%E4%B9%8BSpringMVC%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[è¯´æ˜Žï¼šæœ¬ç« ä¸»è¦ä»‹ç»äº†springMVCçš„åŸºç¡€çŸ¥è¯†å’Œä¸€ä¸ªç®€å•çš„ç™»é™†è¿‡ç¨‹å®žä¾‹ 1. åˆè¯†SpringMVCä»€ä¹ˆæ˜¯MVC MVCæ˜¯ä¸€ç§Webç¨‹åºè®¾è®¡æ¨¡å¼ã€è½¯ä»¶è®¾è®¡å…¸èŒƒï¼Œç”¨ä¸€ç§ä¸šåŠ¡é€»è¾‘ã€æ•°æ®ã€ç•Œé¢æ˜¾ç¤ºåˆ†ç¦»çš„æ–¹æ³•ç»„ç»‡ä»£ç ï¼Œå°†ä¸šåŠ¡é€»è¾‘èšé›†åˆ°ä¸€ä¸ªéƒ¨ä»¶é‡Œé¢ï¼Œåœ¨æ”¹è¿›å’Œä¸ªæ€§åŒ–å®šåˆ¶ç•Œé¢åŠç”¨æˆ·äº¤äº’çš„åŒæ—¶ï¼Œä¸éœ€è¦é‡æ–°ç¼–å†™ä¸šåŠ¡é€»è¾‘ã€‚MVCè¢«ç‹¬ç‰¹çš„å‘å±•èµ·æ¥ç”¨äºŽæ˜ å°„ä¼ ç»Ÿçš„è¾“å…¥ã€å¤„ç†å’Œè¾“å‡ºåŠŸèƒ½åœ¨ä¸€ä¸ªé€»è¾‘çš„å›¾å½¢åŒ–ç”¨æˆ·ç•Œé¢çš„ç»“æž„ä¸­ã€‚ MVCå…¨åæ˜¯Model View Controllerï¼Œæ˜¯æ¨¡åž‹(model)ï¼è§†å›¾(view)ï¼æŽ§åˆ¶å™¨(controller)çš„ç¼©å†™ å…ˆç»™ä¸€å¼ å®˜ç½‘å›¾ï¼š å†çœ‹ä¸‹è¿™å¼ å›¾ï¼š 2. ä»€ä¹ˆæ˜¯SpringMVC SpringMVC æ˜¯ä¸€ä¸ªåŸºäºŽmvcçš„ä¸€ç§webåº”ç”¨æ¡†æž¶ï¼Œæ˜¯Springçš„ä¸€ä¸ªæ¨¡å—ã€‚ ä¸ŽSpringæ— ç¼è¿žæŽ¥ï¼Œä¸éœ€è¦é…ç½®ã€‚ å†çœ‹è¿™å¼ å›¾ï¼š åŒ–é‡ç‚¹ï¼š å‰ç«¯æŽ§åˆ¶å™¨ï¼ˆDispatchServletï¼‰ æŽ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚ï¼Œè¿”å›žå“åº”ç»“æžœï¼Œç›¸å½“äºŽä¸­å¤®å¤„ç†è½¬å‘å™¨ã€‚ æ˜ å°„å™¨ï¼ˆHandleMappingï¼‰ æ ¹æ®è¯·æ±‚çš„URLæŸ¥æ‰¾Handleã€‚ é€‚é…å™¨ï¼ˆHandleAdapterï¼‰ æŒ‰ç…§ç‰¹å®šè§„åˆ™ï¼ˆHandleAdapterè¦æ±‚çš„è§„åˆ™ï¼‰æ‰§è¡ŒHandleã€‚ å¤„ç†å™¨ï¼ˆHandle ï¼‰ï¼ˆéœ€è¦æˆ‘ä»¬ç¼–å†™Controllerï¼‰ å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œè¿”å›žModelAndViewã€‚ è§†å›¾è§£æžå™¨ï¼ˆViewResolveï¼‰ è§£æžå¤„ç†å™¨è¿”å›žçš„è§†å›¾ï¼Œç„¶åŽè¿”å›žView 3. ä¸€ä¸ªç™»é™†çš„å®žä¾‹å…ˆç»™ä¸ªé¡¹ç›®ç»“æž„æˆªå›¾ï¼š 3.1 æ–°å»ºä¸€ä¸ªé¡¹ç›®æ³¨ï¼š è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯IDEA 2018 å¼€å‘å·¥å…·ï¼ˆEclipseä¹Ÿå¯ä»¥ï¼ŒçŽ¯å¢ƒæ­å¥½å°±è¡Œï¼‰ æ–°å»ºä¸€ä¸ªMaven -&gt; webapp é¡¹ç›®ï¼Œç„¶åŽåœ¨src/mainä¸‹é¢æ–°å»º javaå’Œresourcesç›®å½•ï¼Œå¹¶æ ‡è®°ä¸ºæ ¹ç›®å½•,é…ç½®Tomcatç­‰ç­‰ã€‚ å…·ä½“å¯å‚è€ƒï¼š åœ¨IDEAä¸Šæ­å»ºSpringé¡¹ç›® 3.2 å¯¼å…¥jaråŒ…åœ¨pom.xmlæ–‡ä»¶ä¸‹å¯¼å…¥ä¾èµ–åŒ…,ä»£ç å¦‚ä¸‹ï¼š pom.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384&lt;!--ç‰ˆæœ¬æŽ§åˆ¶--&gt;&lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt; &lt;slf4j-version&gt;1.7.25&lt;/slf4j-version&gt; &lt;spring.version&gt;5.0.4.RELEASE&lt;/spring.version&gt;&lt;/properties&gt;&lt;dependencies&gt; &lt;!-- springç›¸å…³åŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-expression&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- æ—¥å¿—ç›¸å…³åŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;version&gt;$&#123;slf4j-version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; &lt;version&gt;$&#123;slf4j-version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt; &lt;version&gt;$&#123;slf4j-version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;3.1.0&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt; 3.3 åœ¨web.xmlä¸­é…ç½®å‰ç«¯æŽ§åˆ¶å™¨ï¼ˆDispatchServletï¼‰web.xml123456789101112131415161718192021222324252627&lt;!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" "http://java.sun.com/dtd/web-app_2_3.dtd" &gt;&lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3.0.xsd" version="3.0"&gt; &lt;servlet&gt; &lt;servlet-name&gt;springMVC&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!--ä¸‹é¢çš„contextConfigLocationé…ç½®springMVCåŠ è½½çš„é…ç½®æ–‡ä»¶ï¼Œæ˜ å°„å™¨ã€å¤„ç†å™¨ã€è§†å›¾è§£æžå™¨çš„æ–‡ä»¶--&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:springmvc-servlet.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;!--è®¿é—®DispatchServletå¯¹åº”çš„è·¯å¾„--&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;springMVC&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; 3.4 åœ¨resourcesç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª springmvc-servlet.xml é…ç½®æ–‡ä»¶æ³¨ï¼š è¦ä¸Žweb.xml æ–‡ä»¶ä¸­åŠ è½½çš„é…ç½®æ–‡ä»¶åä¸€è‡´ springmvc-servlet.xml1234567891011121314151617181920212223&lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation=" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt; &lt;!-- æ‰«æcontroller--&gt; &lt;!--æ‰«æ"com.heng.controller"åŒ…ä¸‹æ‰€æœ‰çš„ç±»--&gt; &lt;context:component-scan base-package="com.heng.controller"/&gt; &lt;!-- é…ç½®è§†å›¾è§£æžå™¨ --&gt; &lt;bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt; &lt;!-- jspæ‰€åœ¨çš„ä½ç½®ï¼ˆå‰ç¼€ï¼‰--&gt; &lt;property name="prefix" value="/" /&gt; &lt;!-- jspæ–‡ä»¶çš„åŽç¼€--&gt; &lt;property name="suffix" value=".jsp" /&gt; &lt;/bean&gt;&lt;/beans&gt; é™„ log4j.properties é…ç½®ä»£ç ï¼ˆåŒæ ·åœ¨resourcesç›®å½•ä¸‹ï¼‰ï¼š log4j.properties1234567891011121314###setloglevels###INFOlog4j.rootLogger=INFO,stdout,Elog4j.appender.stdout=org.apache.log4j.ConsoleAppenderlog4j.appender.stdout.Target=System.outlog4j.appender.stdout.layout=org.apache.log4j.PatternLayoutlog4j.appender.stdout.layout.ConversionPattern=%d&#123;ABSOLUTE&#125;%5p %c&#123;1&#125;:%L-%m%nlog4j.logger.org.quartz=INFOlog4j.appender.E=org.apache.log4j.DailyRollingFileAppenderlog4j.appender.E.File=logs/mylogs.loglog4j.appender.E.DatePattern=yyyy-MM-dd'.log'log4j.appender.E.Threshold=INFOlog4j.appender.E.layout=org.apache.log4j.PatternLayoutlog4j.appender.E.layout.ConversionPattern=%-d&#123;yyyy-MM-ddHH\:mm\:ss&#125;[%c][%t\:%r]-[%p]%m%n 3.5 Controllerç¼–å†™ åœ¨javaç›®å½•ä¸‹æ–°å»ºåŒ… com.heng.controller æ–°å»ºä¸€ä¸ªUserControllerç±» ä»£ç å¦‚ä¸‹ï¼š UserController.java1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950@Controller@SessionAttributes("user") //è¡¨ç¤ºï¼šuser è¿™ä¸ªå€¼éœ€è¦å†™åˆ°httpsessionä¸­public class UserController &#123; /** * è®¿é—®æ ¹è·¯å¾„è¯·æ±‚çš„æ˜ å°„ * */ @RequestMapping("/") public String main(Map&lt;String ,Object&gt; map)&#123; //å¦‚æžœsessionä¸­æ²¡æœ‰ä¿å­˜ç”¨æˆ·çš„ä¿¡æ¯ï¼Œåˆ™éœ€è¦è·³è½¬åˆ°loginé¡µé¢ if(map.get("user") == null)&#123; return "redirect:/login"; &#125; return "main"; &#125; /** * åŠ è½½ç™»å½•é¡µé¢æ‰§è¡Œçš„æ˜ å°„ * */ @RequestMapping(value = "/login",method = RequestMethod.GET) public String login()&#123; return "login"; &#125; /** * ç™»å½•è¯·æ±‚URLæ‰§è¡Œçš„æ˜ å°„ * */ @RequestMapping(value = "/login",method = RequestMethod.POST) public String login(String userName, String password, Map&lt;String,Object&gt; map)&#123; if("admin".equals(userName) &amp;&amp; "123".equals(password))&#123; map.put("user",userName); return "redirect:/"; &#125; map.put("msg","éªŒè¯å¤±è´¥ï¼Œè¯·é‡æ–°ç™»å½•ï¼"); return "login"; &#125; /** * é€€å‡ºè¯·æ±‚URLæ‰§è¡Œçš„æ˜ å°„ * */ @RequestMapping("/logout") public String logout(Map&lt;String,Object&gt; map, SessionStatus status)&#123; //ä»Žsessionä¸­åˆ é™¤ç”¨æˆ·ä¿¡æ¯ map.remove("user"); //æ›´æ–°session status.setComplete(); //é‡å®šå‘åˆ°loginé¡µé¢ return "redirect:/login"; &#125;&#125; 6. é™„ jsplogin.jsp ä»£ç å¦‚ä¸‹ï¼š login.jsp123456789101112131415161718192021222324252627282930&lt;%-- Created by IntelliJ IDEA. User: Heng Date: 2018/6/21 Time: 14:18 To change this template use File | Settings | File Templates.--%&gt;&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;&lt;% String basePath = request.getContextPath(); String msg = (String)request.getAttribute("msg");%&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;ç™»å½•&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;form action="&lt;%=basePath%&gt;/login" method="post"&gt; &lt;label for="userName"&gt;ç”¨æˆ·åï¼š&lt;input type="text" name="userName" id="userName"/&gt;&lt;/label&gt;&lt;br/&gt; &lt;label for="password"&gt;å¯†&amp;nbsp;&amp;nbsp;ç ï¼š&lt;input type="password" name="password" id="password"/&gt;&lt;/label&gt;&lt;br/&gt; &lt;input type="submit" value="ç™»å½•"/&gt; &lt;input type="reset" value="é‡ç½®"&gt; &lt;/form&gt; &lt;h3&gt;&lt;%=msg == null ? "" : msg%&gt;&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt; main.jsp ä»£ç å¦‚ä¸‹ï¼š main.jsp12345678910111213141516171819202122&lt;%-- Created by IntelliJ IDEA. User: Heng Date: 2018/6/21 Time: 14:27 To change this template use File | Settings | File Templates.--%&gt;&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;&lt;% String basePath = request.getContextPath();%&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;ä¸»é¡µ&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h2&gt; Hello Spring!&lt;/h2&gt; &lt;form action="&lt;%=basePath%&gt;/logout"&gt; &lt;input type="submit" value="é€€å‡ºç™»å½•"/&gt; &lt;/form&gt;&lt;/body&gt;&lt;/html&gt; OKï¼Œåˆ°æ­¤ç®€å•çš„ä¸€ä¸ªSpringMVCå…¥é—¨å°ç¨‹åºå°±å®Œæˆäº†]]></content>
      <categories>
        <category>Java</category>
        <category>Java EE</category>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Java EE</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IDEA å¸¸ç”¨å¿«æ·é”®]]></title>
    <url>%2F2018%2F06%2F23%2FIDEA-%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE%2F</url>
    <content type="text"><![CDATA[IDEA çŽ°åœ¨æ˜¯è¶Šæ¥è¶Šç«çš„ä¸€æ¬¾å¼€å‘å·¥å…·ï¼Œå¾ˆå¤šå…¬å¸éƒ½åœ¨ä½¿ç”¨å®ƒæ¥å¼€å‘è½¯ä»¶ã€‚å…·ä½“ç®€ä»‹å°±ä¸è®²äº†ï¼Œä¸‹é¢è¯´ä¸€äº›IDEA å¼€å‘å·¥å…·å¸¸ç”¨çš„ä¸€äº›å¿«æ·é”®ï¼Œèƒ½å¸®åŠ©æˆ‘ä»¬é«˜æ•ˆåœ°å¼€å‘ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101Ctrl + Alt + S æ‰“å¼€è®¾ç½®é€‰é¡¹Ctrl + / æ³¨é‡Š ã€ å–æ¶ˆæ³¨é‡Šï¼ˆå•è¡Œæ³¨é‡Šï¼‰Ctrl + Shift + / æ³¨é‡Š ã€å–æ¶ˆæ³¨é‡Šï¼ˆå¤šè¡Œæ³¨é‡Šï¼‰Ctrl + N æŸ¥æ‰¾ç±»æ–‡ä»¶Ctrl + Shift + N æŸ¥æ‰¾æ–‡ä»¶Ctrl + Y åˆ é™¤å½“å‰è¡ŒCtrl + D å¤åˆ¶å½“å‰è¡Œåˆ°ä¸‹ä¸€è¡ŒCtrl + X å‰ªåˆ‡å½“å‰è¡Œï¼ˆä¹Ÿæœ‰åˆ é™¤å½“å‰è¡Œçš„ä½œç”¨ï¼‰Ctrl + V ç²˜è´´Ctrl + R æ›¿æ¢Ctrl + F åœ¨å½“å‰æ–‡ä»¶ä¸­æŸ¥æ‰¾ ï¼ˆä½¿ç”¨ F3 åœ¨æŸ¥æ‰¾åˆ°çš„å¤šä¸ªç»“æžœä¸­åˆ‡æ¢ï¼‰Ctrl + Shift + F åœ¨æŒ‡å®šèŒƒå›´æŸ¥æ‰¾ï¼ˆæ›´è¯¦ç»†ï¼‰Ctrl + P æŸ¥çœ‹ä¸€ä¸ªå‡½æ•°å¯ä»¥ä½¿ç”¨çš„å‚æ•° / æŸ¥çœ‹ä¸€ä¸ªå±žæ€§æœ‰å“ªäº›å¯ç”¨çš„å€¼ ç­‰ç­‰Ctrl + Shift + 1, 2, 3, 4 åœ¨æŸä¸€è¡Œæ‰“æ ‡ç­¾ã€‚ç»“åˆ Ctrl + 1, 2, 3, 4 å¯ä»¥å¿«é€Ÿå®šä½åˆ°æŸä¸€æ ‡è®°è¡Œã€‚ é€‚ç”¨äºŽè¡Œæ•°ç‰¹åˆ«å¤šçš„æ–‡ä»¶ã€‚Ctrl + delete åˆ é™¤ä¸€ä¸ªè¿žç»­çš„å•ä½ã€‚æ¯”å¦‚ï¼Œå•è¯ã€è¿žåœ¨ä¸€èµ·çš„å•è¯ã€è¿žåœ¨ä¸€èµ·çš„æ±‰å­—ç­‰ã€‚Ctrl + W é€‰æ‹©ä¸€ä¸ªå•ä½ã€‚è¿žç»­æŒ‰çš„è¯ï¼Œä¼šä¸æ–­æ‰©å±•é€‰æ‹©çš„èŒƒå›´ã€‚Ctrl + å·¦å³ç®­å¤´ï¼ˆå¯¼èˆªé”®å·¦å³é”®ï¼‰ æŒ‰ç…§å•ä½è·³è½¬ã€‚Ctrl + (-/+) æ”¶èµ·æˆ–è€…å±•å¼€ä¸€æ®µä»£ç å—ï¼ˆæ¯”å¦‚ï¼Œä¸€å—æ³¨é‡Šæˆ–è€…ä¸€ä¸ªæ–¹æ³•å¤ªé•¿ï¼Œå¯ä»¥æŒ‰Ctrl + - å°†å®ƒæ”¶èµ·æ¥ï¼‰Ctrl + E æ‰“å¼€æœ€è¿‘çš„æ–‡ä»¶Ctrl + Shift + E æ‰“å¼€æœ€è¿‘ç¼–è¾‘è¿‡çš„æ–‡ä»¶Ctrl +Tab ç›´æŽ¥æ‰“å¼€æœ€è¿‘çš„æ–‡ä»¶Ctrl + F12 æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å†…éƒ¨æˆå‘˜ æˆ–è€…è¯´ æŸ¥çœ‹æœ¬æ–‡æ¡£çš„ç»“æž„Ctrl + G è·³è½¬åˆ°æŒ‡å®šè¡ŒCtrl + F4 å…³é—­å½“å‰æ–‡ä»¶Ctrl + B æ‰“å¼€ä¸€ä¸ªç±»ï¼ˆjavaï¼‰çš„å£°æ˜Žï¼Œå…¶ä»–å¦‚html jspæ–‡ä»¶ä¹Ÿæ˜¯ç±»ä¼¼ã€‚ç›¸å½“äºŽåœ¨eclipseä¸­ç¼–è¾‘javaç±»æ–‡ä»¶æ—¶ï¼ŒæŒ‰ä½Ctrlé”®å¹¶å•å‡»ç±»åä»Žè€Œè¿›å…¥ç±»çš„å£°æ˜Žã€‚Ctrl + H æŸ¥çœ‹å½“å‰ç±»çš„ç»§æ‰¿å…³ç³»ï¼ˆæŒ‰Shift + Esc å…³é—­ï¼‰Ctrl + Shift æŸ¥çœ‹ä¸€ä¸ªæ–¹æ³•çš„ç»§æ‰¿å…³ç³»ï¼ˆæŒ‰Shift + Esc å…³é—­ï¼‰Ctrl + Q æŸ¥çœ‹è¯´æ˜Žæ–‡æ¡£Ctrl + Alt + L æ ¼å¼åŒ–ä»£ç Ctrl + Shift + I æŸ¥çœ‹ç±»ä½“æˆ–è€…æ–¹æ³•ä½“Ctrl + Alt + O è‡ªåŠ¨å¯¼åŒ… Ctrl + Alt + Enter åœ¨å½“å‰è¡Œä¸Šé¢å¼€å¯æ–°çš„ä¸€è¡ŒCtrl + Shift + ä¸Šä¸‹ç®­å¤´ ä¸Šä¸‹ç§»åŠ¨ä»£ç å—ï¼ˆå¯¹æ¯”Alt + Shift + ä¸Šä¸‹ç®­å¤´ï¼‰ Ctrl + Shift + U åˆ‡æ¢å¤§å°å†™Ctrl + Shift + V é€‰æ‹©æ€§ç²˜è´´ï¼ˆå‰ªåˆ‡æ¿æœ‰å¤šä¸ªé€‰é¡¹ï¼‰Ctrl + Shift + C å¤åˆ¶å½“å‰æ–‡ä»¶çš„è·¯å¾„Ctrl + Shift + J åˆå¹¶ä¸‹ä¸€è¡Œåˆ°å½“å‰è¡ŒCtrl + Shift + (-/+) æŠ˜å æˆ–è€…å±•å¼€æ‰€æœ‰ä»£ç å—Ctrl + Shift + Space è‡ªåŠ¨æç¤ºAlt + Enter æ ¹æ®æç¤ºè‡ªåŠ¨å¯¼å…¥åŒ…Alt + å·¦å³ç®­å¤´ åœ¨å½“å‰æ‰“å¡çš„å¤šä¸ªæ–‡ä»¶ä¹‹é—´è·³è½¬Alt + / è‡ªåŠ¨è¡¥å…¨Alt + é¼ æ ‡é€‰åŒº å¯ä»¥é€‰æ‹©æ–¹å½¢åŒºåŸŸï¼ˆåˆ—æ¨¡å¼ï¼‰Alt + Home é”å®šåˆ°å¯¼èˆªæ ç›®ï¼ŒæŒ‰å¯¼èˆªé”®å¯ä»¥ç›´æŽ¥æ‰“å¼€æ–‡ä»¶Alt + Insert æ’å…¥æž„é€ æ–¹æ³•ã€toStringæ–¹æ³•ç­‰Alt + F7 æŸ¥çœ‹æ–¹æ³•åœ¨å“ªé‡Œè¢«è°ƒç”¨äº†Shift + F6 é‡å‘½å ï¼ˆæ¯”å¦‚ï¼Œé€‰ä¸­åä¸º thread çš„å˜é‡ï¼ŒæŒ‰Shift + F6 è¿›è¡Œé‡å‘½åï¼Œå¯ä»¥å¯¹æœ¬ç±»ä¸­æ‰€æœ‰åŽŸæ¥åä¸ºthreadçš„å˜é‡è¿›è¡Œé‡å‘½åï¼‰Shift + Enter åœ¨å½“å‰è¡Œä¸‹é¢å¼€å¯æ–°çš„ä¸€è¡ŒShift + Home / End é€‰æ‹©å…‰æ ‡åˆ°è¡Œé¦–/è¡Œå°¾çš„åŒºåŸŸShift + å¯¼èˆªç®­å¤´ è‡ªç”±é€‰æ‹©Shift + F11 æŸ¥çœ‹ä¹¦ç­¾]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Springç³»åˆ—ä¹‹Springç®€ä»‹]]></title>
    <url>%2F2018%2F06%2F20%2F%EF%BC%88%E4%B8%80%EF%BC%89Spring%E7%B3%BB%E5%88%97%E4%B9%8BSpring%E6%8A%80%E6%9C%AF%E4%BB%8B%E7%BB%8D%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;å‰è¨€ï¼šSpringæ¡†æž¶ç”±Rod Johnsonå¼€å‘ï¼Œ2004å¹´å‘å¸ƒäº†Springæ¡†æž¶çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ã€‚ç»è¿‡åå¤šå¹´çš„å‘å±•ï¼ŒSpringå·²ç»å‘å±•æˆä¸ºJavaEEå¼€å‘ä¸­æœ€é‡è¦çš„æ¡†æž¶ä¹‹ä¸€ã€‚å¯¹äºŽä¸€ä¸ªJavaå¼€å‘å¼€å‘è€…æ¥è¯´ï¼ŒSpringå·²ç»æˆä¸ºå¿…é¡»æŽŒæ¡çš„æŠ€èƒ½ã€‚ä¸ä»…å¦‚æ­¤ï¼Œå›´ç»•Springï¼Œä»¥Springä¸ºæ ¸å¿ƒè¿˜è¡ç”Ÿå‡ºäº†ä¸€ç³»åˆ—æ¡†æž¶ï¼Œå¦‚SpringBootã€SpringCloudã€SpringSecurityç­‰ï¼ŒSpringè¶Šæ¥è¶Šå¼ºå¤§ï¼Œå¸¦ç»™å¼€å‘è€…è¶Šæ¥è¶Šå¤šçš„ä¾¿æ·ã€‚ Springå®˜ç½‘ 1. Springç®€ä»‹&emsp;&emsp;Springæ˜¯ä¸€ä¸ªä»Žå®žé™…å¼€å‘ä¸­æå–å‡ºæ¥çš„æ¡†æž¶ï¼Œå› æ­¤å®ƒå®Œæˆäº†å¤§é‡å¼€å‘ä¸­çš„é€šç”¨æ­¥éª¤ï¼Œç•™ç»™å¼€å‘è€…çš„ä»…ä»…æ˜¯ä¸Žç‰¹å®šåº”ç”¨ç›¸å…³çš„éƒ¨åˆ†ï¼Œä»Žè€Œå¤§å¤§æé«˜äº†ä¼ä¸šåº”ç”¨çš„å¼€å‘æ•ˆçŽ‡ã€‚ &emsp;&emsp;Springä¸ºä¼ä¸šåº”ç”¨çš„å¼€å‘æä¾›äº†ä¸€ä¸ªè½»é‡çº§çš„è§£å†³æ–¹æ¡ˆã€‚è¯¥è§£å†³æ–¹æ¡ˆåŒ…æ‹¬ï¼šåŸºäºŽä¾èµ–æ³¨å…¥ï¼ˆIoCï¼‰çš„æ ¸å¿ƒæœºåˆ¶ã€åŸºäºŽAOPçš„å£°æ˜Žå¼äº‹åŠ¡ç®¡ç†ã€ä¸Žå¤šç§æŒä¹…å±‚æŠ€æœ¯çš„æ•´åˆï¼Œä»¥åŠä¼˜ç§€çš„Web MVCæ¡†æž¶ç­‰ã€‚Springè‡´åŠ›äºŽJavaEEåº”ç”¨å„å±‚çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œä¸æ˜¯ä»…ä»…ä¸“æ³¨äºŽæŸä¸€å±‚çš„æ–¹æ¡ˆã€‚å¯ä»¥è¯´ï¼šSpringæ˜¯ä¼ä¸šåº”ç”¨å¼€å‘çš„â€œä¸€ç«™å¼â€é€‰æ‹©ï¼ŒSpring è´¯ç©¿è¡¨çŽ°å±‚ã€ä¸šåŠ¡å±‚ã€æŒä¹…å±‚ã€‚Springå¹¶ä¸æ˜¯æƒ³å–ä»£é‚£äº›å·²æœ‰çš„æ¡†æž¶ï¼Œè€Œæ˜¯ä»¥é«˜åº¦çš„å¼€æ”¾æ€§ä¸Žå®ƒä»¬æ— ç¼æ•´åˆã€‚ &emsp;&emsp;Springçš„ä¼˜ç‚¹ã€‚ Springçš„IoCå®¹å™¨ç®€åŒ–å¼€å‘ï¼Œæ–¹ä¾¿è§£è€¦ã€‚ ä½Žä¾µå…¥å¼è®¾è®¡ï¼Œä»£ç çš„æ±¡æŸ“æžä½Žã€‚ AOPç¼–ç¨‹çš„æ”¯æŒï¼Œå°†ä¸€äº›é€šç”¨ä»»åŠ¡å¦‚å®‰å…¨ã€äº‹åŠ¡ã€æ—¥å¿—ç­‰è¿›è¡Œé›†ä¸­å¼å¤„ç†ã€‚ å£°æ˜Žå¼äº‹åŠ¡çš„æ”¯æŒã€‚ æ–¹ä¾¿ç¨‹åºçš„æµ‹è¯•ã€‚ æ–¹ä¾¿é›†æˆå„ç§ä¼˜ç§€çš„æ¡†æž¶ã€‚ é™ä½ŽJava EE APIçš„ä½¿ç”¨éš¾åº¦ã€‚ 2. Springçš„ä½¿ç”¨&emsp;&emsp;Springçš„ä¸¤å¤§æ ¸å¿ƒåŠŸèƒ½ï¼šIoCï¼ˆæŽ§åˆ¶åè½¬ï¼‰ã€AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ã€‚ 2.1 ä½¿ç”¨Springç®¡ç†Bean&emsp;&emsp;Springæ ¸å¿ƒå®¹å™¨ï¼šSpringæ ¸å¿ƒå®¹å™¨å°±æ˜¯ä¸€ä¸ªè¶…çº§å¤§å·¥åŽ‚ï¼Œæ‰€æœ‰çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬æ•°æ®æºã€Hibernate SessionFactoryç­‰åŸºç¡€æ€§èµ„æºï¼‰éƒ½ä¼šè¢«å½“æˆSpringæ ¸å¿ƒå®¹å™¨ç®¡ç†çš„å¯¹è±¡â€”â€”SpringæŠŠå®¹å™¨ä¸­çš„ä¸€åˆ‡å¯¹è±¡ç»Ÿç§°ä¸ºBeanã€‚åªè¦æ˜¯ä¸€ä¸ªJavaç±»ï¼ŒSpringå°±å¯ä»¥ç®¡ç†è¯¥Javaç±»ï¼Œå¹¶å°†å®ƒå½“æˆBeanã€‚å³ï¼šå¯¹äºŽSpringæ¡†æž¶æ¥è¯´ï¼Œä¸€åˆ‡Javaå¯¹è±¡éƒ½æ˜¯Beanã€‚application.xml12345678910111213141516&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p" xmlns:context="http://www.springframework.org/schema/context" xmlns:aop="http://www.springframework.org/schema/aop" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd"&gt; &lt;!-- åœ¨Springæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­åŠ å…¥ä¸€ä¸ªbeanæ ‡ç­¾ï¼Œå°±å¯ä»¥å°†è¯¥ç±»æ”¾å…¥åˆ°Springå®¹å™¨ä¸­ç®¡ç† id:beançš„å”¯ä¸€æ ‡è¯† class:ç±»æ‰€åœ¨è·¯å¾„ï¼ˆåŒ…å+ç±»åï¼‰ï¼Œå¦‚ cn.zqiheng.dao.UserDao --&gt; &lt;!--é…ç½®åä¸ºuserDaoçš„Beanï¼Œå…¶å®žçŽ°ç±»æ˜¯cn.zqiheng.dao.UserDao--&gt; &lt;bean id="userDao" class="cn.zqiheng.dao.UserDao"/&gt;&lt;/beans&gt; &emsp;&emsp;å®žé™…ä¸Šï¼Œé…ç½®æ–‡ä»¶ä¸­çš„&lt;beanâ€¦/&gt;å…ƒç´ é»˜è®¤ä»¥åå°„æ–¹å¼æ¥è°ƒç”¨è¯¥ç±»æ— å‚æ•°çš„æž„é€ å™¨ï¼Œä»¥å¦‚ä¸‹å…ƒç´ ä¸ºä¾‹ï¼š1&lt;bean id="userDao" class="cn.zqiheng.dao.UserDao"/&gt; &emsp;&emsp;Springæ¡†æž¶è§£æžè¯¥&lt;beanâ€¦/&gt;å…ƒç´ åŽå°†å¯ä»¥å¾—åˆ°ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­idStrçš„å€¼ä¸º userDaoï¼ˆè§£æž&lt;beanâ€¦/&gt;å…ƒç´ çš„idå±žæ€§å¾—åˆ°çš„å€¼ï¼‰ï¼ŒclassStrçš„å€¼ä¸º cn.zqiheng.dao.UserDao ï¼ˆè§£æž&lt;beanâ€¦/&gt;å…ƒç´ çš„classå±žæ€§å¾—åˆ°çš„å€¼ï¼‰ã€‚ &emsp;&emsp;ä¹Ÿå°±æ˜¯è¯´ï¼ŒSpringåº•å±‚ä¼šæ‰§è¡Œå¦‚ä»¥ä¸‹æ ¼å¼çš„ä»£ç ï¼š1234567String idStr = ...; //è§£æž&lt;bean.../&gt;å…ƒç´ çš„idå±žæ€§å¾—åˆ°è¯¥å­—ç¬¦ä¸²å€¼ä¸º"userDao"String classStr = ...; //è§£æž&lt;bean.../&gt;å…ƒç´ çš„classå±žæ€§å¾—åˆ°è¯¥å­—ç¬¦ä¸²å€¼ä¸º"cn.zqiheng.dao.UserDao"Class clazz = Class.forName(classStr);Object obj = clazz.newInstance();//containerä»£è¡¨Springå®¹å™¨container.put(idStr,obj); &emsp;&emsp;ä¸Šé¢ä»£ç å°±æ˜¯æœ€åŸºæœ¬çš„åå°„ä»£ç ï¼ŒSpringæ¡†æž¶é€šè¿‡åå°„æ ¹æ®classå±žæ€§æŒ‡å®šçš„ç±»ååˆ›å»ºäº†ä¸€ä¸ªJavaå¯¹è±¡ï¼Œå¹¶ä»¥idå±žæ€§çš„å€¼ä¸ºkeyï¼Œå°†è¯¥å¯¹è±¡æ”¾å…¥Springå®¹å™¨ï¼ˆMapï¼‰ä¸­â€”â€”è¿™ä¸ªJavaå¯¹è±¡å°±æˆä¸ºäº†Springå®¹å™¨ä¸­çš„Beanã€‚ &emsp;&emsp;ç»“è®ºï¼šåœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®Beanæ˜¯ï¼Œclasså±žæ€§çš„å€¼å¿…é¡»æ˜¯Beanå®žçŽ°ç±»çš„å®Œæ•´ç±»åï¼ˆåŒ…å+ç±»åï¼‰ï¼Œä¸èƒ½æ˜¯æŽ¥å£ï¼Œä¸èƒ½æ˜¯æŠ½è±¡ç±»ï¼ˆé™¤éžæœ‰ç‰¹æ®Šé…ç½®ï¼‰ï¼Œå¦åˆ™Springæ— æ³•ä½¿ç”¨åå°„åˆ›å»ºè¯¥ç±»çš„å®žä¾‹ã€‚ 2.2 IoCï¼ˆæŽ§åˆ¶åè½¬ï¼‰&emsp;&emsp;Springæœ€è®¤åŒçš„æŠ€æœ¯æ˜¯æŽ§åˆ¶åè½¬çš„ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰æ¨¡å¼ã€‚æŽ§åˆ¶åè½¬ï¼ˆIoCï¼‰æ˜¯ä¸€ä¸ªé€šç”¨çš„æ¦‚å¿µï¼Œå®ƒå¯ä»¥ç”¨è®¸å¤šä¸åŒçš„æ–¹å¼åŽ»è¡¨è¾¾ï¼Œä¾èµ–æ³¨å…¥ä»…ä»…æ˜¯æŽ§åˆ¶åè½¬çš„ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ã€‚ 2.2.1 åŸºäºŽxmlé…ç½®çš„ä½¿ç”¨æ–¹æ³•&emsp;&emsp;è¿™é‡Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªSpring_IoCDemoçš„æ™®é€šjavaé¡¹ç›®æ¥æ¼”ç¤ºã€‚ ï¼ˆ1ï¼‰æ–°å»ºMaven Javaé¡¹ç›® ï¼ˆ2ï¼‰å¯¼å…¥Springå¼€å‘ä¾èµ–æž¶åŒ… pom.xml1234567&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;4.0.0.RELEASE&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt; (2)è¿™é‡Œæˆ‘ä»¬å»ºç«‹ä¸¤ä¸ªç±»ï¼ˆAxeã€Personï¼‰ï¼Œå³äººç±»ä½¿ç”¨æ–§å­ç æŸ´ã€‚ Axe.java1234567package cn.zqiheng.ioctest;public class Axe &#123; public String chop()&#123; return "ä½¿ç”¨æ–§å¤´ç æŸ´"; &#125;&#125; Person.java123456789101112131415161718192021package cn.zqiheng.ioctest;public class Person &#123; //è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†Axeç±»çš„chop()æ–¹æ³•ã€‚å³æœ‰äº†å¯¹è±¡ä¾èµ–å…³ç³» //ä¼ ç»Ÿçš„æ–¹æ³•æ˜¯éœ€è¦ new ä¸€ä¸ªå¯¹è±¡å®žä¾‹ï¼Œæ‰èƒ½è°ƒç”¨è¯¥å¯¹è±¡çš„æ–¹æ³•ã€‚ //çŽ°åœ¨ä½¿ç”¨Springçš„æ–¹å¼å°±ä¸éœ€è¦æˆ‘ä»¬è¿™ä¹ˆåšäº†ï¼ŒæŽ¥ä¸‹æ¥å°±æ˜¯Springä¾èµ–æ³¨å…¥çš„ä¸€ä¸ªå®žä¾‹ private Axe axe; //ä½¿ç”¨å±žæ€§setteræ–¹æ³•æ³¨å…¥ä¾èµ– public void setAxe(Axe axe) &#123; this.axe = axe; &#125; public void useAxe()&#123; System.out.println("æˆ‘æ‰“ç®—åŽ»ç ç‚¹æŸ´ç«ï¼ï¼ï¼"); //è°ƒç”¨axeçš„chop()æ–¹æ³• //è¡¨æ˜ŽPersonå¯¹è±¡ä¾èµ–äºŽaxeå¯¹è±¡ System.out.println(axe.chop()); &#125;&#125; ï¼ˆ3ï¼‰åœ¨resourcesèµ„æºæ–‡ä»¶ä¸‹ï¼Œæ–°å»ºSpringæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå¹¶åœ¨é…ç½®æ–‡ä»¶ä¸­ç®¡ç†ä¸Šé¢æ–°å»ºçš„ä¸¤ä¸ªç±»ã€‚ application.xml123456789101112131415161718192021&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"&gt; &lt;!--å°†ç±»çº³å…¥Springå®¹å™¨ä¸­--&gt; &lt;bean id="axe" class="cn.zqiheng.ioctest.Axe"/&gt; &lt;bean id="person" class="cn.zqiheng.ioctest.Person"&gt; &lt;!-- propertyï¼šbeanæ ‡ç­¾çš„å­å…ƒç´ ã€‚ å±žæ€§ï¼š nameï¼šå†³å®šæ‰§è¡Œå“ªä¸ªsetteræ–¹æ³•ï¼Œ valueï¼šå¦‚æžœä¼ å…¥å‚æ•°æ˜¯åŸºæœ¬ç±»åž‹åŠå…¶åŒ…è£…ç±»ã€Stringç­‰ç±»åž‹ï¼Œåˆ™ä½¿ç”¨valueå±žæ€§æŒ‡å®šä¼ å…¥å‚æ•° refï¼šå¦‚æžœä»¥å®¹å™¨ä¸­å…¶å®ƒBeanä½œä¸ºä¼ å…¥å‚æ•°ï¼Œåˆ™ä½¿ç”¨refå±žæ€§æŒ‡å®šä¼ å…¥å‚æ•°ã€‚ --&gt; &lt;!--è¿™é‡Œçš„æ„æ€æ˜¯ï¼Œåœ¨Personç±»ä¸­ï¼Œæˆ‘ä»¬ä¾èµ–äº†Axeçš„å¯¹è±¡ï¼Œå› æ­¤éœ€è¦ä¾èµ–ä¸Šé¢æˆ‘ä»¬å®šä¹‰idä¸º"axe"çš„Bean--&gt; &lt;property name="axe" ref="axe"/&gt; &lt;/bean&gt;&lt;/beans&gt; ï¼ˆ4ï¼‰æµ‹è¯•ç±» IoCTest.java1234567891011121314151617181920212223242526package cn.zqiheng.test;import cn.zqiheng.ioctest.Person;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;import org.springframework.context.support.FileSystemXmlApplicationContext;public class IoCTest &#123; public static void main(String[] args) &#123; /** * é€šè¿‡Springæä¾›çš„æ–¹æ³•è¯»å–xmlæ–‡ä»¶ï¼ŒåŠ è½½Springæ ¸å¿ƒå®¹å™¨ * ClassPathXmlApplicationContextï¼šä»Žç±»åŠ è½½è·¯å¾„ä¸‹æœç´ é…ç½®æ–‡ä»¶ï¼Œå¹¶æ ¹æ®é…ç½®æ–‡ä»¶æ¥åˆ›å»ºSpringå®¹å™¨ï¼ˆåœ¨javaå¼€å‘ä¸­ï¼ŒæŽ¨èä½¿ç”¨æ­¤ç§æ–¹å¼ã€‚åœ¨Javawebå¼€å‘ä¸­é…ç½®åœ¨web.xmlä¸­å³å¯ï¼‰ * FileSystemXmlApplicationContextï¼šä»Žæ–‡ä»¶ç³»ç»Ÿçš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ä¸‹å–æœç´ é…ç½®æ–‡ä»¶ï¼Œå¹¶æ ¹æ®é…ç½®æ–‡ä»¶æ¥åˆ›å»ºSpringå®¹å™¨ */ ApplicationContext ctx = new ClassPathXmlApplicationContext("application.xml"); //ApplicationContext context = new FileSystemXmlApplicationContext("application.xml"); // èŽ·å–idä¸ºpersonçš„Bean //æ­¤å¤„getBeanè¿”å›žçš„æ˜¯ Object å¯¹è±¡ï¼Œå› æ­¤éœ€è¦å¼ºåˆ¶è½¬åž‹ Person person = (Person) ctx.getBean("person"); person.useAxe(); &#125;&#125; &emsp;&emsp;è¿è¡Œç»“æžœå¦‚ä¸‹ã€‚ &emsp;&emsp;é€šè¿‡ä¸Šé¢ç®€å•çš„ä¾‹å­ï¼Œå¯ä»¥çœ‹å‡ºä½¿ç”¨Springæ¡†æž¶ä¹‹åŽæœ€å¤§çš„æ”¹å˜ä¹‹ä¸€æ˜¯ï¼šç¨‹åºä¸å†ä½¿ç”¨newè°ƒç”¨æž„é€ å™¨åˆ›å»ºJavaå¯¹è±¡ï¼Œæ‰€æœ‰çš„javaå¯¹è±¡éƒ½ç”±Springå®¹å™¨è´Ÿè´£åˆ›å»ºã€‚ 2.2.1 åŸºäºŽæ³¨è§£çš„ä½¿ç”¨æ–¹æ³•&emsp;&emsp;ä¸Šé¢çš„æ–¹å¼ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯xmlé…ç½®æ–¹å¼æ¥å®žçŽ°Springçš„åŠŸèƒ½ï¼Œä¸‹é¢æ¥è®²è§£ä½¿ç”¨æ³¨è§£æ–¹å¼çš„ä½¿ç”¨ã€‚ ï¼ˆ1ï¼‰å› ä¸ºæ³¨è§£éœ€è¦ä½¿ç”¨AOPçš„æ–¹æ³•ï¼Œå› æ­¤éœ€è¦åœ¨pom.xmlåŠ å…¥ä¸‹é¢çš„ä¾èµ–æ–‡ä»¶ pom.xml12345678910111213141516&lt;!--AOPåˆ‡é¢ç¼–ç¨‹å¯¼å…¥ä¾èµ–--&gt;&lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt; &lt;version&gt;1.9.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.9.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;cglib&lt;/groupId&gt; &lt;artifactId&gt;cglib&lt;/artifactId&gt; &lt;version&gt;3.2.5&lt;/version&gt;&lt;/dependency&gt; ï¼ˆ2ï¼‰åœ¨xmlé…ç½®æ–‡ä»¶ä¸­å¼€å¯æ³¨è§£ applicaion.xml12345678910&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt; &lt;!--å¼€å¯æ³¨è§£ï¼Œæ‰«ææ³¨è§£ç±»æ‰€åœ¨çš„åŒ…cn.zqiheng.ioctest åŠå…¶ä¸‹é¢çš„æ‰€æœ‰å­åŒ…--&gt; &lt;context:component-scan base-package="cn.zqiheng.ioctest"/&gt;&lt;/beans&gt; ï¼ˆ3ï¼‰ä½¿ç”¨æ³¨è§£ Axe.java12345678910111213package cn.zqiheng.ioctest;import org.springframework.stereotype.Component;//@Component æ³¨è§£ï¼šæ ‡æ³¨ä¸€ä¸ªæ™®é€šçš„Spring Beanç±»ã€‚// å³åªè¦æœ‰è¿™ä¸ªæ³¨è§£çš„ç±»ï¼ŒSpirngéƒ½ä¼šæŠŠå®ƒçº³å…¥åˆ°å®¹å™¨ä¸­ç®¡ç†//æŒ‡å®š id çš„åç§°ä¸º axe1@Component("axe1")public class Axe &#123; public String chop()&#123; return "ä½¿ç”¨æ–§å¤´ç æŸ´"; &#125;&#125; Person.java12345678910111213141516171819202122232425262728293031package cn.zqiheng.ioctest;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Qualifier;import org.springframework.stereotype.Component;import javax.annotation.Resource;@Componentpublic class Person &#123; //@Autowired æ³¨è§£æ¥æŒ‡å®šè‡ªåŠ¨è£…é…ï¼Œ@Autowiredå¯ä»¥ä¿®é¥°setteræ–¹æ³•ã€æ™®é€šæ–¹æ³•ã€å®žä¾‹å˜é‡å’Œæž„é€ å™¨ç­‰ã€‚ //å½“ä½¿ç”¨ @Autowired æ ‡æ³¨æ–¹æ³•æ˜¯ï¼Œé»˜è®¤é‡‡ç”¨byTypeï¼ˆç±»åž‹ï¼‰è‡ªåŠ¨è£…é…ç­–ç•¥ï¼Œ //åœ¨è¿™ç§ç­–ç•¥ä¸‹ï¼Œå¦‚æžœç¬¦åˆè‡ªåŠ¨è£…é…ç±»åž‹çš„å€™é€‰Beanå®žä¾‹æœ‰å¤šä¸ªï¼Œè¿™ä¸ªæ—¶å€™å°±å¯èƒ½å¼•èµ·å¼‚å¸¸ï¼Œ // ä¸ºäº†å®žçŽ°ç²¾ç¡®çš„è‡ªåŠ¨è£…é…ï¼ŒSpringæä¾›äº†@Qualifieræ³¨è§£ï¼Œå…è®¸ä½¿ç”¨Beançš„idæ¥æ‰§è¡Œè‡ªåŠ¨è£…é… //æ³¨ï¼šæ­¤å¤„å¯ä»¥ä½¿ç”¨ @Resource(name = "axe1") ä»£æ›¿ä¸‹é¢ä¸¤ä¸ªæ³¨è§£ @Autowired @Qualifier("axe1") private Axe axe; //ä½¿ç”¨å±žæ€§setteræ–¹æ³•æ³¨å…¥ä¾èµ– public void setAxe(Axe axe) &#123; this.axe = axe; &#125; public void useAxe()&#123; System.out.println("æˆ‘æ‰“ç®—åŽ»ç ç‚¹æŸ´ç«ï¼ï¼ï¼"); //è°ƒç”¨axeçš„chop()æ–¹æ³• //è¡¨æ˜ŽPersonå¯¹è±¡ä¾èµ–äºŽaxeå¯¹è±¡ System.out.println(axe.chop()); &#125;&#125; &emsp;&emsp;æç¤ºï¼šä½¿ç”¨@Qualifieræ³¨è§£çš„æ„ä¹‰å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œå¦‚æžœç¨‹åºä½¿ç”¨@Autowiredå’Œ@Qualifierå®žçŽ°ç²¾ç¡®çš„è‡ªåŠ¨è£…é…ï¼Œè¿˜ä¸å¦‚ç›´æŽ¥ä½¿ç”¨@Resourceæ³¨è§£æ‰§è¡Œä¾èµ–æ³¨å…¥ã€‚ ï¼ˆ4ï¼‰å•å…ƒæµ‹è¯•&emsp;&emsp;ç»“æžœå°±ä¸çœ‹äº†ï¼Œå°±æ˜¯æ ¹æ®ä¸Šé¢xmlæ–‡ä»¶é…ç½®æ”¹è¿‡æ¥çš„ï¼Œä¸¤ä¸ªå¯ä»¥å¯¹æ¯”ä¸‹ï¼Œç»“æžœè‚¯å®šæ˜¯ä¸€æ ·çš„ã€‚åªæ˜¯æ³¨è§£ç®€åŒ–çš„å¼€å‘è¿‡ç¨‹ï¼Œä»£ç æ¸…æ™°æ˜Žäº†ï¼Œä¸éœ€è¦åœ¨xmlæ–‡ä»¶ä¸­å†™å…¥å¤§é‡é…ç½®Beançš„å…ƒç´ ã€‚ Springå¼€å‘ä¸­å¸¸ç”¨æ³¨è§£ï¼š @Componentï¼šæ ‡æ³¨ä¸€ä¸ªæ™®é€šçš„Spring Beanç»„ä»¶ç±»ã€‚ @Controllerï¼šæ ‡æ³¨ä¸€ä¸ªæŽ§åˆ¶å™¨ç»„ä»¶ç±»ã€‚ @Serviceï¼šæ ‡æ³¨ä¸€ä¸ªä¸šåŠ¡é€»è¾‘ç»„ä»¶ç±»ã€‚ @Repositoryï¼šæ ‡æ³¨ä¸€ä¸ªDAOç»„ä»¶ç±»ã€‚ &emsp;&emsp;ä¸Šé¢å››ä¸ªæ³¨è§£æœ¬è´¨åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯æ ‡æ³¨ä¸€ä¸ªSpring Beanï¼Œä½†æ˜¯ä¸ºäº†å„å¸å…¶èŒï¼Œè¿˜æ˜¯ä½¿ç”¨ä¸åŒçš„æ³¨è§£è¡¨æ˜Žä¸åŒå±‚çš„åŠŸèƒ½æ›´å¥½ã€‚åœ¨Springæœªæ¥çš„ç‰ˆæœ¬ä¸­ï¼Œ@Controllerã€@Serviå’Œ@Reposiä¹Ÿè®¸è¿˜èƒ½æºå¸¦æ›´å¤šè¯­ä¹‰ï¼Œå› æ­¤ï¼Œå¦‚æžœéœ€è¦åœ¨JavaEEåº”ç”¨ä¸­ä½¿ç”¨è¿™äº›æ ‡æ³¨æ—¶ï¼Œåº”å°½é‡è€ƒè™‘ä½¿ç”¨è¿™äº›æ³¨è§£æ¥ä»£æ›¿é€šç”¨çš„@Componæ ‡æ³¨ã€‚ @Scopeï¼šæŒ‡å®šBeanå®žä¾‹çš„ä½œç”¨åŸŸã€‚ @Resourceï¼šæ ¹æ®idæ³¨å…¥é…ç½®ä¾èµ–ã€‚ï¼ˆä½äºŽjavax.annotaionåŒ…ä¸‹ï¼‰ @Autowiredï¼šæ ¹æ®ç±»åž‹è‡ªåŠ¨è£…é…ã€‚ @Qualifierï¼šé…åˆ@Autowiredæ³¨è§£ä½¿ç”¨ã€‚ï¼ˆæŒ‡å®šBeançš„idï¼‰ @Valueï¼šæ³¨å…¥åŸºæœ¬æ•°æ®å€¼ã€‚å¯å‚è€ƒ @Valueç”¨æ³• @PostConstructï¼šç”¨äºŽä¿®é¥°Beanä¸­çš„æ–¹æ³•ï¼Œä¿®é¥°çš„æ–¹æ³•æ˜¯Beançš„åˆå§‹åŒ–æ–¹æ³•ã€‚ @PreDestroyï¼šç”¨äºŽä¿®é¥°Beanä¸­çš„æ–¹æ³•ï¼Œä¿®é¥°çš„æ–¹æ³•æ˜¯Beané”€æ¯ä¹‹å‰çš„æ–¹æ³•ã€‚ @DependsOnï¼šç”¨äºŽå¼ºåˆ¶åˆå§‹åŒ–å…¶å®ƒBeanã€‚ @Lazyï¼šç”¨äºŽä¿®é¥°ä¸€ä¸ªæ–¹æ³•ï¼ŒæŒ‡å®šè¯¥æ–¹æ³•å¯¹åº”çš„Beanæ˜¯å¦éœ€è¦å»¶è¿Ÿåˆå§‹åŒ–ã€‚ 2.2.3 Springæ³¨å…¥æ–¹å¼ æž„é€ æ³¨å…¥ï¼šé€šè¿‡&lt;constructor-argâ€¦/&gt;å…ƒç´ é©±åŠ¨Springæ‰§è¡Œå¸¦å‚æ•°çš„æž„é€ å™¨ã€‚ è®¾å€¼æ³¨å…¥ï¼šé€šè¿‡&lt;propertyâ€¦/&gt;å…ƒç´ é©±åŠ¨Springæ‰§è¡Œsetteræ–¹æ³•ã€‚ på‘½åç©ºé—´æ³¨å…¥ï¼šç®€åŒ–è®¾å€¼æ³¨å…¥ã€‚ï¼ˆç”¨çš„è¾ƒå°‘ï¼‰ cå‘½åç©ºé—´æ³¨å…¥ï¼šç®€åŒ–æž„é€ æ³¨å…¥ã€‚ï¼ˆç”¨çš„è¾ƒå°‘ï¼‰å¯ä»¥å‚è€ƒï¼šc/på‘½åç©ºé—´æ³¨å…¥ utilå‘½åç©ºé—´æ³¨å…¥ï¼šä½¿ç”¨è¾ƒå°‘ï¼ŒåŽé¢å†™ä¸€ç¯‡æ–‡ä»¶åœ¨æ¥ä»‹ç»ã€‚ &emsp;&emsp;åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸Šé¢å‡ ç§æ³¨å…¥æ–¹å¼åœ¨ç©¿æ’ä½¿ç”¨ã€‚å‡ ç§æ–¹å¼ä¾èµ–æ³¨å…¥å¹¶æ²¡æœ‰ç»å¯¹çš„å¥½åï¼Œåªæ˜¯é€‚åº”çš„åœºæ™¯æœ‰æ‰€ä¸åŒã€‚ æ³¨ï¼šSpringçš„IoCä¸­è¿˜æ˜¯æœ‰å¾ˆå¤šå†…å®¹ï¼Œè¿™é‡Œå°±ä¸å†ä¸€ä¸€è®°å½•ã€‚ å¯å‚è€ƒï¼šw3cschool &emsp;&emsp;æ€»ç»“ï¼šæ³¨è§£æ–¹å¼å¹¶ä¸æ˜¯ä¸ºäº†å–ä»£xmlæ–‡ä»¶é…ç½®æ–¹å¼ï¼Œåªæ˜¯ä¸ºäº†ç®€åŒ–xmlé…ç½®æ–‡ä»¶ï¼Œä¸è‡³äºŽxmlå¤ªè¿‡è‡ƒè‚¿ï¼Œè¿™ä¸¤ç§æ–¹å¼åº”è¯¥ç»“åˆä½¿ç”¨ï¼Œç›¸è¾…ç›¸æˆã€‚ 2.3 AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰&emsp;&emsp;AOPï¼ˆAspect Orient Programmingï¼‰ï¼Œä¹Ÿå°±æ˜¯é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œä½œä¸ºé¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ç§è¡¥å……ï¼Œå·²ç»æˆä¸ºäº†ä¸€ç§æ¯”è¾ƒæˆç†Ÿçš„ç¼–ç¨‹æ–¹å¼ã€‚AOPå’ŒOOPäº’ä¸ºè¡¥å……ï¼Œé¢å‘å¯¹è±¡ç¼–ç¨‹å°†ç¨‹åºåˆ†è§£æˆå„ä¸ªå±‚æ¬¡çš„å¯¹è±¡ï¼Œè€Œé¢å‘åˆ‡é¢ç¼–ç¨‹å°†ç¨‹åºè¿è¡Œè¿‡ç¨‹åˆ†è§£æˆå„ä¸ªåˆ‡é¢ã€‚ &emsp;&emsp;AOPä¸“é—¨ç”¨äºŽå¤„ç†ç³»ç»Ÿä¸­åˆ†å¸ƒäºŽå„ä¸ªæ¨¡å—ï¼ˆä¸åŒæ–¹æ³•ï¼‰ä¸­çš„äº¤å‰å…³æ³¨ç‚¹çš„é—®é¢˜ï¼Œåœ¨Java EEåº”ç”¨ä¸­ï¼Œå¸¸å¸¸é€šè¿‡AOPæ¥å¤„ç†ä¸€äº›å…·æœ‰æ¨ªåˆ‡æ€§è´¨çš„ç³»ç»Ÿçº§æœåŠ¡ï¼Œå¦‚äº‹åŠ¡ç®¡ç†ã€å®‰å…¨æ£€æŸ¥ã€ç¼“å­˜ã€å¯¹è±¡æ± ç®¡ç†ç­‰ï¼ŒAOPå·²ç»æˆä¸ºä¸€ç§éžå¸¸å¸¸ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚ 2.3.1 AspectJæŠ€æœ¯ç®€ä»‹&emsp;&emsp;AspectJæ˜¯ä¸€ä¸ªåŸºäºŽJavaè¯­è¨€çš„AOPæ¡†æž¶ï¼Œæä¾›äº†å¼ºå¤§çš„AOPåŠŸèƒ½ã€‚AspectJæ˜¯æœ€æ—©çš„ã€åŠŸèƒ½æ¯”è¾ƒå¼ºå¤§çš„AOPå®žçŽ°ä¹‹ä¸€ï¼Œå¯¹æ•´å¥—AOPæœºåˆ¶éƒ½æœ‰è¾ƒå¥½çš„å®žçŽ°ï¼Œå¾ˆå¤šå…¶å®ƒè¯­è¨€çš„AOPå®žçŽ°ï¼Œä¹Ÿå€Ÿé‰´æˆ–é‡‡ç”¨äº†AspectJä¸­çš„å¾ˆå¤šè®¾è®¡ã€‚åœ¨Javaé¢†åŸŸä¸­ï¼ŒAspectJä¸­çš„å¾ˆå¤šè¯­æ³•ç»“æž„åŸºæœ¬ä¸Šå·²æˆä¸ºAOPé¢†åŸŸçš„æ ‡å‡†ã€‚ &emsp;&emsp;ä»ŽSpring2.0å¼€å§‹ï¼ŒSpring AOPå·²ç»å¼•å…¥äº†AspectJçš„æ”¯æŒï¼Œå¹¶å…è®¸ç›´æŽ¥ä½¿ç”¨AspectJè¿›è¡ŒAOPç¼–ç¨‹ï¼Œè€ŒSpringè‡ªèº«çš„AOP APIä¹ŸåŠªåŠ›ä¸ŽAspectJä¿æŒä¸€è‡´ã€‚å³ä½¿ä¸ç”¨Springæ¡†æž¶ï¼Œä¹Ÿå¯ä»¥ç›´æŽ¥ä½¿ç”¨AspectJè¿›è¡ŒAOPç¼–ç¨‹ã€‚ &emsp;&emsp;AOPçš„åŸºæœ¬æ¦‚å¿µã€‚ &emsp;&emsp;AOPä»Žç¨‹åºè¿›è¡Œè§’åº¦è€ƒè™‘ç¨‹åºçš„æµç¨‹ï¼Œæå–ä¸šåŠ¡å¤„ç†è¿‡ç¨‹çš„åˆ‡é¢ã€‚AOPé¢å‘çš„æ˜¯ç¨‹åºè¿è¡Œä¸­å„ä¸ªæ­¥éª¤ï¼Œå¸Œæœ›ä»¥æ›´å¥½çš„æ–¹å¼æ¥ç»„åˆä¸šåŠ¡å¤„ç†çš„å„ä¸ªæ­¥éª¤ã€‚AOPæ¡†æž¶å¹¶ä¸ä¸Žç‰¹å®šçš„ä»£ç è€¦åˆï¼ŒAOPæ¡†æž¶èƒ½å¤„ç†ç¨‹åºæ‰§è¡Œä¸­ç‰¹å®šçš„åˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰ï¼Œè€Œä¸ä¸ŽæŸä¸ªå…·ä½“ç±»è€¦åˆã€‚AOPæ¡†æž¶å…·æœ‰å¦‚ä¸‹ä¸¤ä¸ªç‰¹å¾ã€‚ å„æ­¥éª¤ä¹‹é—´çš„è‰¯å¥½éš”ç¦»æ€§ã€‚ æºä»£ç æ— å…³æ€§ã€‚ &emsp;&emsp;AOPçš„åŸºæœ¬æœ¯è¯­ã€‚ åˆ‡é¢ï¼ˆAspecï¼‰ï¼šåˆ‡é¢ç”¨äºŽç»„ç»‡å¤šä¸ªAdviceï¼ŒAdviceæ”¾åœ¨åˆ‡é¢ä¸­å®šä¹‰ã€‚ è¿žæŽ¥ç‚¹ï¼ˆJoinpointï¼‰ï¼šç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­æ˜Žç¡®çš„ç‚¹ï¼Œå¦‚æ–¹æ³•çš„è°ƒç”¨ï¼Œæˆ–è€…å¼‚å¸¸çš„æŠ›å‡ºã€‚åœ¨Spring AOPä¸­ï¼Œè¿žæŽ¥ç‚¹æ€»æ˜¯æ–¹æ³•çš„è°ƒç”¨ã€‚ å¢žå¼ºå¤„ç†ï¼ˆAdviceï¼‰ï¼šAOPæ¡†æž¶åœ¨ç‰¹å®šçš„åˆ‡å…¥ç‚¹æ‰§è¡Œçš„å¢žå¼ºå¤„ç†ã€‚å¤„ç†æœ‰â€œaroundâ€ã€â€œbeforeâ€å’Œâ€afterâ€œç­‰ç±»åž‹ã€‚ åˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰ï¼šå¯ä»¥æ’å…¥å¢žå¼ºå¤„ç†çš„è¿žæŽ¥ç‚¹ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå½“æŸä¸ªè¿žæŽ¥ç‚¹æ»¡è¶³æŒ‡å®šè¦æ±‚æ—¶ï¼Œè¯¥è¿žæŽ¥ç‚¹å°†è¢«æ·»åŠ å¢žå¼ºå¤„ç†ï¼Œè¯¥è¿žæŽ¥ç‚¹ä¹Ÿå°±å˜æˆäº†åˆ‡å…¥ç‚¹ã€‚ å¼•å…¥ï¼šå°†æ–¹æ³•æˆ–å­—æ®µæ·»åŠ åˆ°è¢«å¤„ç†çš„ç±»ä¸­ã€‚Springå…è®¸å°†æ–°çš„æŽ¥å£å¼•å…¥åˆ°ä»»ä½•è¢«å¤„ç†çš„å¯¹è±¡ä¸­ã€‚ ç›®æ ‡å¯¹è±¡ï¼šè¢«AOPæ¡†æž¶è¿›è¡Œå¢žå¼ºå¤„ç†çš„å¯¹è±¡ï¼Œä¹Ÿè¢«æˆä¸ºè¢«å¢žå¼ºçš„å¯¹è±¡ã€‚ AOPä»£ç†ï¼šAOPæ¡†æž¶åˆ›å»ºçš„å¯¹è±¡ï¼Œç®€å•åœ°è¯´ï¼Œä»£ç†å°±æ˜¯å¯¹ç›®æ ‡å¯¹è±¡åœ°åŠ å¼ºã€‚Springä¸­çš„AOPä»£ç†å¯ä»¥æ˜¯JDKåŠ¨æ€ä»£ç†ï¼Œä¹Ÿå¯ä»¥æ˜¯cglibä»£ç†ã€‚å‰è€…ä¸ºå®žçŽ°æŽ¥å£çš„ç›®æ ‡å¯¹è±¡çš„ä»£ç†ï¼ŒåŽè€…ä¸ºä¸å®žçŽ°æŽ¥å£çš„ç›®æ ‡å¯¹è±¡çš„ä»£ç†ã€‚ ç»‡å…¥ï¼ˆWeavingï¼‰ï¼šå°†å¢žå¼ºå¤„ç†æ·»åŠ åˆ°ç›®æ ‡å¯¹è±¡ä¸­ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªè¢«å¢žå¼ºçš„å¯¹è±¡ï¼ˆAOPä»£ç†ï¼‰çš„è¿‡ç¨‹å°±æ˜¯ç»‡å…¥ã€‚ç»‡å…¥æœ‰ä¸¤ç§å®žçŽ°æ–¹å¼â€”â€”ç¼–è¯‘æ—¶å¢žå¼ºï¼ˆå¦‚AspectJï¼‰å’Œè¿è¡Œæ—¶å¢žå¼ºï¼ˆå¦‚Spring AOPï¼‰ã€‚ &emsp;&emsp;ç”±å‰é¢çš„ä»‹ç»çŸ¥é“ï¼ŒAOPä»£ç†å°±æ˜¯ç”±AOPæ¡†æž¶ç”Ÿæˆçš„ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¯ä½œä¸ºç›®æ ‡å¯¹è±¡ä½¿ç”¨ã€‚AOPä»£ç†åŒ…å«äº†ç›®æ ‡å¯¹è±¡çš„å…¨éƒ¨æ–¹æ³•ï¼Œä½†AOPä»£ç†ä¸­çš„æ–¹æ³•ä¸Žç›®æ ‡å¯¹è±¡çš„æ–¹æ³•å­˜åœ¨å·®å¼‚â€”â€”AOPæ–¹æ³•åœ¨ç‰¹å®šåˆ‡å…¥ç‚¹æ·»åŠ äº†å¢žå¼ºå¤„ç†ï¼Œå¹¶å›žè°ƒäº†ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•ã€‚ 2.3.2 Springçš„AOPæ”¯æŒ&emsp;&emsp;Springä¸­çš„AOPä»£ç†ç”±Springçš„IoCå®¹å™¨è´Ÿè´£ç”Ÿæˆã€ç®¡ç†ï¼Œå…¶ä¾èµ–å…³ç³»ä¹Ÿæœ‰IoCå®¹å™¨è´Ÿè´£ç®¡ç†ã€‚å› æ­¤ï¼ŒAOPä»£ç†å¯ä»¥ç›´æŽ¥ä½¿ç”¨å®¹å™¨ä¸­çš„å…¶å®ƒBeanå®žä¾‹ä½œä¸ºç›®æ ‡ï¼Œè¿™ç§å…³ç³»å¯æœ‰IoCå®¹å™¨çš„ä¾èµ–æ³¨å…¥æä¾›ã€‚Springé»˜è®¤ä½¿ç”¨JavaåŠ¨æ€ä»£ç†æ¥åˆ›å»ºAOPæ¡†æž¶ï¼Œè¿™æ ·å°±å¯ä»¥ä¸ºä»»ä½•æŽ¥å£å®žä¾‹åˆ›å»ºä»£ç†äº†ã€‚Springä¹Ÿå¯ä»¥ä½¿ç”¨cglibä»£ç†ï¼Œåœ¨éœ€è¦ä»£ç†ç±»è€Œä¸æ˜¯ä»£ç†æŽ¥å£çš„æ—¶å€™ï¼ŒSpringä¼šè‡ªåŠ¨åˆ‡æ¢ä¸ºä½¿ç”¨cglibä»£ç†ã€‚ &emsp;&emsp;Springç›®å‰ä»…æ”¯æŒå°†æ–¹æ³•è°ƒç”¨ä½œä¸ºè¿žæŽ¥ç‚¹ï¼ˆJoinpointï¼‰ï¼Œå¦‚æžœéœ€è¦æŠŠå¯¹æˆå‘˜å˜é‡çš„è®¿é—®å’Œæ›´æ–°ä¹Ÿä½œä¸ºå¢žå¼ºå¤„ç†çš„è¿žæŽ¥ç‚¹ï¼Œåˆ™å¯ä»¥è€ƒè™‘ä½¿ç”¨AspectJã€‚ &emsp;&emsp;Spring AOPå¼€å‘ç¼–ç¨‹ä¸­ï¼Œéœ€è¦ç¨‹åºå‘˜å‚ä¸Žçš„åªæœ‰ä¸‰ä¸ªéƒ¨åˆ†ã€‚ å®šä¹‰æ™®é€šä¸šåŠ¡ç»„ä»¶ã€‚ å®šä¹‰åˆ‡å…¥ç‚¹ï¼Œä¸€ä¸ªåˆ‡å…¥ç‚¹å¯èƒ½æ¨ªåˆ‡å¤šä¸ªä¸šåŠ¡ç»„ä»¶ã€‚ å®šä¹‰å¢žå¼ºå¤„ç†ï¼Œå¢žå¼ºå¤„ç†å°±æ˜¯åœ¨AOPæ¡†æž¶ä¸ºæ™®é€šä¸šåŠ¡ç»„ä»¶ç»‡å…¥çš„å¤„ç†åŠ¨ä½œã€‚ &emsp;&emsp;å…¶ä¸­ç¬¬ä¸€éƒ¨åˆ†æ˜¯æœ€å¹³å¸¸ä¸è¿‡çš„äº‹æƒ…ã€‚é‚£ä¹ˆè¿›è¡ŒAOPç¼–ç¨‹çš„å…³é”®å°±æ˜¯å®šä¹‰åˆ‡å…¥ç‚¹å’Œå®šä¹‰å¢žå¼ºå¤„ç†ã€‚ä¸€æ—¦å®šä¹‰äº†åˆé€‚çš„åˆ‡å…¥ç‚¹å’Œå¢žå¼ºå¤„ç†ï¼ŒAOPæ¡†æž¶å°†ä¼šè‡ªåŠ¨ç”ŸæˆAOPä»£ç†ï¼Œè€ŒAOPä»£ç†çš„æ–¹æ³•å¤§è‡´æœ‰å¦‚ä¸‹å…¬å¼ï¼š AOPä»£ç†çš„æ–¹æ³• = å¢žå¼ºæ–¹æ³• + ç›®æ ‡å¯¹è±¡çš„æ–¹æ³• 2.3.3 åŸºäºŽxmlé…ç½®çš„AOPç¼–ç¨‹2.3.4 åŸºäºŽæ³¨è§£çš„AOPç¼–ç¨‹3. Springæ–°å¢žçš„ç¼“å­˜æœºåˆ¶4. Springçš„äº‹åŠ¡]]></content>
      <categories>
        <category>Java</category>
        <category>Java EE</category>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Java EE</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨IDEAä¸Šæ­å»ºSpring+SpringMVC+Hibernateé¡¹ç›®]]></title>
    <url>%2F2018%2F06%2F19%2F%E5%9C%A8IDEA%E4%B8%8A%E6%90%AD%E5%BB%BASpring%2BSpringMVC%2BHibernate%E9%A1%B9%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[è¯´æ˜Žï¼šæœ¬ç« ä¸»è¦ä»‹ç»å¦‚ä½•åœ¨ideaä¸Šæ­å»ºä¸€ä¸ªç®€å•çš„åŸºäºŽMavençš„Spring+SpringMVC+hibernateé¡¹ç›®ã€‚å¹¶æ²¡æœ‰ç»†åˆ†å„ä¸ªä¸šåŠ¡é€»è¾‘å±‚æ¬¡åˆ’åˆ†ã€‚ å‚è€ƒåšæ–‡ å¤§å®¶å¦‚æžœæƒ³æ·±å…¥å‰–æžé¡¹ç›®æ­å»ºæ­¥éª¤å¯å‚è€ƒä¸Šé¢åšå®¢ã€‚ é‡ç‚¹ï¼šå‡†å¤‡å·¥ä½œ å®‰è£…å¥½jdk1.8ä»¥ä¸Šç‰ˆæœ¬ã€é…å¥½çŽ¯å¢ƒå˜é‡ å®‰è£…å¥½Tomcatï¼ˆæˆ‘æ˜¯Tomcat9ï¼‰ å®‰è£…å¥½maven ï¼ˆä¹Ÿå¯é€‰æ‹©IDEAè‡ªå¸¦çš„ï¼‰ å®‰è£…å¥½IDEAï¼ˆä¸Šç¯‡åšå®¢å·²ç»ä»‹ç»äº†å®Œæ•´ç‰ˆçš„ideaå®‰è£…å’Œç ´è§£ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒã€‚ï¼‰ ä¸€.åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®1. ç‚¹å‡»å·¦ä¸Šè§’ File -&gt; new project -&gt; maven -&gt;webappã€‚ 2. å¡«é¡¹ç›®åç§° 3. é€‰æ‹©mavenç‰ˆæœ¬ 4. è¿›å…¥é¡µé¢åŽåœ¨å³ä¸‹è§’ä¼šå¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œé€‰æ‹©å¯¼å…¥ä¾èµ–åŒ…ï¼ˆæ²¡æœ‰åˆ™ä¸ç®¡ï¼‰ 5. è¿™æ˜¯é»˜è®¤å»ºå¥½çš„ç›®å½• äºŒ. é¡¹ç›®å»ºå¥½è¿‡åŽï¼Œæˆ‘ä»¬å°±è¦è¿›è¡Œé…ç½®äº†1.ä½¿ç”¨pom.xmlå¯¼å…¥ä¾èµ–åŒ…ï¼Œå…ˆè€ƒè™‘ä½ è¦åšä»€ä¹ˆé¡¹ç›®ï¼Œéœ€è¦ä»€ä¹ˆåŒ…ï¼Œè¿™ä¸ªè‡ªå·±å¥½å¥½æƒ³ä¸€ä¸‹ï¼Œå…¶å®žåŸºæœ¬çš„åŒ…éƒ½ç±»ä¼¼ï¼Œä¸»è¦çš„æ˜¯ç‰ˆæœ¬ä¸åŒå› ä¸ºæˆ‘ä»¬æ˜¯ç”¨Mavenæ­å»ºé¡¹ç›®çš„ï¼Œåªéœ€è¦åœ¨æ ¹ç›®å½•ä¸‹çš„pom.xmlæ–‡ä»¶ä¸­åŠ å…¥éœ€è¦çš„ä¾èµ–åŒ…ç‰ˆæœ¬ä¿¡æ¯ï¼Œå°±å¯ä»¥è‡ªåŠ¨ä¸‹è½½å¯¼å…¥æ‰€æœ‰æˆ‘ä»¬éœ€è¦çš„åŒ…ï¼ˆè¿™ä¸ªè¿˜æ˜¯å¾ˆè´´å¿ƒçš„ï¼‰ï¼š pom.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239&lt;!--ç‰ˆæœ¬å·--&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt; &lt;spring.version&gt;4.3.1.RELEASE&lt;/spring.version&gt; &lt;/properties&gt; &lt;!-- ä¾èµ–ä»Žè¿™å¼€å§‹ --&gt; &lt;dependencies&gt; &lt;!--æ—¥å¿—åŒ…--&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.11&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;version&gt;1.7.21&lt;/version&gt; &lt;/dependency&gt; &lt;!--j2eeç›¸å…³åŒ… servletã€jspã€jstl--&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;3.1.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt; &lt;artifactId&gt;jsp-api&lt;/artifactId&gt; &lt;version&gt;2.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt; &lt;/dependency&gt; &lt;!--mysqlé©±åŠ¨åŒ…--&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.35&lt;/version&gt; &lt;/dependency&gt; &lt;!-- æ·»åŠ Hibernateä¾èµ– --&gt; &lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt; &lt;version&gt;3.6.0.Final&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/javassist/javassist --&gt; &lt;dependency&gt; &lt;groupId&gt;javassist&lt;/groupId&gt; &lt;artifactId&gt;javassist&lt;/artifactId&gt; &lt;version&gt;3.12.1.GA&lt;/version&gt; &lt;/dependency&gt; &lt;!--springç›¸å…³åŒ…--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-aop&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--å…¶ä»–éœ€è¦çš„åŒ…--&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;version&gt;3.4&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- &lt;dependency&gt; &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt; &lt;artifactId&gt;gson&lt;/artifactId&gt; &lt;version&gt;2.8.0&lt;/version&gt; &lt;/dependency&gt; --&gt; &lt;!--jackson--&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; &lt;version&gt;2.7.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.7.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt; &lt;version&gt;2.7.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- å¯¼å…¥dbcpçš„jaråŒ…ï¼Œç”¨æ¥åœ¨applicationContext.xmlä¸­é…ç½®æ•°æ®åº“ --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-dbcp&lt;/groupId&gt; &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt; &lt;version&gt;1.2.2&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;finalName&gt;ssm&lt;/finalName&gt; &lt;resources&gt; &lt;!--è¡¨ç¤ºæŠŠjavaç›®å½•ä¸‹çš„æœ‰å…³xmlæ–‡ä»¶,propertiesæ–‡ä»¶ç¼–è¯‘/æ‰“åŒ…çš„æ—¶å€™æ”¾åœ¨resourceç›®å½•ä¸‹--&gt; &lt;resource&gt; &lt;directory&gt;$&#123;basedir&#125;/src/main/java&lt;/directory&gt; &lt;includes&gt; &lt;include&gt;**/*.properties&lt;/include&gt; &lt;include&gt;**/*.xml&lt;/include&gt; &lt;/includes&gt; &lt;/resource&gt; &lt;resource&gt; &lt;directory&gt;$&#123;basedir&#125;/src/main/resources&lt;/directory&gt; &lt;/resource&gt; &lt;/resources&gt; &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt; &lt;version&gt;3.0.0&lt;/version&gt; &lt;/plugin&gt; &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt; &lt;version&gt;3.0.2&lt;/version&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;3.7.0&lt;/version&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt; &lt;version&gt;2.20.1&lt;/version&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt; &lt;version&gt;3.2.0&lt;/version&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt; &lt;version&gt;2.5.2&lt;/version&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt; &lt;version&gt;2.8.2&lt;/version&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/pluginManagement&gt; &lt;/build&gt; 2. mavenæ˜¯è‡ªåŠ¨å¯¼åŒ…ï¼Œå¯¼å®Œè¿‡åŽæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬éœ€è¦çš„ä¾èµ–åŒ…å·²ç»å…¨éƒ¨å¯¼å…¥äº† ä¸‰. SpringMVCé…ç½®1. å…ˆå»ºå¥½éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»ºç«‹çš„å¿…é¡»æ–‡ä»¶å¤¹ï¼Œåœ¨ç•Œé¢å³ä¸Šè§’ç‚¹å‡» Project Structure -&gt; Modules å»ºç«‹æ‰€ç¼ºå°‘çš„javaã€resourcesæ–‡ä»¶å¤¹ï¼Œå¹¶æ ‡è®°å±žæ€§ã€‚ å»ºå¥½åŽçš„ç›®å½•ï¼š 2. é…ç½®web.xmlå¦‚æžœç”Ÿæˆçš„web.xmlç‰ˆæœ¬ä¸æ˜¯3.0çš„ï¼Œéœ€è¦æ‰‹åŠ¨æ”¹ä¸º3.0åŒæ—¶éœ€è¦åœ¨resourcesä¸‹åˆ›å»ºspring/spring-mvc.xmlæ–‡ä»¶ï¼Œå› ä¸ºåœ¨web.xmlé…ç½®ä¸­æˆ‘ä»¬éœ€è¦å¼•ç”¨ï¼Œå…ˆå»ºç«‹æ–‡ä»¶å¤¹ï¼ŒåŽé¢å†é…ç½® web.xml ä»£ç å¦‚ä¸‹ï¼š web.xml1234567891011121314151617181920212223242526272829303132&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;web-app xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd" version="3.0"&gt; &lt;!--welcome pages--&gt; &lt;welcome-file-list&gt; &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt; &lt;/welcome-file-list&gt; &lt;!--é…ç½®springmvc DispatcherServlet--&gt; &lt;servlet&gt; &lt;servlet-name&gt;springMVC&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;!--resourcesæ ‡æ³¨çš„æ–‡ä»¶å¤¹ä¸‹éœ€è¦æ–°å»ºä¸€ä¸ªspringæ–‡ä»¶å¤¹--&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring/spring-mvc.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;async-supported&gt;true&lt;/async-supported&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;springMVC&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; 3. é…ç½®spring-mvc.xmlçŽ°åœ¨æˆ‘ä»¬åˆ›å»ºçš„javaç›®å½•ä¸‹åˆ›å»ºçš„åŸºç¡€åŒ…com.test.controlleråŒ…ï¼Œåœ¨spring-mvc.xmlä¸­éœ€è¦æŒ‡æ˜Žè¿™ä¸ªåŒ…ï¼Œç„¶åŽåœ¨è¿™ä¸ªåŒ…ä¸‹åˆ›å»ºçš„Controllerç±»ä½¿ç”¨çš„@Controlleræ³¨è§£æ‰ä¼šç”Ÿæ•ˆã€‚ spring-mvc.xml ä»£ç å¦‚ä¸‹ï¼š spring-mvc.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:mvc="http://www.springframework.org/schema/mvc" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd"&gt; &lt;!--å¯ç”¨springçš„ä¸€äº›annotation --&gt; &lt;context:annotation-config/&gt; &lt;!-- è‡ªåŠ¨æ‰«æcom.test.controlleråŒ…ï¼Œä½¿SpringMVCè®¤ä¸ºåŒ…ä¸‹ç”¨äº†@controlleræ³¨è§£çš„ç±»æ˜¯æŽ§åˆ¶å™¨ --&gt; &lt;context:component-scan base-package="com.test.controller"&gt; &lt;context:include-filter type="annotation" expression="org.springframework.stereotype.Controller"/&gt; &lt;/context:component-scan&gt; &lt;!-- é…ç½®æ³¨è§£é©±åŠ¨ å¯ä»¥å°†requestå‚æ•°ä¸Žç»‘å®šåˆ°controllerå‚æ•°ä¸Š --&gt; &lt;mvc:annotation-driven/&gt; &lt;!-- å¯¹æ¨¡åž‹è§†å›¾åç§°çš„è§£æžï¼Œå³åœ¨æ¨¡åž‹è§†å›¾åç§°æ·»åŠ å‰åŽç¼€(å¦‚æžœæœ€åŽä¸€ä¸ªè¿˜æ˜¯è¡¨ç¤ºæ–‡ä»¶å¤¹,åˆ™æœ€åŽçš„æ–œæ ä¸è¦æ¼äº†) ä½¿ç”¨JSP--&gt; &lt;!-- é»˜è®¤çš„è§†å›¾è§£æžå™¨ åœ¨ä¸Šè¾¹çš„è§£æžé”™è¯¯æ—¶ä½¿ç”¨ (é»˜è®¤ä½¿ç”¨html)- --&gt; &lt;bean id="defaultViewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt; &lt;property name="viewClass" value="org.springframework.web.servlet.view.JstlView"/&gt; &lt;property name="prefix" value="/WEB-INF/views/"/&gt;&lt;!--è®¾ç½®JSPæ–‡ä»¶çš„ç›®å½•ä½ç½®--&gt; &lt;property name="suffix" value=".jsp"/&gt; &lt;/bean&gt; &lt;!-- springmvcæ–‡ä»¶ä¸Šä¼ éœ€è¦é…ç½®çš„èŠ‚ç‚¹--&gt; &lt;bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"&gt; &lt;property name="maxUploadSize" value="20971500"/&gt; &lt;property name="defaultEncoding" value="UTF-8"/&gt; &lt;property name="resolveLazily" value="true"/&gt; &lt;/bean&gt; &lt;!-- ä½¿ç”¨jackjson,é»˜è®¤å°†è¿”å›žå¯¹è±¡è½¬æ¢ä¸º JSONï¼Œå¦‚æžœå‰é¢æ²¡æœ‰åœ¨pomæ–‡ä»¶ä¸­æ·»åŠ jacksonåŒ…çš„ä¸éœ€è¦è¿™ä¸ªé…ç½® --&gt; &lt;bean id="stringConverter" class="org.springframework.http.converter.StringHttpMessageConverter"&gt; &lt;property name="supportedMediaTypes"&gt; &lt;list&gt; &lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;bean id="jsonConverter" class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter"&gt;&lt;/bean&gt; &lt;bean class="org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter"&gt; &lt;property name="messageConverters"&gt; &lt;list&gt; &lt;ref bean="stringConverter" /&gt; &lt;ref bean="jsonConverter" /&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt;&lt;/beans&gt; 4. åŸºæœ¬é…ç½®å¼„å¥½äº†ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥é…ç½®æœåŠ¡å™¨ ç„¶åŽç‚¹OK 5. æŽ¥å£çŽ°åœ¨com.test.controllerä¸‹åˆ›å»ºUserControllerç±» ç„¶åŽåˆ›å»ºcom.test.entityåŒ…ï¼Œåœ¨åŒ…ä¸‹åˆ›å»ºä¸€ä¸ªUserEntityç±» UserController.java1234567891011121314@Controller@RequestMapping("/sshTest")//Contollerä¸‹æ‰€æœ‰æŽ¥å£ç»Ÿä¸€å…¥å£public class UserController &#123; //æ˜ å°„ä¸€ä¸ªaction @RequestMapping("/getuser") @ResponseBody//è¡¨ç¤ºç›´æŽ¥è¾“å‡ºè¿”å›žå†…å®¹ï¼Œä¸è¿›è¡Œjspæˆ–htmlè·³è½¬ï¼Œæœ¬ä¾‹æ˜¯ä¸ºäº†å†™æŽ¥å£ï¼Œè¿™é‡Œç›´æŽ¥è¿”å›žjson public UserEntity getUser() &#123; //åˆ›å»ºä¸€ä¸ªUserEntityï¼Œç›´æŽ¥è¿”å›ž UserEntity user = new UserEntity("heng", "123456"); return user; &#125;&#125; UserEntity.java1234567891011121314151617181920212223242526272829public class UserEntity &#123; private String username; private String password; public UserEntity(String username, String password) &#123; this.username = username; this.password = password; &#125; public UserEntity() &#123; &#125; public String getPassword() &#123; return password; &#125; public void setPassword(String password) &#123; this.password = password; &#125; public String getUsername() &#123; return username; &#125; public void setUsername(String username) &#123; this.username = username; &#125;&#125; æ³¨ï¼šè¿™é‡Œå¤§å®¶å¯ä»¥è‡ªå·±ç™¾åº¦ä¸‹å¦‚ä½•è®¾ç½®è‡ªåŠ¨å¯¼åŒ…å’Œæ‰‹åŠ¨å¯¼åŒ…ï¼Œä»¥åŠç±»å±žæ€§çš„getå’Œsetæ–¹æ³•ï¼Œä»¥åŠæž„é€ æ–¹æ³•æ€Žä¹ˆç”Ÿæˆçš„ã€‚ 6. å¯åŠ¨TomcatæœåŠ¡å™¨ï¼Œç„¶åŽæ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ http://localhost:8080/sshTest/getuser æŸ¥çœ‹æ˜¯å¦æˆåŠŸã€‚ springMVCé›†æˆå®Œæ¯•ï¼ŒæŽ¥ä¸‹æ¥å°±æ˜¯hibernateçš„é…ç½®äº† å››. Hibernateé…ç½®å…ˆæŠŠæˆ‘ä»¬éœ€è¦ç”¨çš„çª—å£è°ƒå‡ºæ¥ view-&gt; 1. é…ç½®hibernate.cfg.xmlé¦–å…ˆæˆ‘ä»¬è¦åˆ›å»ºhibernate.cfg.xmlæ–‡ä»¶ï¼Œideaæä¾›äº†ç›´æŽ¥è‡ªåŠ¨ç”Ÿæˆhibernateé…ç½®æ–‡ä»¶çš„åŠŸèƒ½ã€‚ç‚¹å‡»å³ä¸Šè§’çš„ Project Structure -&gt; Modules -&gt; + -&gt; Hibernate ç„¶åŽç‚¹OKï¼Œç»“æžœå¦‚ä¸‹å›¾ï¼š hibernate.cfg.xml ä»£ç å¦‚ä¸‹ï¼š hibernate.cfg.xml123456789101112131415161718192021222324&lt;?xml version='1.0' encoding='utf-8'?&gt;&lt;!DOCTYPE hibernate-configuration PUBLIC "-//Hibernate/Hibernate Configuration DTD//EN" "http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd"&gt;&lt;hibernate-configuration&gt; &lt;session-factory&gt; &lt;!--é…ç½®è¿žæŽ¥æ•°æ®åº“çš„åŸºæœ¬ä¿¡æ¯--&gt; &lt;property name="connection.username"&gt;root&lt;/property&gt; &lt;property name="connection.password"&gt;root&lt;/property&gt; &lt;!--mysqlé©±åŠ¨--&gt; &lt;property name="connection.driver_class"&gt;com.mysql.jdbc.Driver&lt;/property&gt; &lt;property name="connection.url"&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt; &lt;!-- é…ç½® Hibernate çš„åŸºæœ¬ä¿¡æ¯ --&gt; &lt;property name="dialect"&gt;org.hibernate.dialect.MySQLInnoDBDialect&lt;/property&gt; &lt;property name="show_sql"&gt;true&lt;/property&gt; &lt;property name="format_sql"&gt;true&lt;/property&gt; &lt;!-- æŒ‡å®šè‡ªåŠ¨ç”Ÿæˆæ•°æ®è¡¨çš„ç­–ç•¥ --&gt; &lt;property name="hbm2ddl.auto"&gt;update&lt;/property&gt; &lt;/session-factory&gt;&lt;/hibernate-configuration&gt; 2. hibernateé…ç½®æ–‡ä»¶ç”Ÿæˆäº†ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬å°±ä½¿ç”¨hibernateçš„è‡ªåŠ¨æ˜ å°„å‡ºæ•°æ®åº“å®žä½“ç±»çš„åŠŸèƒ½ï¼Œè¿™é‡Œideaéƒ½æä¾›äº†å¯è§†åŒ–æ“ä½œï¼Œéžå¸¸ç®€å•ï¼Œæˆ‘ä»¬è¦å…ˆä¸ºideaä¹Ÿé…ç½®ä¸€ä¸ªæ•°æ®åº“è¿žæŽ¥ï¼Œç‚¹å‡»Databaseã€‚ ç»“æžœå¦‚ä¸‹ï¼š åˆ°è¿™é‡Œideaçš„MySQLè¿žæŽ¥ä¹Ÿé…ç½®å¥½äº†ï¼ŒæŽ¥ä¸‹æ¥å°±å¯ä»¥ç›´æŽ¥ä½¿ç”¨å¯è§†åŒ–å·¥å…·åˆ›å»ºhibernateå®žä½“ç±»ï¼Œç‚¹å‡»Persistenceï¼Œå³é”®é…ç½®å¥½çš„hibernateâ€“&gt;Generate Persitence Mappingâ€“&gt;by Database schema æŽ¥ä¸‹æ¥è¿™å¼ è¡¨æ˜¯æˆ‘è‡ªå·±å·²ç»åˆ›å»ºçš„è¡¨ï¼š æ³¨ï¼šæƒ³è¦å‚è€ƒå¦‚ä½•å»ºè¡¨ï¼Œè¯·å‚è€ƒæœ€åŽé™„å½• æŽ¥ä¸‹æ¥å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆçš„æŒä¹…åŒ–æ³¨è§£ç±»ï¼š åˆ°è¿™é‡Œæˆ‘ä»¬çš„hibernateçš„é›†æˆä¹Ÿå·²ç»å®Œæˆï¼ŒæŽ¥ä¸‹æ¥åšä¸€æ¬¡å¯¹studentInfoè¡¨çš„æŸ¥è¯¢æ“ä½œï¼Œå¹¶å°†æŸ¥è¯¢åˆ°çš„æ•°æ®ä»¥jsonçš„å½¢å¼è¿”å›žåœ¨æµè§ˆå™¨ä¸Šã€‚ 1.æ–°å»ºcom.test.daoåŒ…2.åˆ›å»ºä¸€ä¸ªStudentDaoçš„é€»è¾‘ç±»ï¼Œç”¨äºŽå¯¹studentInfoè¡¨çš„å¢žåˆ æ”¹æŸ¥ StudnetDao.java1234567891011121314151617181920212223242526272829303132333435public class StudentDao &#123; /** * æŸ¥è¯¢è¡¨ä¸­æ‰€æœ‰æ•°æ® * */ public List&lt;StudentinfoEntity&gt; query() &#123; Session session = null; List&lt;StudentinfoEntity&gt; list = null; try &#123; //å®žä¾‹åŒ–Configurationï¼Œè¿™è¡Œä»£ç é»˜è®¤åŠ è½½hibernate.cfg.xmlæ–‡ä»¶ Configuration conf = new Configuration().configure(); //ä»¥Configurationåˆ›å»ºSessionFactory SessionFactory sf = conf.buildSessionFactory(); //å®žä¾‹åŒ–Session session = sf.openSession(); String hql = "from StudentinfoEntity"; Query query = session.createQuery(hql); list = query.list(); &#125; catch (HibernateException e) &#123; e.printStackTrace(); return null; &#125; finally &#123; if (session != null) &#123; session.close(); &#125; &#125; return list; &#125;&#125; æŽ¥ä¸‹æ¥å°±åœ¨åŒ…controllerä¸‹åˆ›å»ºä¸€ä¸ªStudentController.javaç±»ï¼Œè°ƒç”¨StudentDaoæŽ¥å£å®žçŽ°æŸ¥è¯¢å­¦ç”Ÿä¿¡æ¯ï¼š StudentController.java123456789101112131415@Controller@RequestMapping("/student")//Contollerä¸‹æ‰€æœ‰æŽ¥å£ç»Ÿä¸€å…¥å£public class StudentController &#123; //æ˜ å°„ä¸€ä¸ªaction @RequestMapping("/studentList") @ResponseBody public List&lt;StudentinfoEntity&gt; getUser() &#123; StudentDao dao = new StudentDao(); //æŸ¥è¯¢studentInfoçš„æ‰€æœ‰æ•°æ®ï¼Œè¿”å›žjsonæ ¼å¼ return dao.query(); &#125;&#125; äº”. OKï¼Œæœ€åŽä¸€æ­¥é‡å¯TomcatæœåŠ¡å™¨ï¼Œåœ¨æµè§ˆå™¨åœ°å€æ ï¼Œè¾“å…¥ http://localhost:8080/student/studentList é™„å½•ï¼šæ³¨ï¼šæˆ‘å†™çš„æ•°æ®åº“åä¸ºtestï¼Œè‡ªå·±æ”¹ studenetInfoè¡¨åˆ›å»ºï¼š 123456789101112131415SET FOREIGN_KEY_CHECKS=0;-- ------------------------------ Table structure for studentinfo-- ----------------------------DROP TABLE IF EXISTS `studentinfo`;CREATE TABLE `studentinfo` ( `id` int(11) NOT NULL, `name` varchar(255) NOT NULL, `passwrod` varchar(255) NOT NULL, `age` int(11) NOT NULL, `address` varchar(255) NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8; æ•°æ®æ’å…¥ï¼š 12345INSERT INTO `studentinfo` VALUES (1, 'æ’', '123', 20, 'æˆéƒ½');INSERT INTO `studentinfo` VALUES (2, 'aaaa', '123', 20, 'åŒ—äº¬');INSERT INTO `studentinfo` VALUES (3, 'bbbb', '123', 20, 'ä¸Šæµ·');INSERT INTO `studentinfo` VALUES (4, 'cccc', '123456', 20, 'æ·±åœ³');]]></content>
      <categories>
        <category>Java</category>
        <category>Java EE</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Java EE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IDEAå¼€å‘å·¥å…·å®‰è£…ä¸Žç ´è§£]]></title>
    <url>%2F2018%2F06%2F19%2FIDEA%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E5%AE%89%E8%A3%85%E4%B8%8E%E7%A0%B4%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[è¯´æ˜Žï¼šæœ¬ç« ä¸“é—¨ä»‹ç»Ideaå¼€å‘å·¥å…·çš„å®‰è£…ä¸Žç ´è§£ï¼ˆå½“ç„¶ä½ è¦æ˜¯æœ‰é’±ä»»æ€§ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ç ´è§£ï¼‰ å®‰è£…æ­¥éª¤1. è¿›å…¥IDEAå®˜ç½‘ä¸‹è½½å®‰è£…åŒ… å®˜ç½‘é“¾æŽ¥ 1.1åœ¨é¦–é¡µç‚¹å‡»downloadä¸‹è½½å®‰è£…åŒ…ï¼Œæ³¨æ„æˆ‘ä»¬è¿™é‡Œæ˜¯ä¸‹è½½å®Œæ•´ç‰ˆï¼ˆUltimateï¼‰ï¼Œå› ä¸ºç¤¾åŒºåŠžä¸æ”¯æŒJava EEã€Springå¼€å‘ã€‚ 1.2å®‰è£…è¿‡ç¨‹éƒ½æ˜¯å‚»ç“œå¼å®‰è£…ï¼Œæ²¡æœ‰å…¶å®ƒéœ€æ±‚ä¸€ç›´nextå°±è¡Œã€‚ï¼ˆæ³¨æ„ï¼šå…¶ä¸­æœ‰ä¸ªçŽ¯èŠ‚é€‰æ‹©64ä½ç‰ˆå°±è¡Œï¼Œå…¶å®ƒå¯ä»¥ä¸ç”¨é€‰ï¼ˆ.java .kt ç­‰ç­‰ï¼‰ï¼‰ 2.å®‰è£…å®ŒæˆåŽé…ç½®2.1 ä¸»é¢˜æœ‰é»˜è®¤é»‘è‰²ï¼Œè¿˜æœ‰å…¶å®ƒå¯è‡ªå®šä¹‰2.2 æ¿€æ´» é¦–å…ˆï¼Œç¼–è¾‘C:\Windows\System32\drivers\etcä¸‹çš„hostsæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶æœ€åŽåŠ å…¥ä¸‹é¢ä¸€è¡Œï¼š 0.0.0.0 account.jetbrains.com å¦‚æžœä½ æ²¡æœ‰æƒé™ä¿®æ”¹ï¼Œå…ˆå°†hostsæ–‡ä»¶å‰ªåˆ‡åˆ°æ¡Œé¢ï¼Œåœ¨æ¡Œé¢ä¸Šæ‰“å¼€æ–‡ä»¶ï¼Œåœ¨è¿›è¡Œæ·»åŠ ä¸Šé¢ä»£ç ã€‚ç„¶åŽåœ¨å‰ªåˆ‡å›žåŽ»ã€‚ åœ¨æ¿€æ´»ç•Œé¢é€‰æ‹©Activation codeæ–¹å¼æ¿€æ´»ï¼Œå¹¶å¡«å…¥ä¸‹åˆ—æ¿€æ´»ç ï¼š EB101IWSWD-eyJsaWNlbnNlSWQiOiJFQjEwMUlXU1dEIiwibGljZW5zZWVOYW1lIjoibGFuIHl1IiwiYXNzaWduZWVOYW1lIjoiIiwiYXNzaWduZWVFbWFpbCI6IiIsImxpY2Vuc2VSZXN0cmljdGlvbiI6IkZvciBlZHVjYXRpb25hbCB1c2Ugb25seSIsImNoZWNrQ29uY3VycmVudFVzZSI6ZmFsc2UsInByb2R1Y3RzIjpbeyJjb2RlIjoiSUkiLCJwYWlkVXBUbyI6IjIwMTgtMTAtMTQifSx7ImNvZGUiOiJSUzAiLCJwYWlkVXBUbyI6IjIwMTgtMTAtMTQifSx7ImNvZGUiOiJXUyIsInBhaWRVcFRvIjoiMjAxOC0xMC0xNCJ9LHsiY29kZSI6IlJEIiwicGFpZFVwVG8iOiIyMDE4LTEwLTE0In0seyJjb2RlIjoiUkMiLCJwYWlkVXBUbyI6IjIwMTgtMTAtMTQifSx7ImNvZGUiOiJEQyIsInBhaWRVcFRvIjoiMjAxOC0xMC0xNCJ9LHsiY29kZSI6IkRCIiwicGFpZFVwVG8iOiIyMDE4LTEwLTE0In0seyJjb2RlIjoiUk0iLCJwYWlkVXBUbyI6IjIwMTgtMTAtMTQifSx7ImNvZGUiOiJETSIsInBhaWRVcFRvIjoiMjAxOC0xMC0xNCJ9LHsiY29kZSI6IkFDIiwicGFpZFVwVG8iOiIyMDE4LTEwLTE0In0seyJjb2RlIjoiRFBOIiwicGFpZFVwVG8iOiIyMDE4LTEwLTE0In0seyJjb2RlIjoiUFMiLCJwYWlkVXBUbyI6IjIwMTgtMTAtMTQifSx7ImNvZGUiOiJDTCIsInBhaWRVcFRvIjoiMjAxOC0xMC0xNCJ9LHsiY29kZSI6IlBDIiwicGFpZFVwVG8iOiIyMDE4LTEwLTE0In0seyJjb2RlIjoiUlNVIiwicGFpZFVwVG8iOiIyMDE4LTEwLTE0In1dLCJoYXNoIjoiNjk0NDAzMi8wIiwiZ3JhY2VQZXJpb2REYXlzIjowLCJhdXRvUHJvbG9uZ2F0ZWQiOmZhbHNlLCJpc0F1dG9Qcm9sb25nYXRlZCI6ZmFsc2V9-Gbb7jeR8JWOVxdUFaXfJzVU/O7c7xHQyaidCnhYLp7v32zdeXiHUU7vlrrm5y9ZX0lmQk3plCCsW+phrC9gGAPd6WDKhkal10qVNg0larCR2tQ3u8jfv1t2JAvWrMOJfFG9kKsJuw1P4TozZ/E7Qvj1cupf/rldhoOmaXMyABxNN1af1RV3bVhe4FFZe0p7xlIJF/ctZkFK62HYmh8V3AyhUNTzrvK2k+t/tlDJz2LnW7nYttBLHld8LabPlEEjpTHswhzlthzhVqALIgvF0uNbIJ5Uwpb7NqR4U/2ob0Z+FIcRpFUIAHEAw+RLGwkCge5DyZKfx+RoRJ/In4q/UpA==-MIIEPjCCAiagAwIBAgIBBTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTE1MTEwMjA4MjE0OFoXDTE4MTEwMTA4MjE0OFowETEPMA0GA1UEAwwGcHJvZDN5MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxcQkq+zdxlR2mmRYBPzGbUNdMN6OaXiXzxIWtMEkrJMO/5oUfQJbLLuMSMK0QHFmaI37WShyxZcfRCidwXjot4zmNBKnlyHodDij/78TmVqFl8nOeD5+07B8VEaIu7c3E1N+e1doC6wht4I4+IEmtsPAdoaj5WCQVQbrI8KeT8M9VcBIWX7fD0fhexfg3ZRt0xqwMcXGNp3DdJHiO0rCdU+Itv7EmtnSVq9jBG1usMSFvMowR25mju2JcPFp1+I4ZI+FqgR8gyG8oiNDyNEoAbsR3lOpI7grUYSvkB/xVy/VoklPCK2h0f0GJxFjnye8NT1PAywoyl7RmiAVRE/EKwIDAQABo4GZMIGWMAkGA1UdEwQCMAAwHQYDVR0OBBYEFGEpG9oZGcfLMGNBkY7SgHiMGgTcMEgGA1UdIwRBMD+AFKOetkhnQhI2Qb1t4Lm0oFKLl/GzoRykGjAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBggkA0myxg7KDeeEwEwYDVR0lBAwwCgYIKwYBBQUHAwEwCwYDVR0PBAQDAgWgMA0GCSqGSIb3DQEBCwUAA4ICAQC9WZuYgQedSuOc5TOUSrRigMw4/+wuC5EtZBfvdl4HT/8vzMW/oUlIP4YCvA0XKyBaCJ2iX+ZCDKoPfiYXiaSiH+HxAPV6J79vvouxKrWg2XV6ShFtPLP+0gPdGq3x9R3+kJbmAm8w+FOdlWqAfJrLvpzMGNeDU14YGXiZ9bVzmIQbwrBA+c/F4tlK/DV07dsNExihqFoibnqDiVNTGombaU2dDup2gwKdL81ua8EIcGNExHe82kjF4zwfadHk3bQVvbfdAwxcDy4xBjs3L4raPLU3yenSzr/OEur1+jfOxnQSmEcMXKXgrAQ9U55gwjcOFKrgOxEdek/Sk1VfOjvS+nuM4eyEruFMfaZHzoQiuw4IqgGc45ohFH0UUyjYcuFxxDSU9lMCv8qdHKm+wnPRb0l9l5vXsCBDuhAGYD6ss+Ga+aDY6f/qXZuUCEUOH3QUNbbCUlviSz6+GiRnt1kA9N2Qachl+2yBfaqUqr8h7Z2gsx5LcIf5kYNsqJ0GavXTVyWh7PYiKX4bs354ZQLUwwa/cG++2+wNWP+HtBhVxMRNTdVhSm38AknZlD+PTAsWGu9GyLmhti2EnVwGybSD2Dxmhxk3IPCkhKAK+pl0eWYGZWG3tJ9mZ7SowcXLWDFAk0lRJnKGFMTggrWjV8GYpw5bq23VmIqqDLgkNzuoog== æ³¨ï¼šå¦‚æžœè¯¥æ¿€æ´»ç æœ‰é—®é¢˜å¯åˆ° http://idea.lanyus.com/ ï¼ŒèŽ·å–æ¿€æ´»ç  æœ€åŽï¼šå®Œæˆå®‰è£…ã€å¯ä»¥å»ºä¸€ä¸ªç®€å•çš„javaé¡¹ç›®æµ‹è¯•ä¸€ä¸‹å®‰è£…æ˜¯å¦æˆåŠŸâ€¦]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitHub + Hexo æ­å»º]]></title>
    <url>%2F2018%2F06%2F15%2FGitHub%2BHexo%E6%90%AD%E5%BB%BA%2F</url>
    <content type="text"><![CDATA[è¯´æ˜Žè¿™é‡Œè¿˜æ˜¯ç®€å•çš„è®°å½•ä¸€ä¸‹åŸºäºŽGitHub+Hexo+Nextçš„ä¸ªäººåšå®¢æ­å»ºæŠŠï¼Œé˜²æ­¢ä»¥åŽå¿˜äº†â€¦ æ­å»ºæ­¥éª¤ 1. Gitä¸‹è½½ä¸Žå®‰è£…Gitæ˜¯ç›®å‰éžå¸¸å—æ¬¢è¿Žçš„ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æŽ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºŽæ•æ·é«˜æ•ˆåœ°å¤„ç†ä»»ä½•æˆ–å¤§æˆ–å°çš„é¡¹ç›®ã€‚å…·ä½“çš„ä¸€äº›ä»‹ç»å’Œä½¿ç”¨çš„ä¸å…·ä½“å†™äº†ï¼Œè‡ªå·±çœ‹æ•™ç¨‹ã€‚ èœé¸Ÿæ•™ç¨‹é“¾æŽ¥å®˜ç½‘ä¸‹è½½é“¾æŽ¥ 2. GitHub è´¦å·æ³¨å†ŒgitHubæ˜¯ä¸€ä¸ªé¢å‘å¼€æºåŠç§æœ‰è½¯ä»¶é¡¹ç›®çš„æ‰˜ç®¡å¹³å°ï¼Œå› ä¸ºåªæ”¯æŒgit ä½œä¸ºå”¯ä¸€çš„ç‰ˆæœ¬åº“æ ¼å¼è¿›è¡Œæ‰˜ç®¡ï¼Œæ•…ågitHubã€‚ä½œä¸ºä¸€ä¸ªç¨‹åºçŒ¿ï¼ŒçŽ°åœ¨åŸºæœ¬éƒ½æœ‰ä¸€ä¸ªGitHubè´¦å·ï¼Œæ¥æ‰˜ç®¡è‡ªå·±çš„ä»£ç ï¼Œå¦‚æžœä½ æ²¡æœ‰é‚£å°±Outäº†ã€‚ å®˜æ–¹åœ°å€é“¾æŽ¥ 3. Node.js ä¸‹è½½ä¸Žå®‰è£…Node.jsä¹Ÿæ˜¯ç›®å‰ç‰¹åˆ«ç«çš„ä¸€ä¸ªåŽå°æœåŠ¡ç«¯è„šæœ¬è¯­è¨€ã€‚ç®€å•çš„è¯´å°±æ˜¯è¿è¡Œåœ¨æœåŠ¡ç«¯çš„JavaScriptã€‚åŸºäºŽChrome JavaScriptè¿è¡Œæ—¶å»ºç«‹çš„ä¸€ä¸ªå¹³å°ã€‚è¿è¡Œé€Ÿåº¦å¿«ã€æ€§èƒ½éžå¸¸å¥½ã€‚ èœé¸Ÿæ•™ç¨‹é“¾æŽ¥å®˜ç½‘ä¸‹è½½é“¾æŽ¥ 4. æ­å»ºä¸ªäººåšå®¢Hexo å®‰è£…Hexoï¼Œåœ¨æœ¬åœ°ç”µè„‘éšä¸€ä¸ªç£ç›˜æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚å–åBlogæ¥å­˜æ”¾è‡ªå·±çš„åšå®¢ã€‚åœ¨æ–‡ä»¶å¤¹å†…å³å‡»ç‚¹å‡»Git Bash Hereè¿›å…¥å‘½ä»¤è¡Œçª—å£ï¼Œæ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š 1npm install -g hexo-cli åˆå§‹åŒ–Hexoï¼Œå¾—åˆ°hexoæ–‡ä»¶å¤¹ï¼Œç”¨äºŽå­˜æ”¾Hexoåšå®¢çš„æ‰€æœ‰æ–‡ä»¶ã€‚è¿˜æ˜¯åœ¨åˆšåˆšé‚£ä¸ªçª—å£ä¸­æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š 1hexo init hexo é…ç½®Hexoï¼Œå®‰è£…hexoä¾èµ–æ–‡ä»¶,ç”Ÿæˆéƒ¨ç½²æ–‡ä»¶ï¼Œåˆ†åˆ«æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š 123cd hexonpm installhexo generate ç»§ç»­åœ¨å‘½ä»¤è¡Œçª—å£è¾“å…¥ä»¥ä¸‹ä»£ç ï¼Œå¯åŠ¨æœåŠ¡å™¨(hexo server == hexo s)ï¼š 1hexo server éšä¾¿æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨ï¼Œåœ°å€æ è¾“å…¥ http://localhost:4000/ ï¼Œå¦‚æžœæˆåŠŸæ˜¾ç¤ºHexoé¡µé¢ï¼Œåˆ™æ­å»ºæˆåŠŸã€‚ å°†Hexo åšå®¢éƒ¨ç½²åˆ°GitHubä¸­ æ–°å»ºä¸€ä¸ªä»“åº“ï¼Œå‘½åä¸ºï¼šusername.github.id åœ¨æœ¬åœ°å‘½ä»¤è¡Œé…ç½®Gitï¼š åœ¨Blogæ–‡ä»¶å¤¹ç›®å½•å³å‡»æ‰“å¼€Git Bashçª—å£ï¼Œè¾“å…¥ä»¥ä¸‹å‘½å git config -- global user.name "GitHub ç”¨æˆ·å" git config -- global user.email "GitHub é‚®ç®±" é‡ç‚¹ï¼šç”Ÿæˆ SSH KEYï¼Œå…¶å®žå°±æ˜¯ç”Ÿæˆä¸€ä¸ªå…¬é’¥å’Œå¯†é’¥ï¼ŒGitHubéœ€è¦ä¸€ä¸ªå¯†é’¥æ‰èƒ½ä¸Žæœ¬åœ°ç›¸è¿žæŽ¥ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½åï¼Œå¹¶ä¸”è¿žç»­æŒ‰3æ¬¡å›žè½¦ç”Ÿæˆå¯†é’¥ï¼ˆæ³¨ï¼šC ä¸ºå¤§å†™ï¼‰ï¼š ssh-keygen -t rsa -C "é‚®ç®±åœ°å€" åŽé¢ä¼šæœ‰ä¸€ä¸ªåœ°å€ï¼Œå¯ä»¥çœ‹åˆ°ã€‚å°±æ˜¯æˆ‘ä»¬ç”Ÿæˆçš„å¯†é’¥ä¿å­˜åœ°å€ã€‚å³ï¼šC:/Users/ç”¨æˆ·å/.sshæ–‡ä»¶ä¸­ã€‚æ‰“å¼€è¿™ä¸ªç›®å½•æ‰¾åˆ° id_rsa.pub æ–‡ä»¶ï¼Œå¤åˆ¶å…¨éƒ¨å†…å®¹ã€‚ åœ¨ç½‘é¡µæ‰“å¼€GitHubï¼Œä¾æ¬¡ç‚¹å‡» æˆ‘çš„å¤´åƒ - Settings - SSH and GPG keys - New SSH keyï¼Œå°†åˆšåˆšå¤åˆ¶çš„å¯†é’¥å†…å®¹ç²˜è´´åˆ°keyçš„è¾“å…¥æ¡†ï¼Œç„¶åŽç‚¹å‡»Add Keyï¼Œé…ç½®æˆåŠŸã€‚ ä¿®æ”¹hexo æ–‡ä»¶ä¸‹çš„_config.yml ï¼ˆç«™ç‚¹é…ç½®æ–‡ä»¶ï¼‰,ä¿®æ”¹ deploy å±žæ€§ä»£ç ï¼Œå°†æœ¬åœ° hexo é¡¹ç›®æ‰˜ç®¡åˆ° GitHub ä¸Šï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š deploy: type: git #éƒ¨ç½²çš„ç±»åž‹ repository: git@github.com:zqiheng/zqiheng.github.io.git # ä»“åº“åœ°å€ branch: master #åˆ†æ”¯åç§° message: hexo deploy #æäº¤ä¿¡æ¯ ç„¶åŽæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå®‰è£…hexo-deployer-gitæ’ä»¶ï¼Œå¿«é€ŸæŠŠä»£ç æ‰˜ç®¡åˆ°GitHubä¸Šé¢ npm install hexo-deployer-git --save æœ€åŽæ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼Œå°†hexoé¡¹ç›®æ‰˜ç®¡åˆ°GitHubå¹³å°ä¸Š hexo clean hexo generate hexo deploy æˆ–ï¼š hexo clean hexo g hexo d ç„¶åŽåœ¨æµè§ˆå™¨è¾“å…¥ï¼šhttps://username.github.io/ è®¿é—®ï¼Œå¯ä»¥çœ‹åˆ°è‡ªå·±éƒ¨ç½²çš„åšå®¢ æœ€åŽè¯´ä¸€ä¸‹Hexoå…¨å±€é…ç½®æ–‡ä»¶ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293# Hexo Configuration## Docs: https://hexo.io/docs/configuration.html## Source: https://github.com/hexojs/hexo/# Site ç«™ç‚¹ä¿¡æ¯é…ç½®title: Heng Bolg #ç«™ç‚¹åsubtitle: ä¸–ä¸Šæœ¬æ²¡æœ‰è·¯ï¼Œèµ°çš„äººå¤šäº†ä¹Ÿå°±æœ‰äº†è·¯... #ç«™ç‚¹å‰¯æ ‡é¢˜description: ä¸»è¦è®°å½•è‡ªå·±çš„å­¦ä¹ è®°å½•ä¸Žå¿ƒå¾—ï¼Œåœ¨æ ¡å­¦ç”Ÿä¸€æžš... #ç«™ç‚¹ä¿¡æ¯ç®€ä»‹keywords:author: æ’ #ç«™ç‚¹ä½œè€…language: zh-CN #ç«™ç‚¹è¯­è¨€ï¼Œdefault é»˜è®¤æ˜¯è‹±è¯­ï¼Œ zh-CN æ˜¯ä¸­æ–‡timezone: #æ—¶åŒºï¼Œä¸å¡«avatar: /images/logo.png #å›¾ç‰‡# URL åšå®¢åœ°å€## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'url: https://zqiheng.github.ioroot: /permalink: :year/:month/:day/:title/permalink_defaults:# Directory ç›®å½•è®¾ç½®source_dir: source #æºæ–‡ä»¶public_dir: public #ç”Ÿæˆçš„ç½‘é¡µæ–‡ä»¶tag_dir: tags #æ ‡ç­¾archive_dir: archives #å½’æ¡£category_dir: categories #åˆ†ç±»code_dir: downloads/code #i18n_dir: :lang #å›½é™…åŒ–skip_render:# Writing æ–‡ç« å¸ƒå±€new_post_name: :title.md # File name of new postsdefault_layout: post #é»˜è®¤æ¨¡æ¿titlecase: false # æ ‡é¢˜è½¬æ¢æˆå¤§å†™external_link: true # æ–°æ ‡ç­¾é¡µé‡Œæ‰“å¼€è¿žæŽ¥filename_case: 0render_drafts: falsepost_asset_folder: falserelative_link: falsefuture: truehighlight: #ä»£ç å—è®¾ç½® enable: true #è¯­æ³•é«˜äº® line_number: true #æ˜¾ç¤ºè¡Œå· auto_detect: false tab_replace: # Home page setting é¡µè®¾ç½®# path: Root path for your blogs index page. (default = '')# per_page: Posts displayed per page. (0 = disable pagination)# order_by: Posts order. (Order by date descending by default)index_generator: path: '' per_page: 4 #æ¯é¡µæ–‡ç« æ•°é‡ order_by: page #-date # Category &amp; Tag åˆ†ç±»å’Œæ ‡ç­¾default_category: uncategorizedcategory_map:tag_map:# Date / Time format æ—¥æœŸ/æ ¼å¼## Hexo uses Moment.js to parse and display date## You can customize the date format as defined in## http://momentjs.com/docs/#/displaying/format/date_format: YYYY-MM-DDtime_format: HH:mm:ss# Pagination å½’æ¡£æ˜¾ç¤º## Set per_page to 0 to disable paginationper_page: 10pagination_dir: page# Extensions æ‰©å±•## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: next# Deployment ç«™ç‚¹éƒ¨ç½²åˆ°GitHubä¸Š## Docs: https://hexo.io/docs/deployment.htmldeploy: type: git #éƒ¨ç½²çš„ç±»åž‹ repository: git@github.com:zqiheng/zqiheng.github.io.git # ä»“åº“åœ°å€ branch: master #åˆ†æ”¯åç§° message: hexo #æäº¤ä¿¡æ¯#æŸ¥æ‰¾search: path: search.xml field: post format: html limit: 10000 5. Nextä¸‹è½½ä¸Žé…ç½®â€”æ›´æ–°æ—¶é—´ï¼š2018.06.17â€” ä¸‹è½½Nextä¸»é¢˜ï¼Œåœ¨Hexoç›®å½•ä¸‹å³å‡»è¿›å…¥Git Bash Here çª—å£ï¼Œè¾“å…¥ä¸‹åˆ—å‘½ä»¤ 1git clone https://github.com/iissnan/hexo-theme-next themes/next å¯åŠ¨ä¸»é¢˜ å½“å…‹éš†ä¸‹è½½å®ŒæˆåŽï¼Œæ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶(hexoç›®å½•ä¸‹çš„_config.yml)ï¼Œæ‰¾åˆ° themeå­—æ®µï¼Œå¹¶å°†å…¶å€¼æ›´æ”¹ä¸ºnext 1234# Extensions æ‰©å±•## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: next é‡æ–°å¯åŠ¨æœåŠ¡å™¨ï¼Œåœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥http://localhost:4000è®¿é—®ï¼Œæ£€æµ‹é…ç½®æ˜¯å¦æˆåŠŸã€‚ ä¸»é¢˜æ–‡ä»¶é…ç½®ï¼Œç›®å½•ä¸ºï¼ˆhexo\themes\nextï¼‰ä¸‹çš„_config.ymlæ–‡ä»¶ã€‚ æˆ‘ä½¿ç”¨çš„ä¸»é¢˜æ ·å¼æ˜¯ï¼š 12345# Schemes#scheme: Muse#scheme: Mistscheme: Pisces#scheme: Gemini é…ç½®å·¦ä¾§å¯¼èˆªæ èœå•æŒ‰é’®ï¼Œåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ°menuå±žæ€§ï¼Œåšå¦‚ä¸‹é…ç½®ï¼š 123456789menu: home: / || home #é¦–é¡µï¼ŒåŽé¢çš„è¡¨ç¤ºå›¾æ ‡ categories: /categories/ || th #åˆ†ç±» archives: /archives/ || archive #å½’æ¡£ tags: /tags/ || tags #æ ‡ç­¾ about: /about/ || user #å…³äºŽ #schedule: /schedule/ || calendar #sitemap: /sitemap.xml || sitemap #commonweal: /404/ || heartbeat ä¸ºæ ‡ç­¾categoriesã€tagsã€aboutï¼Œåˆ›å»ºç›¸åº”çš„ç•Œé¢ï¼Œä»£ç å¦‚ä¸‹ï¼š 123hexo new page &apos;categories&apos;hexo new page &apos;tags&apos;hexo new page &apos;about&apos; åœ¨ sourceç›®å½•ä¸‹ï¼Œä¼šçœ‹åˆ°åˆšåˆšç”Ÿæˆçš„ä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼Œä¾æ¬¡æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œç»™æ¯ä¸ªindex.mdæ–‡ä»¶æ·»åŠ ä¸Štypeå­—æ®µã€‚ é…ç½®å·¦ä¾§å¯¼èˆªæ æœç´¢æŒ‰é’® ï¼ˆ1ï¼‰ å®‰è£… hexo-generator-searchdb ï¼Œåœ¨Git Bash Hereçª—å£æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š 1npm install hexo-generator-searchdb --save ï¼ˆ2ï¼‰ æ‰“å¼€å…¨å±€é…ç½®æ–‡ä»¶ï¼Œåœ¨æœ€åŽæ–°å¢žä¸‹é¢ä»£ç ï¼› 12345search: path: search.xml field: post format: html limit: 10000 ï¼ˆ3ï¼‰ æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ°local_searchå±žæ€§ï¼Œå¼€å¯æœ¬åœ°æœç´¢åŠŸèƒ½ 1234567local_search: enable: true # if auto, trigger search by changing input # if manual, trigger search by pressing enter key or search button trigger: auto # show top n results per article, show all results by setting to -1 top_n_per_article: 1 ï¼ˆ4ï¼‰ é‡æ–°éƒ¨ç½²é¡¹ç›®ï¼Œå¹¶å‘å¸ƒåˆ°GitHubä¸Š 123hexo cleanhexo ghexo d &emsp;&emsp;åŸºæœ¬é…ç½®å°±æ˜¯è¿™æ ·ï¼Œå…¶å®ƒåŠŸèƒ½åŽé¢å†è¡¥å……]]></content>
      <categories>
        <category>Hexo</category>
        <category>ä¸ªäººåšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello Hexo]]></title>
    <url>%2F2018%2F06%2F15%2FHello-Hexo%2F</url>
    <content type="text"><![CDATA[Hexoç®€ä»‹ï¼šç®€è€Œè¨€ä¹‹ï¼ŒHexo æ˜¯ä¸€ä¸ªåŸºäºŽ Node.js çš„é™æ€åšå®¢ç¨‹åºï¼Œå¯ä»¥æ–¹ä¾¿çš„ç”Ÿæˆé™æ€ç½‘é¡µæ‰˜ç®¡åœ¨githubå’ŒHerokuä¸Šã€‚å…¶ä½œè€…æ˜¯æ¥è‡ªå°æ¹¾çš„tommy351å¤§ç¥žã€‚Hexo å› å…¶ç•Œé¢ç®€æ´ã€ç¾Žè§‚ä¸”å¯¹å„ç±»äººç¾¤ï¼ˆä¸åªæ˜¯ç¨‹åºçŒ¿ï¼‰å‹å¥½è€Œå¹¿å—æ¬¢è¿Žï¼Œå£°æœ›ä¸äºšäºŽå¤§åé¼Žé¼Žçš„WordPressã€‚ è¯´æ˜Žä¸ºä»€ä¹ˆéœ€è¦ä¸€ä¸ªåšå®¢å¯¹äºŽä¸ªäººç½‘ç«™æ¥è¯´,æ²¡æœ‰æ¯”åšå®¢æ›´åˆé€‚çš„å½¢å¼äº†ã€‚åœ¨åšå®¢ä¸­,æ–‡ç« æ‰æ˜¯æœ€ä¸»è¦çš„,ä¸€åˆ‡éƒ½æ˜¾å¾—ä¸»æ¬¡åˆ†æ˜Ž,å¹²å‡€åˆ©è½ã€‚ç›¸æ¯”ä¹‹ä¸‹,è®ºå›ä¸­ä¸»é¢˜å’Œå›žå¤é±¼é¾™æ··æ‚,é˜…è¯»ä½“éªŒéžå¸¸å·®ã€‚åŒæ—¶,åšå®¢æ¯”è®ºå›çš„æ•°æ®åº“å°å¾ˆå¤š,ä¾¿äºŽç»´æŠ¤ã€‚ ä¸ºä»€ä¹ˆæ˜¯é™æ€åšå®¢å¾ˆå¤šäººé€‰æ‹©åœ¨è™šæ‹Ÿä¸»æœºæˆ–vpsä¸Šé¢æ­å»ºåŠ¨æ€åšå®¢ã€‚ç‹¬ç«‹åšå®¢å¦‚æ­¤éº»çƒ¦çš„ç»´æŠ¤å·¥ä½œ,èƒ½ä¸èƒ½å‡è½»ä¸€äº›å‘¢?æ­£å¦‚é˜®ä¸€å³°å‰è¾ˆæ‰€è¯´,bloggeråˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µã€‚æœ€å¼€å§‹,æ˜¯é—¨æˆ·åšå®¢ã€‚ä¹‹åŽ,æ˜¯ç‹¬ç«‹åšå®¢ã€‚æœ€åŽ,è§‰å¾—ç‹¬ç«‹åšå®¢è‡ªå·±ç®¡ç†èµ·æ¥è´¹åŠ²,ä¾¿æ‰¾ä¸ªåˆ«äººæ¥ç®¡çš„ç©ºé—´,è‡ªå·±è´Ÿè´£å†™å°±å¥½ã€‚å¦‚æžœæˆ‘ä»¬èƒ½å¤Ÿæ‰¾åˆ°è¿™æ ·çš„ç©ºé—´,åœ¨è‡ªå·±ä¿ç•™æœ€å¤§æŽ§åˆ¶æƒå‰æä¸‹,ç”±åˆ«äººæ‰˜ç®¡,ä¼šçœåŽ»ä¸å°‘äº‹æƒ…ã€‚ é™æ€åšå®¢ç¼–è¯‘ä¹‹åŽæ˜¯çº¯htmlé¡µé¢,ä¼˜ç‚¹å°±æ˜¯æ”¯æŒå®ƒçš„çŽ¯å¢ƒååˆ†å¥½æ‰¾,ä¾‹å¦‚githubã€gitcafeç­‰ç«™ç‚¹éƒ½æ”¯æŒé™æ€é¡µé¢æ‰˜ç®¡,è‡ªç„¶æ˜¯æˆ‘ä»¬çš„é¦–é€‰äº†ã€‚ ä½†æ˜¯é™æ€åšå®¢å¹¶éžæ²¡æœ‰ç¼ºç‚¹ã€‚åŠ¨æ€åšå®¢æ›´æ–°æ–‡ç« æ—¶,è„šæœ¬æ˜¯ä¸å˜çš„,åªéœ€è¦æ›´æ–°æ•°æ®åº“ã€‚é™æ€åšå®¢è¦é¢‘ç¹æ”¹åŠ¨æ–‡ä»¶,ä¸æ”¯æŒå¢žé‡å¼ä¸Šä¼ çš„ä¸œè¥¿,æ¯”å¦‚ftp,å°±éš¾äºŽç®¡ç†ã€‚æ­¤å¤–,è¿˜è¦ååˆ†ç†Ÿæ‚‰gitå„ç§å‘½ä»¤,æ‰èƒ½éƒ¨ç½²é¡µé¢ã€‚]]></content>
      <categories>
        <category>Hexo</category>
        <category>ç®€ä»‹</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
</search>
